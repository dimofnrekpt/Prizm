import { __decorate, __metadata } from "tslib";
import { ChangeDetectorRef, Component, ContentChild, forwardRef, Inject, Injector, Input, Optional, TemplateRef, ViewChild, } from '@angular/core';
import { FormsModule, NG_VALUE_ACCESSOR } from '@angular/forms';
import { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';
import { PrizmDayRange } from '../../../@core/date-time/day-range';
import { PrizmDay } from '../../../@core/date-time/day';
import { prizmDefaultProp } from '@prizm-ui/core';
import { PRIZM_ALWAYS_FALSE_HANDLER } from '../../../constants/always-false-handler';
import { PRIZM_DEFAULT_MARKER_HANDLER } from '../../../constants/default-marker-handler';
import { PrizmMonth } from '../../../@core/date-time/month';
import { PRIZM_FIRST_DAY, PRIZM_LAST_DAY } from '../../../@core/date-time/days.const';
import { PRIZM_DATE_SEPARATOR } from '../../../@core/date-time/date-separator';
import { PrizmDialogService } from '../../dialogs/dialog/dialog.service';
import { PRIZM_DATE_FORMAT } from '../../../@core/date-time/date-format';
import { PRIZM_DATE_TEXTS, PRIZM_TIME_TEXTS } from '../../../tokens/i18n';
import { PRIZM_DATE_RANGE_VALUE_TRANSFORMER } from '../../../tokens/date-inputs-value-transformers';
import { prizmNullableSame } from '../../../util/common/nullable-same';
import { filterTruthy, PrizmDestroyService, PrizmLetDirective } from '@prizm-ui/helpers';
import { PrizmInputControl } from '../common/base/input-control.class';
import { PrizmInputNgControl } from '../common/base/input-ng-control.class';
import { debounceTime, delay, distinctUntilChanged, map, share, takeUntil, tap } from 'rxjs/operators';
import { prizmCreateDateNgxMask, PrizmDateTime, PrizmDateTimeRange, PrizmTime, PrizmTimeRange, } from '../../../@core';
import { PrizmInputZoneDirective, PrizmInputZoneModule } from '../../../directives/input-zone';
import { prizmCreateTimeNgxMask } from '../../../@core/mask/create-time-mask';
import { PRIZM_DATE_RIGHT_BUTTONS } from '../../../tokens';
import { prizmI18nInitWithKeys } from '../../../services';
import { CommonModule } from '@angular/common';
import { PrizmMaskModule } from '../../../modules';
import { PolymorphOutletDirective, PrizmLifecycleModule, PrizmValueAccessorModule, } from '../../../directives';
import { PrizmDataListComponent } from '../../data-list';
import { PrizmInputLayoutTimeModule } from '../input-time';
import { PrizmInputTextModule } from '../input-text';
import { PrizmIconComponent } from '../../icon';
import { PrizmDropdownHostComponent } from '../../dropdowns/dropdown-host';
import { PrizmCalendarRangeComponent } from '../../calendar-range';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "ngx-mask";
import * as i3 from "../../../directives/input-zone/input-zone.directive";
import * as i4 from "../../../directives/input-zone/input-in-zone.directive";
import * as i5 from "../../../directives/lifecycle/lifecycle.directive";
import * as i6 from "../input-time/input-layout-time.component";
import * as i7 from "../common/input-layout/input-layout.component";
import * as i8 from "../common/input-icon-button/input-icon-button.component";
import * as i9 from "../common/input-layout/input-layout-right.directive";
import * as i10 from "../input-text/input-text.component";
import * as i11 from "@angular/forms";
import * as i12 from "../../dialogs/dialog/dialog.service";
import * as i13 from "rxjs";
export class PrizmInputLayoutDateTimeRangeComponent extends PrizmInputNgControl {
    get interactive() {
        return !this.disabled;
    }
    get calendarMinDay() {
        return this.getDayFromMinMax(this.min);
    }
    get calendarMaxDay() {
        return this.getDayFromMinMax(this.max);
    }
    get empty() {
        return this.empty$;
    }
    constructor(changeDetectorRef, injector, dialogService, dateFormat, dateSeparator, dateTexts$, valueTransformer) {
        super(injector);
        this.dialogService = dialogService;
        this.dateFormat = dateFormat;
        this.dateSeparator = dateSeparator;
        this.dateTexts$ = dateTexts$;
        this.valueTransformer = valueTransformer;
        this.hasClearButton = true;
        this.nativeElementType = 'input-layout-date-range';
        this.disabledItemHandler = PRIZM_ALWAYS_FALSE_HANDLER;
        this.markerHandler = PRIZM_DEFAULT_MARKER_HANDLER;
        this.defaultViewedMonth = PrizmMonth.currentLocal();
        this.items = [];
        this.placeholder = '';
        this.min = PRIZM_FIRST_DAY;
        this.max = PRIZM_LAST_DAY;
        this.timeStrict = false;
        this.minLength = null;
        this.maxLength = null;
        this.open = false;
        // TODO: finish
        // openTimeTemplate = false;
        this.timeMode = 'HH:MM';
        this.timeItems = new Array(24).fill(null).map((_, i) => new PrizmTime(i, 0, 0, 0));
        this.extraButtonInjector = this.injector;
        this.testId_ = 'ui_input_date_time_range';
        this.testRange = new PrizmDayRange(new PrizmDay(2010, 1, 1), new PrizmDay(2010, 2, 2));
        this.nativeValueTimeFrom$$ = new BehaviorSubject('');
        this.nativeValueTimeTo$$ = new BehaviorSubject('');
        this.nativeValueFrom$$ = new BehaviorSubject('');
        this.nativeValueTo$$ = new BehaviorSubject('');
        this.nativeValue$$ = combineLatest([
            this.nativeValueFrom$$.pipe(distinctUntilChanged()),
            this.nativeValueTimeFrom$$.pipe(distinctUntilChanged()),
            this.nativeValueTo$$.pipe(distinctUntilChanged()),
            this.nativeValueTimeTo$$.pipe(distinctUntilChanged()),
        ]).pipe(debounceTime(0), map(([from, fromTime, to, toTime]) => {
            return {
                timeRange: [fromTime, toTime],
                dayRange: [from, to],
            };
        }));
        this.hasNativeValue$ = this.nativeValue$$.pipe(map(value => {
            return hasValueInArray(value?.timeRange) || hasValueInArray(value?.dayRange);
        }), share());
        this.empty$ = combineLatest([this.value$, this.nativeValue$$]).pipe(map(([value, nativeValue]) => {
            return (emptyValue(value?.dayRange) &&
                emptyValue(nativeValue.dayRange) &&
                emptyValue(value?.timeRange) &&
                emptyValue(nativeValue.timeRange));
        }));
        this.closeOnOutsideClick = true;
    }
    get focused() {
        return this.focusableElement?.focused$ ?? of(false);
    }
    get canOpen() {
        return this.interactive;
    }
    get computedTimeMask() {
        return prizmCreateTimeNgxMask(this.timeMode);
    }
    get computedDateMask() {
        return prizmCreateDateNgxMask(this.dateFormat, this.dateSeparator);
    }
    get fromValue() {
        const value = this.value?.dayRange?.from?.toString() ?? '';
        if (!value) {
            return this.nativeValueFrom$$.value || '';
        }
        return value;
    }
    get fromTimeValue() {
        const val = this.timeToString(this.value?.timeRange?.from) ?? '';
        if (!val) {
            return this.nativeValueTimeFrom$$.value || '';
        }
        return val;
    }
    get toValue() {
        const value = this.value?.dayRange?.to?.toString() ?? '';
        if (!value) {
            return this.nativeValueTo$$.value || '';
        }
        return value;
    }
    get toTimeValue() {
        const val = this.timeToString(this.value?.timeRange?.to) ?? '';
        if (!val) {
            return this.nativeValueTimeTo$$.value || '';
        }
        return val;
    }
    onOpenChange(open) {
        this.open = open;
        this.changeDetectorRef.markForCheck();
    }
    completeDateIfAreNotPending() {
        const fromValue = this.nativeValueFrom$$.value;
        const toValue = this.nativeValueTo$$.value;
        const fromTimeValue = this.nativeValueTimeFrom$$.value;
        const toTimeValue = this.nativeValueTimeTo$$.value;
        // stop if empty
        if (!fromValue && !toValue && !fromTimeValue && !toTimeValue)
            return;
        // stop if started value
        if (fromValue && fromValue.length !== this.computedDateMask.length)
            return;
        if (toValue && toValue.length !== this.computedDateMask.length)
            return;
        if (fromTimeValue && fromTimeValue.length !== this.computedTimeMask.length)
            return;
        if (toTimeValue && toTimeValue.length !== this.computedTimeMask.length)
            return;
        const parsedFrom = fromValue
            ? PrizmDay.normalizeParse(fromValue, this.dateFormat)
            : new PrizmDay(new Date().getFullYear(), new Date().getMonth(), new Date().getDate());
        const parsedTo = toValue ? PrizmDay.normalizeParse(toValue, this.dateFormat) : parsedFrom.append({});
        const parsedTimeTo = PrizmTime.correctTime(toTimeValue ? PrizmTime.fromString(toTimeValue) : new PrizmTime(23, 59));
        const parsedTimeFrom = PrizmTime.correctTime(fromTimeValue ? PrizmTime.fromString(fromTimeValue) : new PrizmTime(0, 0));
        this.nativeValueTo$$.next(parsedTo.toString(this.dateFormat));
        this.nativeValueFrom$$.next(parsedFrom.toString(this.dateFormat));
        this.nativeValueTimeTo$$.next(parsedTimeTo.toString(this.timeMode));
        this.nativeValueTimeFrom$$.next(parsedTimeFrom.toString(this.timeMode));
    }
    ngAfterViewInit() {
        this.focusableElement?.blur$
            .pipe(debounceTime(0), filterTruthy(), tap(() => this.completeDateIfAreNotPending()), takeUntil(this.destroy$))
            .subscribe();
    }
    ngOnInit() {
        super.ngOnInit();
        this.rightButtons$ = this.extraButtonInjector.get(PRIZM_DATE_RIGHT_BUTTONS);
        this.nativeValue$$
            .pipe(tap(({ dayRange, timeRange }) => {
            const fromValue = dayRange[0];
            const toValue = dayRange[1];
            const fromTimeValue = timeRange[0];
            const toTimeValue = timeRange[1];
            if (!fromValue || fromValue.length !== this.computedDateMask.length)
                return;
            if (!toValue || toValue.length !== this.computedDateMask.length)
                return;
            if (!fromTimeValue || fromTimeValue.length !== this.computedTimeMask.length)
                return;
            if (!toTimeValue || toTimeValue.length !== this.computedTimeMask.length)
                return;
            if (fromValue === this.value?.dayRange?.from.toString() &&
                fromTimeValue === this.value?.timeRange?.from.toString(this.timeMode) &&
                toValue === this.value?.dayRange?.to.toString() &&
                toTimeValue === this.value?.timeRange?.to.toString(this.timeMode)) {
                return;
            }
            this.updateWithCorrectDateAndTime(
            // eslint-disable-next-line @typescript-eslint/ban-ts-comment
            // @ts-ignore
            fromValue && fromValue.length === this.computedDateMask.length && fromValue, toValue && toValue.length === this.computedDateMask.length && toValue, fromTimeValue && fromTimeValue.length === this.computedTimeMask.length && fromTimeValue, toTimeValue && toTimeValue.length === this.computedTimeMask.length && toTimeValue);
        }), takeUntil(this.destroy$))
            .subscribe();
    }
    timeToString(value) {
        return value instanceof PrizmTime ? value.toString(this.timeMode) : null;
    }
    onDateValueChange(value, isFormValue) {
        if (isFormValue && value === this.fromValue)
            return;
        if (!isFormValue && value === this.toValue)
            return;
        if (isFormValue)
            this.nativeValueFrom$$.next(value);
        else
            this.nativeValueTo$$.next(value);
        if (value == null) {
            this.onOpenChange(true);
        }
    }
    onTimeValueChange(value, isFormValue) {
        if (isFormValue && value === this.fromTimeValue)
            return;
        if (!isFormValue && value === this.toTimeValue)
            return;
        if (isFormValue)
            this.nativeValueTimeFrom$$.next(value);
        else
            this.nativeValueTimeTo$$.next(value);
        if (value == null) {
            this.onOpenChange(true);
        }
    }
    onRangeChange(range) {
        this.focusInput();
        if (!range) {
            this.nativeValueTo$$.next('');
            this.nativeValueFrom$$.next('');
        }
        if (!prizmNullableSame(this.value?.dayRange, range, (a, b) => a?.daySame(b))) {
            const newValue = new PrizmDateTimeRange(range, (this.value?.timeRange ?? null));
            this.updateValue(newValue);
            this.open = false;
        }
        this.nativeValueTo$$.next(range?.to?.toString() ?? '');
        this.nativeValueFrom$$.next(range?.from?.toString() ?? '');
        this.changeDetectorRef.markForCheck();
    }
    updateWithCorrectDateAndTime(from, to, fromTime, toTime) {
        let parsedFrom = from ? PrizmDay.normalizeParse(from, this.dateFormat) : this.value?.dayRange?.from;
        let parsedTo = to ? PrizmDay.normalizeParse(to, this.dateFormat) : this.value?.dayRange?.to;
        if (parsedFrom)
            parsedFrom = this.dayLimit(parsedFrom);
        if (parsedTo)
            parsedTo = this.dayLimit(parsedTo);
        let parsedTimeFrom = fromTime && PrizmTime.correctTime(PrizmTime.fromString(fromTime));
        let parsedTimeTo = toTime && PrizmTime.correctTime(PrizmTime.fromString(toTime));
        if (parsedTimeFrom)
            parsedTimeFrom = this.timeLimit([parsedFrom, parsedTimeFrom]);
        if (parsedTimeTo)
            parsedTimeTo = this.timeLimit([parsedTo, parsedTimeTo]);
        if (parsedTimeTo || parsedTimeFrom) {
            if (!parsedFrom) {
                parsedFrom = PrizmDay.fromLocalNativeDate(new Date());
            }
            if (!parsedTo) {
                const tomorrow = new Date();
                tomorrow.setDate(tomorrow.getDate() + 1);
                parsedTo = PrizmDay.fromLocalNativeDate(tomorrow);
            }
        }
        this.updateValue(new PrizmDateTimeRange((parsedFrom && parsedTo ? new PrizmDayRange(parsedFrom, parsedTo) : null), (parsedTimeFrom && parsedTimeTo ? new PrizmTimeRange(parsedTimeFrom, parsedTimeTo) : null)));
    }
    timeLimit(value) {
        if (!value)
            return null;
        let [, parsedTime] = value;
        if (parsedTime)
            parsedTime = parsedTime.timeLimit(this.getTimeFromMinMax(this.min), this.getTimeFromMinMax(this.max));
        return parsedTime;
    }
    getDayFromMinMax(value) {
        return Array.isArray(value) ? value[0] : value instanceof PrizmDateTime ? value.day : value;
    }
    getTimeFromMinMax(value) {
        return Array.isArray(value) ? value[1] : value instanceof PrizmDateTime ? value.time : null;
    }
    dayLimit(value) {
        return value.dayLimit(this.getDayFromMinMax(this.min), this.getDayFromMinMax(this.max));
    }
    writeValue(value) {
        super.writeValue(value);
        this.nativeValueTimeFrom$$.next(value?.timeRange?.from?.toString(this.timeMode) ?? '');
        this.nativeValueTimeTo$$.next(value?.timeRange?.to?.toString(this.timeMode) ?? '');
        this.nativeValueFrom$$.next(value?.dayRange?.from?.toString() ?? '');
        this.nativeValueTo$$.next(value?.dayRange?.to?.toString() ?? '');
    }
    toggle() {
        this.open = !this.open;
    }
    focusInput() {
        this.focusableElement?.focus(0);
    }
    clear(ev) {
        ev.stopImmediatePropagation();
        super.clear(ev);
        this.nativeValueTo$$.next('');
        this.nativeValueFrom$$.next('');
        this.nativeValueTimeFrom$$.next('');
        this.nativeValueTimeTo$$.next('');
        this.layoutComponent?.cdr.markForCheck();
    }
    updateTimeTo(value) {
        // TODO: #mz add min max
        if (value &&
            this.value?.timeRange?.to instanceof PrizmTime &&
            this.value?.timeRange?.to?.isSameTime(value))
            return;
        const range = PrizmDateTimeRange.safeUpdateTimeTo(this.value, value);
        this.updateValue(range?.copy());
    }
    updateTimeFrom(value) {
        // TODO: #mz add min max
        if (value &&
            this.value?.timeRange?.from instanceof PrizmTime &&
            this.value?.timeRange?.from?.isSameTime(value))
            return;
        // const range = PrizmDateTimeRange.safeUpdateTimeFrom(this.value, value);
        // this.updateValue(range?.copy());
        this.nativeValueTimeFrom$$.next(value.toString(this.timeMode));
    }
    referFocusToMain(referFocus = true) {
        if (!referFocus)
            return;
        // TODO create operator and rxjs functin to run sequence in event loop
        of(null)
            .pipe(delay(0), tap(() => {
            this.focusableElement?.selectionToStart();
        }))
            .subscribe();
    }
}
PrizmInputLayoutDateTimeRangeComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: PrizmInputLayoutDateTimeRangeComponent, deps: [{ token: ChangeDetectorRef }, { token: Injector }, { token: PrizmDialogService }, { token: PRIZM_DATE_FORMAT, optional: true }, { token: PRIZM_DATE_SEPARATOR }, { token: PRIZM_DATE_TEXTS }, { token: PRIZM_DATE_RANGE_VALUE_TRANSFORMER, optional: true }], target: i0.ɵɵFactoryTarget.Component });
PrizmInputLayoutDateTimeRangeComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.9", type: PrizmInputLayoutDateTimeRangeComponent, isStandalone: true, selector: "prizm-input-layout-date-time-range", inputs: { disabledItemHandler: "disabledItemHandler", markerHandler: "markerHandler", defaultViewedMonth: "defaultViewedMonth", items: "items", placeholder: "placeholder", min: "min", max: "max", timeStrict: "timeStrict", minLength: "minLength", maxLength: "maxLength", timeMode: "timeMode", timeItems: "timeItems", extraButtonInjector: "extraButtonInjector" }, providers: [
        ...prizmI18nInitWithKeys({
            time: PRIZM_TIME_TEXTS,
            dateTexts: PRIZM_DATE_TEXTS,
        }),
        {
            provide: NG_VALUE_ACCESSOR,
            useExisting: forwardRef(() => PrizmInputLayoutDateTimeRangeComponent),
            multi: true,
        },
        PrizmDestroyService,
        { provide: PrizmInputControl, useExisting: PrizmInputLayoutDateTimeRangeComponent },
    ], queries: [{ propertyName: "footerFromTemplate", first: true, predicate: ["footerFrom"], descendants: true, read: TemplateRef }, { propertyName: "footerToTemplate", first: true, predicate: ["footerTo"], descendants: true, read: TemplateRef }], viewQueries: [{ propertyName: "focusableElement", first: true, predicate: ["focusableElementRef"], descendants: true, read: PrizmInputZoneDirective }], usesInheritance: true, ngImport: i0, template: "<prizm-dropdown-host\n  class=\"z-hosted\"\n  [canOpen]=\"canOpen\"\n  [content]=\"dropdown\"\n  [closeByEsc]=\"true\"\n  [closeOnOutsideClick]=\"closeOnOutsideClick\"\n  [prizmDropdownHostWidth]=\"'auto'\"\n  [isOpen]=\"canOpen && !disabled && open\"\n  [prizmDropdownHost]=\"layoutComponent?.el?.nativeElement\"\n  (isOpenChange)=\"onOpenChange($event)\"\n  prizmDropdownHostWidth=\"auto\"\n>\n  <div\n    class=\"multiple-input-box\"\n    #focusableElementRef=\"prizmInputZone\"\n    [attr.data-placeholder]=\"placeholder\"\n    prizmInputZone\n  >\n    <input\n      class=\"input-main\"\n      [class.show-placeholder]=\"\n        (empty | async) && (disabled || (focusableElementRef.focused$ | async) !== true)\n      \"\n      [placeholder]=\"placeholder\"\n      [mask]=\"computedDateMask\"\n      [clearIfNotMatch]=\"false\"\n      [showMaskTyped]=\"(focusableElementRef.focused$ | async) || (hasNativeValue$ | async)\"\n      [dropSpecialCharacters]=\"false\"\n      [disabled]=\"disabled\"\n      [ngModelOptions]=\"{ standalone: true }\"\n      [ngModel]=\"fromValue\"\n      [size]=\"computedDateMask.length\"\n      [maxLength]=\"computedDateMask.length + 1\"\n      [maxSize]=\"computedDateMask.length\"\n      (click)=\"referFocusToMain(!fromValue)\"\n      (ngModelChange)=\"onDateValueChange($event || '', true)\"\n      style=\"padding: 0\"\n      prizmInput\n      prizmInputInZone\n    />\n    <input\n      class=\"input-time\"\n      [mask]=\"computedTimeMask\"\n      [dropSpecialCharacters]=\"false\"\n      [clearIfNotMatch]=\"false\"\n      [showMaskTyped]=\"(focusableElementRef.focused$ | async) || (hasNativeValue$ | async)\"\n      [disabled]=\"disabled\"\n      [ngModelOptions]=\"{ standalone: true }\"\n      [ngModel]=\"fromTimeValue\"\n      [size]=\"computedTimeMask.length\"\n      [maxLength]=\"computedTimeMask.length + 1\"\n      [maxSize]=\"computedTimeMask.length\"\n      (ngModelChange)=\"onTimeValueChange($event, true)\"\n      style=\"padding: 0\"\n      prizmInput\n      prizmInputInZone\n    />\n    <span class=\"delimiter\">-</span>\n    <input\n      class=\"input-time\"\n      [mask]=\"computedDateMask\"\n      [dropSpecialCharacters]=\"false\"\n      [clearIfNotMatch]=\"false\"\n      [showMaskTyped]=\"(focusableElementRef.focused$ | async) || (hasNativeValue$ | async)\"\n      [disabled]=\"!!disabled\"\n      [ngModelOptions]=\"{ standalone: true }\"\n      [ngModel]=\"toValue\"\n      [size]=\"computedDateMask.length\"\n      [maxLength]=\"computedDateMask.length + 1\"\n      [maxSize]=\"computedDateMask.length\"\n      (ngModelChange)=\"onDateValueChange($event || '', false)\"\n      style=\"padding: 0\"\n      prizmInput\n      prizmInputInZone\n    />\n    <input\n      class=\"input-time\"\n      [mask]=\"computedTimeMask\"\n      [dropSpecialCharacters]=\"false\"\n      [clearIfNotMatch]=\"false\"\n      [showMaskTyped]=\"(focusableElementRef.focused$ | async) || (hasNativeValue$ | async)\"\n      [disabled]=\"!!disabled\"\n      [ngModelOptions]=\"{ standalone: true }\"\n      [ngModel]=\"toTimeValue\"\n      [size]=\"computedTimeMask.length\"\n      [maxLength]=\"computedTimeMask.length + 1\"\n      [maxSize]=\"computedTimeMask.length\"\n      (ngModelChange)=\"onTimeValueChange($event, false)\"\n      style=\"padding: 0\"\n      prizmInput\n      prizmInputInZone\n    />\n  </div>\n\n  <!--  TODO add after create time range component -->\n  <!--  <ng-template #dropdownTimeTemplate>-->\n  <!--    <prizm-data-list-->\n  <!--      class=\"block\"-->\n  <!--      *ngIf=\"timeItems.length\"-->\n  <!--      [style.&#45;&#45;prizm-data-list-border]=\"0\"-->\n  <!--      (prizmAfterViewInit)=\"markAsTouched(); prizmDropdownHostComponent.reCalculatePositions()\"-->\n  <!--      (prizmOnDestroy)=\"openTimeTemplate = false\"-->\n  <!--      prizmLifecycle-->\n  <!--    >-->\n  <!--      <ng-container>-->\n  <!--        <div-->\n  <!--          class=\"time-item\"-->\n  <!--          *ngFor=\"let item of timeItems; let idx = index\"-->\n  <!--          (click)=\"$event.stopPropagation(); onTimeMenuClick(item, $event)\"-->\n  <!--        >-->\n  <!--        <span class=\"text\">-->\n  <!--          {{ item }}-->\n  <!--        </span>-->\n  <!--        </div>-->\n  <!--      </ng-container>-->\n  <!--    </prizm-data-list>-->\n  <!--  </ng-template>-->\n  <!--  -->\n  <ng-template #dropdown>\n    <prizm-calendar-range\n      [style.--prizm-input-layout-width]=\"'100%'\"\n      [style.--prizm-dropdown-host-width]=\"'100%'\"\n      [defaultViewedMonth]=\"defaultViewedMonth\"\n      [disabledItemHandler]=\"disabledItemHandler\"\n      [items]=\"items\"\n      [min]=\"calendarMinDay\"\n      [max]=\"calendarMaxDay\"\n      [markerHandler]=\"markerHandler\"\n      [minLength]=\"minLength\"\n      [maxLength]=\"maxLength\"\n      [value]=\"$any(value?.dayRange)\"\n      (prizmAfterViewInit)=\"markAsTouched()\"\n      (valueChange)=\"onRangeChange($event)\"\n    >\n      <ng-container footerFrom>\n        <prizm-input-layout label=\"\u0412\u0440\u0435\u043C\u044F\">\n          <prizm-input-layout-time\n            [style.--prizm-dropdown-host-width]=\"'100%'\"\n            [ngModelOptions]=\"{ standalone: true }\"\n            [ngModel]=\"value?.timeRange?.from\"\n            [items]=\"timeItems\"\n            [strict]=\"timeStrict\"\n            [mode]=\"timeMode\"\n            (ngModelChange)=\"updateTimeFrom($event)\"\n          >\n          </prizm-input-layout-time>\n        </prizm-input-layout>\n      </ng-container>\n      <ng-container footerTo>\n        <prizm-input-layout label=\"\u0412\u0440\u0435\u043C\u044F\">\n          <prizm-input-layout-time\n            [style.--prizm-dropdown-host-width]=\"'100%'\"\n            [ngModelOptions]=\"{ standalone: true }\"\n            [ngModel]=\"value?.timeRange?.to\"\n            [ngModelOptions]=\"{ standalone: true }\"\n            [strict]=\"timeStrict\"\n            [items]=\"timeItems\"\n            [mode]=\"timeMode\"\n            (ngModelChange)=\"updateTimeTo($event)\"\n          >\n          </prizm-input-layout-time>\n        </prizm-input-layout>\n      </ng-container>\n    </prizm-calendar-range>\n  </ng-template>\n</prizm-dropdown-host>\n\n<ng-container *prizmInputLayoutRight>\n  <button\n    [interactive]=\"true\"\n    [style.--prizm-input-icon-button-width]=\"'24px'\"\n    [disabled]=\"!!disabled\"\n    (click)=\"focusableElementRef.focus(); onOpenChange(!open)\"\n    prizmInputIconButton=\"date-calendar-range\"\n  ></button>\n  <!--  TODO add after create time-range modal -->\n  <!--  <button-->\n  <!--    [interactive]=\"true\"-->\n  <!--    [disabled]=\"disabled\"-->\n  <!--    (click)=\"onOpen(!open)\"-->\n  <!--    prizmInputIconButton=\"date-clock\"-->\n  <!--  ></button>-->\n  <ng-container *ngFor=\"let button of rightButtons$ | async\" [ngTemplateOutlet]=\"button.template\">\n  </ng-container>\n</ng-container>\n", styles: [":host{display:block}:host._disabled{pointer-events:none}.z-hosted{display:block;border-radius:inherit}.z-textfield{border-radius:inherit;text-align:inherit}.z-icon{pointer-events:auto}input{width:calc(var(--prizm-input-in-zone-max-size) * 1cm)}\n", ":host{display:block}:host::placeholder{color:var(--prizm-v3-text-icon-disable)}.multiple-input-box{display:flex;gap:2px;padding:22px 8px 4px 0}.multiple-input-box input{width:calc(var(--prizm-input-in-zone-max-size) * .9ch)}.multiple-input-box .input-main.show-placeholder{width:100%}.multiple-input-box .input-main.show-placeholder~input,.multiple-input-box .input-main.show-placeholder~.delimiter{display:none}:host-context(.prizm-input-form-outer) .multiple-input-box{padding:7px 0}:host-context(.prizm-input-form-outer[data-size=\"l\"]) .multiple-input-box{padding:11px 0}:host-context(.prizm-input-form-outer[data-size=\"m\"]) .multiple-input-box{padding:7px 0}:host-context(.prizm-input-form-outer[data-size=\"s\"]) .multiple-input-box{font-size:12px;padding:4px 0}:host-context(.prizm-input-form-inner) :host-context(.prizm-input-empty-label) .multiple-input-box{padding-top:4px}:host-context(.prizm-input-form-inner) :host-context(.prizm-input-empty-label) .multiple-input-box :host::placeholder{opacity:1}:host-context(.prizm-input-form-inner) .multiple-input-box{padding:22px 8px 4px 0}:host-context(.prizm-input-form-inner) .multiple-input-box :host::placeholder{opacity:0}:host-context(.prizm-input-form-inner) .multiple-input-box :host:focus::placeholder{opacity:1;transition:opacity .2s ease 0s}:host-context(.prizm-input-form-center){text-align:center}:host-context(.prizm-input-form-inner[data-size=\"l\"]) :host-context(.prizm-input-empty-label) .multiple-input-box{padding-top:4px}:host-context(.prizm-input-form-inner[data-size=\"l\"]) .multiple-input-box{padding:22px 8px 4px 0}:host-context(.prizm-input-form-inner[data-size=\"m\"]) .multiple-input-box{padding:16px 8px 2px 0}:host-context(.prizm-input-form-inner[data-size=\"m\"]) :host-context(.prizm-input-empty-label) .multiple-input-box{padding-top:2px}.placeholder-input-search.hidden{position:absolute;top:-10000px;left:-10000px;opacity:0}.placeholder-input-search:not(.hidden)~input,.placeholder-input-search:not(.hidden)~.delimiter{display:none}.delimiter{line-height:16px;height:16px;margin:0 .25ch}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "pipe", type: i1.AsyncPipe, name: "async" }, { kind: "ngmodule", type: PrizmMaskModule }, { kind: "directive", type: i2.NgxMaskDirective, selector: "input[mask], textarea[mask]", inputs: ["mask", "specialCharacters", "patterns", "prefix", "suffix", "thousandSeparator", "decimalMarker", "dropSpecialCharacters", "hiddenInput", "showMaskTyped", "placeHolderCharacter", "shownMaskExpression", "showTemplate", "clearIfNotMatch", "validation", "separatorLimit", "allowNegativeNumbers", "leadZeroDateTime", "triggerOnMaskChange"], outputs: ["maskFilled"], exportAs: ["mask", "ngxMask"] }, { kind: "ngmodule", type: PrizmInputZoneModule }, { kind: "directive", type: i3.PrizmInputZoneDirective, selector: "[prizmInputZone]", outputs: ["focused$", "blur$"], exportAs: ["prizmInputZone"] }, { kind: "directive", type: i4.PrizmInputInZoneDirective, selector: "input[prizmInputInZone]", inputs: ["idx", "maxSize"], outputs: ["updateNativeValue", "focused$", "blured$"], exportAs: ["prizmInputInZone"] }, { kind: "ngmodule", type: PrizmLifecycleModule }, { kind: "directive", type: i5.PrizmLifecycleDirective, selector: "[prizmLifecycle], [prizmAfterViewInit], [prizmAfterContentInit], [prizmOnInit], [prizmOnDestroy]", outputs: ["prizmAfterViewInit", "prizmOnInit", "prizmAfterContentInit", "prizmOnDestroy"], exportAs: ["prizmLifecycle"] }, { kind: "ngmodule", type: PrizmInputLayoutTimeModule }, { kind: "component", type: i6.PrizmInputLayoutTimeComponent, selector: "prizm-input-layout-time", inputs: ["placeholder", "disabledItemHandler", "items", "itemSize", "strict", "mode", "extraButtonInjector"] }, { kind: "component", type: i7.PrizmInputLayoutComponent, selector: "prizm-input-layout", inputs: ["label", "size", "status", "outer", "clearButton", "border", "position", "forceClear"], outputs: ["clear"] }, { kind: "component", type: i8.PrizmInputIconButtonComponent, selector: "button[prizmInputIconButton]", inputs: ["size", "prizmInputIconButton", "interactive", "disabled", "type"] }, { kind: "directive", type: i9.PrizmInputLayoutRightDirective, selector: "ng-template[prizmInputLayoutRight]" }, { kind: "component", type: i10.PrizmInputTextComponent, selector: "input[prizmInput]:not([type=number]), textarea[prizmInput], input[prizmInputPassword]", inputs: ["disabled", "required", "value"], outputs: ["enter", "onClear", "valueChanged"], exportAs: ["prizmInput"] }, { kind: "ngmodule", type: PrizmInputTextModule }, { kind: "component", type: PrizmDropdownHostComponent, selector: "prizm-dropdown-host", inputs: ["content", "prizmDropdownHostId", "prizmDropdownCustomContext", "delay", "canOpen", "closeByEsc", "closeOnOutsideClick", "prizmDropdownHost", "prizmDropdownHostWidth", "autoReposition", "placement", "isOpen", "dropdownStyles", "dropdownClasses"], outputs: ["isOpenChange"], exportAs: ["prizm-dropdown-host"] }, { kind: "component", type: PrizmCalendarRangeComponent, selector: "prizm-calendar-range", inputs: ["defaultViewedMonth", "disabledItemHandler", "markerHandler", "items", "min", "max", "minLength", "maxLength", "value"], outputs: ["valueChange", "rangeChange"] }, { kind: "ngmodule", type: PrizmValueAccessorModule }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i11.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i11.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i11.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }] });
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Function)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "disabledItemHandler", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Function)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "markerHandler", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Object)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "defaultViewedMonth", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Array)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "items", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Object)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "placeholder", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Object)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "min", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Object)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "max", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Object)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "timeStrict", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Object)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "minLength", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Object)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "maxLength", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", String)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "timeMode", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Array)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "timeItems", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Injector)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "extraButtonInjector", void 0);
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: PrizmInputLayoutDateTimeRangeComponent, decorators: [{
            type: Component,
            args: [{ selector: `prizm-input-layout-date-time-range`, providers: [
                        ...prizmI18nInitWithKeys({
                            time: PRIZM_TIME_TEXTS,
                            dateTexts: PRIZM_DATE_TEXTS,
                        }),
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => PrizmInputLayoutDateTimeRangeComponent),
                            multi: true,
                        },
                        PrizmDestroyService,
                        { provide: PrizmInputControl, useExisting: PrizmInputLayoutDateTimeRangeComponent },
                    ], standalone: true, imports: [
                        CommonModule,
                        PrizmInputLayoutDateTimeRangeComponent,
                        PrizmMaskModule,
                        PrizmInputZoneModule,
                        PrizmLifecycleModule,
                        PrizmLetDirective,
                        PrizmDataListComponent,
                        PrizmInputLayoutTimeModule,
                        PolymorphOutletDirective,
                        PrizmInputTextModule,
                        PrizmIconComponent,
                        PrizmDropdownHostComponent,
                        PrizmCalendarRangeComponent,
                        PrizmValueAccessorModule,
                        FormsModule,
                    ], template: "<prizm-dropdown-host\n  class=\"z-hosted\"\n  [canOpen]=\"canOpen\"\n  [content]=\"dropdown\"\n  [closeByEsc]=\"true\"\n  [closeOnOutsideClick]=\"closeOnOutsideClick\"\n  [prizmDropdownHostWidth]=\"'auto'\"\n  [isOpen]=\"canOpen && !disabled && open\"\n  [prizmDropdownHost]=\"layoutComponent?.el?.nativeElement\"\n  (isOpenChange)=\"onOpenChange($event)\"\n  prizmDropdownHostWidth=\"auto\"\n>\n  <div\n    class=\"multiple-input-box\"\n    #focusableElementRef=\"prizmInputZone\"\n    [attr.data-placeholder]=\"placeholder\"\n    prizmInputZone\n  >\n    <input\n      class=\"input-main\"\n      [class.show-placeholder]=\"\n        (empty | async) && (disabled || (focusableElementRef.focused$ | async) !== true)\n      \"\n      [placeholder]=\"placeholder\"\n      [mask]=\"computedDateMask\"\n      [clearIfNotMatch]=\"false\"\n      [showMaskTyped]=\"(focusableElementRef.focused$ | async) || (hasNativeValue$ | async)\"\n      [dropSpecialCharacters]=\"false\"\n      [disabled]=\"disabled\"\n      [ngModelOptions]=\"{ standalone: true }\"\n      [ngModel]=\"fromValue\"\n      [size]=\"computedDateMask.length\"\n      [maxLength]=\"computedDateMask.length + 1\"\n      [maxSize]=\"computedDateMask.length\"\n      (click)=\"referFocusToMain(!fromValue)\"\n      (ngModelChange)=\"onDateValueChange($event || '', true)\"\n      style=\"padding: 0\"\n      prizmInput\n      prizmInputInZone\n    />\n    <input\n      class=\"input-time\"\n      [mask]=\"computedTimeMask\"\n      [dropSpecialCharacters]=\"false\"\n      [clearIfNotMatch]=\"false\"\n      [showMaskTyped]=\"(focusableElementRef.focused$ | async) || (hasNativeValue$ | async)\"\n      [disabled]=\"disabled\"\n      [ngModelOptions]=\"{ standalone: true }\"\n      [ngModel]=\"fromTimeValue\"\n      [size]=\"computedTimeMask.length\"\n      [maxLength]=\"computedTimeMask.length + 1\"\n      [maxSize]=\"computedTimeMask.length\"\n      (ngModelChange)=\"onTimeValueChange($event, true)\"\n      style=\"padding: 0\"\n      prizmInput\n      prizmInputInZone\n    />\n    <span class=\"delimiter\">-</span>\n    <input\n      class=\"input-time\"\n      [mask]=\"computedDateMask\"\n      [dropSpecialCharacters]=\"false\"\n      [clearIfNotMatch]=\"false\"\n      [showMaskTyped]=\"(focusableElementRef.focused$ | async) || (hasNativeValue$ | async)\"\n      [disabled]=\"!!disabled\"\n      [ngModelOptions]=\"{ standalone: true }\"\n      [ngModel]=\"toValue\"\n      [size]=\"computedDateMask.length\"\n      [maxLength]=\"computedDateMask.length + 1\"\n      [maxSize]=\"computedDateMask.length\"\n      (ngModelChange)=\"onDateValueChange($event || '', false)\"\n      style=\"padding: 0\"\n      prizmInput\n      prizmInputInZone\n    />\n    <input\n      class=\"input-time\"\n      [mask]=\"computedTimeMask\"\n      [dropSpecialCharacters]=\"false\"\n      [clearIfNotMatch]=\"false\"\n      [showMaskTyped]=\"(focusableElementRef.focused$ | async) || (hasNativeValue$ | async)\"\n      [disabled]=\"!!disabled\"\n      [ngModelOptions]=\"{ standalone: true }\"\n      [ngModel]=\"toTimeValue\"\n      [size]=\"computedTimeMask.length\"\n      [maxLength]=\"computedTimeMask.length + 1\"\n      [maxSize]=\"computedTimeMask.length\"\n      (ngModelChange)=\"onTimeValueChange($event, false)\"\n      style=\"padding: 0\"\n      prizmInput\n      prizmInputInZone\n    />\n  </div>\n\n  <!--  TODO add after create time range component -->\n  <!--  <ng-template #dropdownTimeTemplate>-->\n  <!--    <prizm-data-list-->\n  <!--      class=\"block\"-->\n  <!--      *ngIf=\"timeItems.length\"-->\n  <!--      [style.&#45;&#45;prizm-data-list-border]=\"0\"-->\n  <!--      (prizmAfterViewInit)=\"markAsTouched(); prizmDropdownHostComponent.reCalculatePositions()\"-->\n  <!--      (prizmOnDestroy)=\"openTimeTemplate = false\"-->\n  <!--      prizmLifecycle-->\n  <!--    >-->\n  <!--      <ng-container>-->\n  <!--        <div-->\n  <!--          class=\"time-item\"-->\n  <!--          *ngFor=\"let item of timeItems; let idx = index\"-->\n  <!--          (click)=\"$event.stopPropagation(); onTimeMenuClick(item, $event)\"-->\n  <!--        >-->\n  <!--        <span class=\"text\">-->\n  <!--          {{ item }}-->\n  <!--        </span>-->\n  <!--        </div>-->\n  <!--      </ng-container>-->\n  <!--    </prizm-data-list>-->\n  <!--  </ng-template>-->\n  <!--  -->\n  <ng-template #dropdown>\n    <prizm-calendar-range\n      [style.--prizm-input-layout-width]=\"'100%'\"\n      [style.--prizm-dropdown-host-width]=\"'100%'\"\n      [defaultViewedMonth]=\"defaultViewedMonth\"\n      [disabledItemHandler]=\"disabledItemHandler\"\n      [items]=\"items\"\n      [min]=\"calendarMinDay\"\n      [max]=\"calendarMaxDay\"\n      [markerHandler]=\"markerHandler\"\n      [minLength]=\"minLength\"\n      [maxLength]=\"maxLength\"\n      [value]=\"$any(value?.dayRange)\"\n      (prizmAfterViewInit)=\"markAsTouched()\"\n      (valueChange)=\"onRangeChange($event)\"\n    >\n      <ng-container footerFrom>\n        <prizm-input-layout label=\"\u0412\u0440\u0435\u043C\u044F\">\n          <prizm-input-layout-time\n            [style.--prizm-dropdown-host-width]=\"'100%'\"\n            [ngModelOptions]=\"{ standalone: true }\"\n            [ngModel]=\"value?.timeRange?.from\"\n            [items]=\"timeItems\"\n            [strict]=\"timeStrict\"\n            [mode]=\"timeMode\"\n            (ngModelChange)=\"updateTimeFrom($event)\"\n          >\n          </prizm-input-layout-time>\n        </prizm-input-layout>\n      </ng-container>\n      <ng-container footerTo>\n        <prizm-input-layout label=\"\u0412\u0440\u0435\u043C\u044F\">\n          <prizm-input-layout-time\n            [style.--prizm-dropdown-host-width]=\"'100%'\"\n            [ngModelOptions]=\"{ standalone: true }\"\n            [ngModel]=\"value?.timeRange?.to\"\n            [ngModelOptions]=\"{ standalone: true }\"\n            [strict]=\"timeStrict\"\n            [items]=\"timeItems\"\n            [mode]=\"timeMode\"\n            (ngModelChange)=\"updateTimeTo($event)\"\n          >\n          </prizm-input-layout-time>\n        </prizm-input-layout>\n      </ng-container>\n    </prizm-calendar-range>\n  </ng-template>\n</prizm-dropdown-host>\n\n<ng-container *prizmInputLayoutRight>\n  <button\n    [interactive]=\"true\"\n    [style.--prizm-input-icon-button-width]=\"'24px'\"\n    [disabled]=\"!!disabled\"\n    (click)=\"focusableElementRef.focus(); onOpenChange(!open)\"\n    prizmInputIconButton=\"date-calendar-range\"\n  ></button>\n  <!--  TODO add after create time-range modal -->\n  <!--  <button-->\n  <!--    [interactive]=\"true\"-->\n  <!--    [disabled]=\"disabled\"-->\n  <!--    (click)=\"onOpen(!open)\"-->\n  <!--    prizmInputIconButton=\"date-clock\"-->\n  <!--  ></button>-->\n  <ng-container *ngFor=\"let button of rightButtons$ | async\" [ngTemplateOutlet]=\"button.template\">\n  </ng-container>\n</ng-container>\n", styles: [":host{display:block}:host._disabled{pointer-events:none}.z-hosted{display:block;border-radius:inherit}.z-textfield{border-radius:inherit;text-align:inherit}.z-icon{pointer-events:auto}input{width:calc(var(--prizm-input-in-zone-max-size) * 1cm)}\n", ":host{display:block}:host::placeholder{color:var(--prizm-v3-text-icon-disable)}.multiple-input-box{display:flex;gap:2px;padding:22px 8px 4px 0}.multiple-input-box input{width:calc(var(--prizm-input-in-zone-max-size) * .9ch)}.multiple-input-box .input-main.show-placeholder{width:100%}.multiple-input-box .input-main.show-placeholder~input,.multiple-input-box .input-main.show-placeholder~.delimiter{display:none}:host-context(.prizm-input-form-outer) .multiple-input-box{padding:7px 0}:host-context(.prizm-input-form-outer[data-size=\"l\"]) .multiple-input-box{padding:11px 0}:host-context(.prizm-input-form-outer[data-size=\"m\"]) .multiple-input-box{padding:7px 0}:host-context(.prizm-input-form-outer[data-size=\"s\"]) .multiple-input-box{font-size:12px;padding:4px 0}:host-context(.prizm-input-form-inner) :host-context(.prizm-input-empty-label) .multiple-input-box{padding-top:4px}:host-context(.prizm-input-form-inner) :host-context(.prizm-input-empty-label) .multiple-input-box :host::placeholder{opacity:1}:host-context(.prizm-input-form-inner) .multiple-input-box{padding:22px 8px 4px 0}:host-context(.prizm-input-form-inner) .multiple-input-box :host::placeholder{opacity:0}:host-context(.prizm-input-form-inner) .multiple-input-box :host:focus::placeholder{opacity:1;transition:opacity .2s ease 0s}:host-context(.prizm-input-form-center){text-align:center}:host-context(.prizm-input-form-inner[data-size=\"l\"]) :host-context(.prizm-input-empty-label) .multiple-input-box{padding-top:4px}:host-context(.prizm-input-form-inner[data-size=\"l\"]) .multiple-input-box{padding:22px 8px 4px 0}:host-context(.prizm-input-form-inner[data-size=\"m\"]) .multiple-input-box{padding:16px 8px 2px 0}:host-context(.prizm-input-form-inner[data-size=\"m\"]) :host-context(.prizm-input-empty-label) .multiple-input-box{padding-top:2px}.placeholder-input-search.hidden{position:absolute;top:-10000px;left:-10000px;opacity:0}.placeholder-input-search:not(.hidden)~input,.placeholder-input-search:not(.hidden)~.delimiter{display:none}.delimiter{line-height:16px;height:16px;margin:0 .25ch}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef, decorators: [{
                    type: Inject,
                    args: [ChangeDetectorRef]
                }] }, { type: i0.Injector, decorators: [{
                    type: Inject,
                    args: [Injector]
                }] }, { type: i12.PrizmDialogService, decorators: [{
                    type: Inject,
                    args: [PrizmDialogService]
                }] }, { type: undefined, decorators: [{
                    type: Optional
                }, {
                    type: Inject,
                    args: [PRIZM_DATE_FORMAT]
                }] }, { type: undefined, decorators: [{
                    type: Inject,
                    args: [PRIZM_DATE_SEPARATOR]
                }] }, { type: i13.Observable, decorators: [{
                    type: Inject,
                    args: [PRIZM_DATE_TEXTS]
                }] }, { type: undefined, decorators: [{
                    type: Optional
                }, {
                    type: Inject,
                    args: [PRIZM_DATE_RANGE_VALUE_TRANSFORMER]
                }] }]; }, propDecorators: { focusableElement: [{
                type: ViewChild,
                args: ['focusableElementRef', { read: PrizmInputZoneDirective }]
            }], footerFromTemplate: [{
                type: ContentChild,
                args: ['footerFrom', { read: TemplateRef }]
            }], footerToTemplate: [{
                type: ContentChild,
                args: ['footerTo', { read: TemplateRef }]
            }], disabledItemHandler: [{
                type: Input
            }], markerHandler: [{
                type: Input
            }], defaultViewedMonth: [{
                type: Input
            }], items: [{
                type: Input
            }], placeholder: [{
                type: Input
            }], min: [{
                type: Input
            }], max: [{
                type: Input
            }], timeStrict: [{
                type: Input
            }], minLength: [{
                type: Input
            }], maxLength: [{
                type: Input
            }], timeMode: [{
                type: Input
            }], timeItems: [{
                type: Input
            }], extraButtonInjector: [{
                type: Input
            }] } });
// TODO refactotor and move to utils
function hasValueInArray(values) {
    return !!values.find(i => Boolean(i));
}
function emptyValue(values) {
    return !values || (Array.isArray(values) && !hasValueInArray(values));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQtbGF5b3V0LWRhdGUtdGltZS1yYW5nZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2NvbXBvbmVudHMvc3JjL2xpYi9jb21wb25lbnRzL2lucHV0L2lucHV0LWRhdGUtdGltZS1yYW5nZS9pbnB1dC1sYXlvdXQtZGF0ZS10aW1lLXJhbmdlLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvY29tcG9uZW50cy9zcmMvbGliL2NvbXBvbmVudHMvaW5wdXQvaW5wdXQtZGF0ZS10aW1lLXJhbmdlL2lucHV0LWxheW91dC1kYXRlLXRpbWUtcmFuZ2UuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFFTCxpQkFBaUIsRUFDakIsU0FBUyxFQUNULFlBQVksRUFDWixVQUFVLEVBQ1YsTUFBTSxFQUNOLFFBQVEsRUFDUixLQUFLLEVBRUwsUUFBUSxFQUNSLFdBQVcsRUFDWCxTQUFTLEdBQ1YsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLFdBQVcsRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2hFLE9BQU8sRUFBRSxlQUFlLEVBQUUsYUFBYSxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDdEUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBQ25FLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUVsRCxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSx5Q0FBeUMsQ0FBQztBQUVyRixPQUFPLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSwyQ0FBMkMsQ0FBQztBQUN6RixPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0NBQWdDLENB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RCxrQkFBa0I7c0JBRGpDLFlBQVk7dUJBQUMsWUFBWSxFQUFFLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRTtnQkFJakMsZ0JBQWdCO3NCQUQvQixZQUFZO3VCQUFDLFVBQVUsRUFBRSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUU7Z0JBSy9DLG1CQUFtQjtzQkFGbEIsS0FBSztnQkFNTixhQUFhO3NCQUZaLEtBQUs7Z0JBTU4sa0JBQWtCO3NCQUZqQixLQUFLO2dCQU1OLEtBQUs7c0JBRkosS0FBSztnQkFNTixXQUFXO3NCQUZWLEtBQUs7Z0JBTU4sR0FBRztzQkFGRixLQUFLO2dCQU1OLEdBQUc7c0JBRkYsS0FBSztnQkFNTixVQUFVO3NCQUZULEtBQUs7Z0JBTU4sU0FBUztzQkFGUixLQUFLO2dCQU1OLFNBQVM7c0JBRlIsS0FBSztnQkFVTixRQUFRO3NCQUZQLEtBQUs7Z0JBTU4sU0FBUztzQkFGUixLQUFLO2dCQU1OLG1CQUFtQjtzQkFGbEIsS0FBSzs7QUFnWVIsb0NBQW9DO0FBQ3BDLFNBQVMsZUFBZSxDQUFDLE1BQWlCO0lBQ3hDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN4QyxDQUFDO0FBQ0QsU0FBUyxVQUFVLENBQUMsTUFBMkI7SUFDN0MsT0FBTyxDQUFDLE1BQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUN4RSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgQ29udGVudENoaWxkLFxuICBmb3J3YXJkUmVmLFxuICBJbmplY3QsXG4gIEluamVjdG9yLFxuICBJbnB1dCxcbiAgT25Jbml0LFxuICBPcHRpb25hbCxcbiAgVGVtcGxhdGVSZWYsXG4gIFZpZXdDaGlsZCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3Jtc01vZHVsZSwgTkdfVkFMVUVfQUNDRVNTT1IgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIGNvbWJpbmVMYXRlc3QsIE9ic2VydmFibGUsIG9mIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBQcml6bURheVJhbmdlIH0gZnJvbSAnLi4vLi4vLi4vQGNvcmUvZGF0ZS10aW1lL2RheS1yYW5nZSc7XG5pbXBvcnQgeyBQcml6bURheSB9IGZyb20gJy4uLy4uLy4uL0Bjb3JlL2RhdGUtdGltZS9kYXknO1xuaW1wb3J0IHsgcHJpem1EZWZhdWx0UHJvcCB9IGZyb20gJ0Bwcml6bS11aS9jb3JlJztcbmltcG9ydCB7IFByaXptQm9vbGVhbkhhbmRsZXIgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9oYW5kbGVyJztcbmltcG9ydCB7IFBSSVpNX0FMV0FZU19GQUxTRV9IQU5ETEVSIH0gZnJvbSAnLi4vLi4vLi4vY29uc3RhbnRzL2Fsd2F5cy1mYWxzZS1oYW5kbGVyJztcbmltcG9ydCB7IFByaXptTWFya2VySGFuZGxlciB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL21hcmtlci1oYW5kbGVyJztcbmltcG9ydCB7IFBSSVpNX0RFRkFVTFRfTUFSS0VSX0hBTkRMRVIgfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMvZGVmYXVsdC1tYXJrZXItaGFuZGxlcic7XG5pbXBvcnQgeyBQcml6bU1vbnRoIH0gZnJvbSAnLi4vLi4vLi4vQGNvcmUvZGF0ZS10aW1lL21vbnRoJztcbmltcG9ydCB7IFByaXptRGF5UmFuZ2VQZXJpb2QgfSBmcm9tICcuLi8uLi8uLi9AY29yZS9jbGFzc2VzL2RheS1yYW5nZS1wZXJpb2QnO1xuaW1wb3J0IHsgUFJJWk1fRklSU1RfREFZLCBQUklaTV9MQVNUX0RBWSB9IGZyb20gJy4uLy4uLy4uL0Bjb3JlL2RhdGUtdGltZS9kYXlzLmNvbnN0JztcbmltcG9ydCB7IFByaXptRGF5TGlrZSB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL2RheS1saWtlJztcbmltcG9ydCB7IFBSSVpNX0RBVEVfU0VQQVJBVE9SIH0gZnJvbSAnLi4vLi4vLi4vQGNvcmUvZGF0ZS10aW1lL2RhdGUtc2VwYXJhdG9yJztcbmltcG9ydCB7IFByaXptRGlhbG9nU2VydmljZSB9IGZyb20gJy4uLy4uL2RpYWxvZ3MvZGlhbG9nL2RpYWxvZy5zZXJ2aWNlJztcbmltcG9ydCB7IFBSSVpNX0RBVEVfRk9STUFUIH0gZnJvbSAnLi4vLi4vLi4vQGNvcmUvZGF0ZS10aW1lL2RhdGUtZm9ybWF0JztcbmltcG9ydCB7IFByaXptRGF0ZU1vZGUgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9kYXRlLW1vZGUnO1xuaW1wb3J0IHsgUFJJWk1fREFURV9URVhUUywgUFJJWk1fVElNRV9URVhUUyB9IGZyb20gJy4uLy4uLy4uL3Rva2Vucy9pMThuJztcbmltcG9ydCB7IFBSSVpNX0RBVEVfUkFOR0VfVkFMVUVfVFJBTlNGT1JNRVIgfSBmcm9tICcuLi8uLi8uLi90b2tlbnMvZGF0ZS1pbnB1dHMtdmFsdWUtdHJhbnNmb3JtZXJzJztcbmltcG9ydCB7IFByaXptQ29udHJvbFZhbHVlVHJhbnNmb3JtZXIgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9jb250cm9sLXZhbHVlLXRyYW5zZm9ybWVyJztcbmltcG9ydCB7IHByaXptTnVsbGFibGVTYW1lIH0gZnJvbSAnLi4vLi4vLi4vdXRpbC9jb21tb24vbnVsbGFibGUtc2FtZSc7XG5pbXBvcnQgeyBmaWx0ZXJUcnV0aHksIFByaXptRGVzdHJveVNlcnZpY2UsIFByaXptTGV0RGlyZWN0aXZlIH0gZnJvbSAnQHByaXptLXVpL2hlbHBlcnMnO1xuaW1wb3J0IHsgUHJpem1JbnB1dENvbnRyb2wgfSBmcm9tICcuLi9jb21tb24vYmFzZS9pbnB1dC1jb250cm9sLmNsYXNzJztcbmltcG9ydCB7IFByaXptSW5wdXROZ0NvbnRyb2wgfSBmcm9tICcuLi9jb21tb24vYmFzZS9pbnB1dC1uZy1jb250cm9sLmNsYXNzJztcbmltcG9ydCB7IGRlYm91bmNlVGltZSwgZGVsYXksIGRpc3RpbmN0VW50aWxDaGFuZ2VkLCBtYXAsIHNoYXJlLCB0YWtlVW50aWwsIHRhcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7XG4gIHByaXptQ3JlYXRlRGF0ZU5neE1hc2ssXG4gIFByaXptRGF0ZVRpbWUsXG4gIFByaXptRGF0ZVRpbWVSYW5nZSxcbiAgUHJpem1UaW1lLFxuICBQcml6bVRpbWVSYW5nZSxcbn0gZnJvbSAnLi4vLi4vLi4vQGNvcmUnO1xuaW1wb3J0IHsgUHJpem1JbnB1dFpvbmVEaXJlY3RpdmUsIFByaXptSW5wdXRab25lTW9kdWxlIH0gZnJvbSAnLi4vLi4vLi4vZGlyZWN0aXZlcy9pbnB1dC16b25lJztcbmltcG9ydCB7IFByaXptRGF0ZUJ1dHRvbiwgUHJpem1UaW1lTW9kZSB9IGZyb20gJy4uLy4uLy4uL3R5cGVzJztcbmltcG9ydCB7IHByaXptQ3JlYXRlVGltZU5neE1hc2sgfSBmcm9tICcuLi8uLi8uLi9AY29yZS9tYXNrL2NyZWF0ZS10aW1lLW1hc2snO1xuaW1wb3J0IHsgUFJJWk1fREFURV9SSUdIVF9CVVRUT05TIH0gZnJvbSAnLi4vLi4vLi4vdG9rZW5zJztcbmltcG9ydCB7IFByaXptRGF0ZVRpbWVNaW5NYXggfSBmcm9tICcuL21vZGVsJztcbmltcG9ydCB7IHByaXptSTE4bkluaXRXaXRoS2V5cyB9IGZyb20gJy4uLy4uLy4uL3NlcnZpY2VzJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBQcml6bU1hc2tNb2R1bGUgfSBmcm9tICcuLi8uLi8uLi9tb2R1bGVzJztcbmltcG9ydCB7XG4gIFBvbHltb3JwaE91dGxldERpcmVjdGl2ZSxcbiAgUHJpem1MaWZlY3ljbGVNb2R1bGUsXG4gIFByaXptVmFsdWVBY2Nlc3Nvck1vZHVsZSxcbn0gZnJvbSAnLi4vLi4vLi4vZGlyZWN0aXZlcyc7XG5pbXBvcnQgeyBQcml6bURhdGFMaXN0Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZGF0YS1saXN0JztcbmltcG9ydCB7IFByaXptSW5wdXRMYXlvdXRUaW1lTW9kdWxlIH0gZnJvbSAnLi4vaW5wdXQtdGltZSc7XG5pbXBvcnQgeyBQcml6bUlucHV0VGV4dE1vZHVsZSB9IGZyb20gJy4uL2lucHV0LXRleHQnO1xuaW1wb3J0IHsgUHJpem1JY29uQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vaWNvbic7XG5pbXBvcnQgeyBQcml6bURyb3Bkb3duSG9zdENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Ryb3Bkb3ducy9kcm9wZG93bi1ob3N0JztcbmltcG9ydCB7IFByaXptQ2FsZW5kYXJSYW5nZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL2NhbGVuZGFyLXJhbmdlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiBgcHJpem0taW5wdXQtbGF5b3V0LWRhdGUtdGltZS1yYW5nZWAsXG4gIHRlbXBsYXRlVXJsOiBgLi9pbnB1dC1sYXlvdXQtZGF0ZS10aW1lLXJhbmdlLmNvbXBvbmVudC5odG1sYCxcbiAgc3R5bGVVcmxzOiBbXG4gICAgYC4vaW5wdXQtbGF5b3V0LWRhdGUtdGltZS1yYW5nZS5jb21wb25lbnQubGVzc2AsXG4gICAgJy4vLi4vaW5wdXQtZGF0ZS9pbnB1dC1sYXlvdXQtZGF0ZS1zaGFyZWQuY29tcG9uZW50Lmxlc3MnLFxuICBdLFxuICBwcm92aWRlcnM6IFtcbiAgICAuLi5wcml6bUkxOG5Jbml0V2l0aEtleXMoe1xuICAgICAgdGltZTogUFJJWk1fVElNRV9URVhUUyxcbiAgICAgIGRhdGVUZXh0czogUFJJWk1fREFURV9URVhUUyxcbiAgICB9KSxcbiAgICB7XG4gICAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFByaXptSW5wdXRMYXlvdXREYXRlVGltZVJhbmdlQ29tcG9uZW50KSxcbiAgICAgIG11bHRpOiB0cnVlLFxuICAgIH0sXG4gICAgUHJpem1EZXN0cm95U2VydmljZSxcbiAgICB7IHByb3ZpZGU6IFByaXptSW5wdXRDb250cm9sLCB1c2VFeGlzdGluZzogUHJpem1JbnB1dExheW91dERhdGVUaW1lUmFuZ2VDb21wb25lbnQgfSxcbiAgXSxcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgaW1wb3J0czogW1xuICAgIENvbW1vbk1vZHVsZSxcbiAgICBQcml6bUlucHV0TGF5b3V0RGF0ZVRpbWVSYW5nZUNvbXBvbmVudCxcbiAgICBQcml6bU1hc2tNb2R1bGUsXG4gICAgUHJpem1JbnB1dFpvbmVNb2R1bGUsXG4gICAgUHJpem1MaWZlY3ljbGVNb2R1bGUsXG4gICAgUHJpem1MZXREaXJlY3RpdmUsXG4gICAgUHJpem1EYXRhTGlzdENvbXBvbmVudCxcbiAgICBQcml6bUlucHV0TGF5b3V0VGltZU1vZHVsZSxcbiAgICBQb2x5bW9ycGhPdXRsZXREaXJlY3RpdmUsXG4gICAgUHJpem1JbnB1dFRleHRNb2R1bGUsXG4gICAgUHJpem1JY29uQ29tcG9uZW50LFxuICAgIFByaXptRHJvcGRvd25Ib3N0Q29tcG9uZW50LFxuICAgIFByaXptQ2FsZW5kYXJSYW5nZUNvbXBvbmVudCxcbiAgICBQcml6bVZhbHVlQWNjZXNzb3JNb2R1bGUsXG4gICAgRm9ybXNNb2R1bGUsXG4gIF0sXG59KVxuZXhwb3J0IGNsYXNzIFByaXptSW5wdXRMYXlvdXREYXRlVGltZVJhbmdlQ29tcG9uZW50XG4gIGV4dGVuZHMgUHJpem1JbnB1dE5nQ29udHJvbDxQcml6bURhdGVUaW1lUmFuZ2UgfCBudWxsPlxuICBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdFxue1xuICBoYXNDbGVhckJ1dHRvbiA9IHRydWU7XG4gIG5hdGl2ZUVsZW1lbnRUeXBlID0gJ2lucHV0LWxheW91dC1kYXRlLXJhbmdlJztcblxuICBAVmlld0NoaWxkKCdmb2N1c2FibGVFbGVtZW50UmVmJywgeyByZWFkOiBQcml6bUlucHV0Wm9uZURpcmVjdGl2ZSB9KVxuICBwdWJsaWMgb3ZlcnJpZGUgcmVhZG9ubHkgZm9jdXNhYmxlRWxlbWVudD86IFByaXptSW5wdXRab25lRGlyZWN0aXZlO1xuXG4gIEBDb250ZW50Q2hpbGQoJ2Zvb3RlckZyb20nLCB7IHJlYWQ6IFRlbXBsYXRlUmVmIH0pXG4gIHB1YmxpYyByZWFkb25seSBmb290ZXJGcm9tVGVtcGxhdGU/OiBUZW1wbGF0ZVJlZjxIVE1MSW5wdXRFbGVtZW50PjtcblxuICBAQ29udGVudENoaWxkKCdmb290ZXJUbycsIHsgcmVhZDogVGVtcGxhdGVSZWYgfSlcbiAgcHVibGljIHJlYWRvbmx5IGZvb3RlclRvVGVtcGxhdGU/OiBUZW1wbGF0ZVJlZjxIVE1MSW5wdXRFbGVtZW50PjtcblxuICBASW5wdXQoKVxuICBAcHJpem1EZWZhdWx0UHJvcCgpXG4gIGRpc2FibGVkSXRlbUhhbmRsZXI6IFByaXptQm9vbGVhbkhhbmRsZXI8UHJpem1EYXk+ID0gUFJJWk1fQUxXQVlTX0ZBTFNFX0hBTkRMRVI7XG5cbiAgQElucHV0KClcbiAgQHByaXptRGVmYXVsdFByb3AoKVxuICBtYXJrZXJIYW5kbGVyOiBQcml6bU1hcmtlckhhbmRsZXIgPSBQUklaTV9ERUZBVUxUX01BUktFUl9IQU5ETEVSO1xuXG4gIEBJbnB1dCgpXG4gIEBwcml6bURlZmF1bHRQcm9wKClcbiAgZGVmYXVsdFZpZXdlZE1vbnRoID0gUHJpem1Nb250aC5jdXJyZW50TG9jYWwoKTtcblxuICBASW5wdXQoKVxuICBAcHJpem1EZWZhdWx0UHJvcCgpXG4gIGl0ZW1zOiByZWFkb25seSBQcml6bURheVJhbmdlUGVyaW9kW10gPSBbXTtcblxuICBASW5wdXQoKVxuICBAcHJpem1EZWZhdWx0UHJvcCgpXG4gIHBsYWNlaG9sZGVyID0gJyc7XG5cbiAgQElucHV0KClcbiAgQHByaXptRGVmYXVsdFByb3AoKVxuICBtaW46IFByaXptRGF0ZVRpbWVNaW5NYXggPSBQUklaTV9GSVJTVF9EQVk7XG5cbiAgQElucHV0KClcbiAgQHByaXptRGVmYXVsdFByb3AoKVxuICBtYXg6IFByaXptRGF0ZVRpbWVNaW5NYXggPSBQUklaTV9MQVNUX0RBWTtcblxuICBASW5wdXQoKVxuICBAcHJpem1EZWZhdWx0UHJvcCgpXG4gIHRpbWVTdHJpY3QgPSBmYWxzZTtcblxuICBASW5wdXQoKVxuICBAcHJpem1EZWZhdWx0UHJvcCgpXG4gIG1pbkxlbmd0aDogUHJpem1EYXlMaWtlIHwgbnVsbCA9IG51bGw7XG5cbiAgQElucHV0KClcbiAgQHByaXptRGVmYXVsdFByb3AoKVxuICBtYXhMZW5ndGg6IFByaXptRGF5TGlrZSB8IG51bGwgPSBudWxsO1xuXG4gIG9wZW4gPSBmYWxzZTtcbiAgLy8gVE9ETzogZmluaXNoXG4gIC8vIG9wZW5UaW1lVGVtcGxhdGUgPSBmYWxzZTtcblxuICBASW5wdXQoKVxuICBAcHJpem1EZWZhdWx0UHJvcCgpXG4gIHRpbWVNb2RlOiBQcml6bVRpbWVNb2RlID0gJ0hIOk1NJztcblxuICBASW5wdXQoKVxuICBAcHJpem1EZWZhdWx0UHJvcCgpXG4gIHRpbWVJdGVtczogcmVhZG9ubHkgUHJpem1UaW1lW10gPSBuZXcgQXJyYXkoMjQpLmZpbGwobnVsbCkubWFwKChfLCBpKSA9PiBuZXcgUHJpem1UaW1lKGksIDAsIDAsIDApKTtcblxuICBASW5wdXQoKVxuICBAcHJpem1EZWZhdWx0UHJvcCgpXG4gIGV4dHJhQnV0dG9uSW5qZWN0b3I6IEluamVjdG9yID0gdGhpcy5pbmplY3RvcjtcblxuICBvdmVycmlkZSByZWFkb25seSB0ZXN0SWRfID0gJ3VpX2lucHV0X2RhdGVfdGltZV9yYW5nZSc7XG5cbiAgdGVzdFJhbmdlID0gbmV3IFByaXptRGF5UmFuZ2UobmV3IFByaXptRGF5KDIwMTAsIDEsIDEpLCBuZXcgUHJpem1EYXkoMjAxMCwgMiwgMikpO1xuXG4gIGdldCBpbnRlcmFjdGl2ZSgpIHtcbiAgICByZXR1cm4gIXRoaXMuZGlzYWJsZWQ7XG4gIH1cblxuICBwdWJsaWMgcmlnaHRCdXR0b25zJCE6IEJlaGF2aW9yU3ViamVjdDxQcml6bURhdGVCdXR0b25bXT47XG5cbiAgZ2V0IGNhbGVuZGFyTWluRGF5KCk6IFByaXptRGF5IHtcbiAgICByZXR1cm4gdGhpcy5nZXREYXlGcm9tTWluTWF4KHRoaXMubWluKTtcbiAgfVxuXG4gIGdldCBjYWxlbmRhck1heERheSgpOiBQcml6bURheSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RGF5RnJvbU1pbk1heCh0aGlzLm1heCk7XG4gIH1cblxuICByZWFkb25seSBuYXRpdmVWYWx1ZVRpbWVGcm9tJCQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZz4oJycpO1xuICByZWFkb25seSBuYXRpdmVWYWx1ZVRpbWVUbyQkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxzdHJpbmc+KCcnKTtcblxuICByZWFkb25seSBuYXRpdmVWYWx1ZUZyb20kJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8c3RyaW5nPignJyk7XG4gIHJlYWRvbmx5IG5hdGl2ZVZhbHVlVG8kJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8c3RyaW5nPignJyk7XG5cbiAgcmVhZG9ubHkgbmF0aXZlVmFsdWUkJCA9IGNvbWJpbmVMYXRlc3QoW1xuICAgIHRoaXMubmF0aXZlVmFsdWVGcm9tJCQucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKSxcbiAgICB0aGlzLm5hdGl2ZVZhbHVlVGltZUZyb20kJC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpLFxuICAgIHRoaXMubmF0aXZlVmFsdWVUbyQkLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSksXG4gICAgdGhpcy5uYXRpdmVWYWx1ZVRpbWVUbyQkLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSksXG4gIF0pLnBpcGUoXG4gICAgZGVib3VuY2VUaW1lKDApLFxuICAgIG1hcCgoW2Zyb20sIGZyb21UaW1lLCB0bywgdG9UaW1lXSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGltZVJhbmdlOiBbZnJvbVRpbWUsIHRvVGltZV0sXG4gICAgICAgIGRheVJhbmdlOiBbZnJvbSwgdG9dLFxuICAgICAgfTtcbiAgICB9KVxuICApO1xuXG4gIHJlYWRvbmx5IGhhc05hdGl2ZVZhbHVlJCA9IHRoaXMubmF0aXZlVmFsdWUkJC5waXBlKFxuICAgIG1hcCh2YWx1ZSA9PiB7XG4gICAgICByZXR1cm4gaGFzVmFsdWVJbkFycmF5KHZhbHVlPy50aW1lUmFuZ2UpIHx8IGhhc1ZhbHVlSW5BcnJheSh2YWx1ZT8uZGF5UmFuZ2UpO1xuICAgIH0pLFxuICAgIHNoYXJlKClcbiAgKTtcblxuICByZWFkb25seSBlbXB0eSQgPSBjb21iaW5lTGF0ZXN0KFt0aGlzLnZhbHVlJCwgdGhpcy5uYXRpdmVWYWx1ZSQkXSkucGlwZShcbiAgICBtYXAoKFt2YWx1ZSwgbmF0aXZlVmFsdWVdKSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBlbXB0eVZhbHVlKHZhbHVlPy5kYXlSYW5nZSkgJiZcbiAgICAgICAgZW1wdHlWYWx1ZShuYXRpdmVWYWx1ZS5kYXlSYW5nZSkgJiZcbiAgICAgICAgZW1wdHlWYWx1ZSh2YWx1ZT8udGltZVJhbmdlKSAmJlxuICAgICAgICBlbXB0eVZhbHVlKG5hdGl2ZVZhbHVlLnRpbWVSYW5nZSlcbiAgICAgICk7XG4gICAgfSlcbiAgKSBhcyBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuXG4gIG92ZXJyaWRlIGdldCBlbXB0eSgpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gdGhpcy5lbXB0eSQ7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihcbiAgICBASW5qZWN0KENoYW5nZURldGVjdG9yUmVmKSBjaGFuZ2VEZXRlY3RvclJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgQEluamVjdChJbmplY3RvcikgaW5qZWN0b3I6IEluamVjdG9yLFxuICAgIEBJbmplY3QoUHJpem1EaWFsb2dTZXJ2aWNlKSBwcml2YXRlIHJlYWRvbmx5IGRpYWxvZ1NlcnZpY2U6IFByaXptRGlhbG9nU2VydmljZSxcbiAgICBAT3B0aW9uYWwoKVxuICAgIEBJbmplY3QoUFJJWk1fREFURV9GT1JNQVQpXG4gICAgcmVhZG9ubHkgZGF0ZUZvcm1hdDogUHJpem1EYXRlTW9kZSxcbiAgICBASW5qZWN0KFBSSVpNX0RBVEVfU0VQQVJBVE9SKSByZWFkb25seSBkYXRlU2VwYXJhdG9yOiBzdHJpbmcsXG4gICAgQEluamVjdChQUklaTV9EQVRFX1RFWFRTKVxuICAgIHJlYWRvbmx5IGRhdGVUZXh0cyQ6IE9ic2VydmFibGU8UmVjb3JkPFByaXptRGF0ZU1vZGUsIHN0cmluZz4+LFxuICAgIEBPcHRpb25hbCgpXG4gICAgQEluamVjdChQUklaTV9EQVRFX1JBTkdFX1ZBTFVFX1RSQU5TRk9STUVSKVxuICAgIG92ZXJyaWRlIHJlYWRvbmx5IHZhbHVlVHJhbnNmb3JtZXI6IFByaXptQ29udHJvbFZhbHVlVHJhbnNmb3JtZXI8UHJpem1EYXRlVGltZVJhbmdlIHwgbnVsbD4gfCBudWxsXG4gICkge1xuICAgIHN1cGVyKGluamVjdG9yKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgZm9jdXNlZCgpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gdGhpcy5mb2N1c2FibGVFbGVtZW50Py5mb2N1c2VkJCA/PyBvZihmYWxzZSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IGNhbk9wZW4oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJhY3RpdmU7XG4gIH1cblxuICBwdWJsaWMgY2xvc2VPbk91dHNpZGVDbGljayA9IHRydWU7XG5cbiAgZ2V0IGNvbXB1dGVkVGltZU1hc2soKTogc3RyaW5nIHtcbiAgICByZXR1cm4gcHJpem1DcmVhdGVUaW1lTmd4TWFzayh0aGlzLnRpbWVNb2RlKTtcbiAgfVxuXG4gIGdldCBjb21wdXRlZERhdGVNYXNrKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHByaXptQ3JlYXRlRGF0ZU5neE1hc2sodGhpcy5kYXRlRm9ybWF0LCB0aGlzLmRhdGVTZXBhcmF0b3IpO1xuICB9XG5cbiAgZ2V0IGZyb21WYWx1ZSgpOiBzdHJpbmcge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy52YWx1ZT8uZGF5UmFuZ2U/LmZyb20/LnRvU3RyaW5nKCkgPz8gJyc7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMubmF0aXZlVmFsdWVGcm9tJCQudmFsdWUgfHwgJyc7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBnZXQgZnJvbVRpbWVWYWx1ZSgpOiBzdHJpbmcge1xuICAgIGNvbnN0IHZhbCA9IHRoaXMudGltZVRvU3RyaW5nKHRoaXMudmFsdWU/LnRpbWVSYW5nZT8uZnJvbSkgPz8gJyc7XG4gICAgaWYgKCF2YWwpIHtcbiAgICAgIHJldHVybiB0aGlzLm5hdGl2ZVZhbHVlVGltZUZyb20kJC52YWx1ZSB8fCAnJztcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuICBnZXQgdG9WYWx1ZSgpOiBzdHJpbmcge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy52YWx1ZT8uZGF5UmFuZ2U/LnRvPy50b1N0cmluZygpID8/ICcnO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLm5hdGl2ZVZhbHVlVG8kJC52YWx1ZSB8fCAnJztcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGdldCB0b1RpbWVWYWx1ZSgpOiBzdHJpbmcge1xuICAgIGNvbnN0IHZhbCA9IHRoaXMudGltZVRvU3RyaW5nKHRoaXMudmFsdWU/LnRpbWVSYW5nZT8udG8pID8/ICcnO1xuICAgIGlmICghdmFsKSB7XG4gICAgICByZXR1cm4gdGhpcy5uYXRpdmVWYWx1ZVRpbWVUbyQkLnZhbHVlIHx8ICcnO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xuICB9XG5cbiAgcHVibGljIG9uT3BlbkNoYW5nZShvcGVuOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5vcGVuID0gb3BlbjtcbiAgICB0aGlzLmNoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgcHJpdmF0ZSBjb21wbGV0ZURhdGVJZkFyZU5vdFBlbmRpbmcoKSB7XG4gICAgY29uc3QgZnJvbVZhbHVlID0gdGhpcy5uYXRpdmVWYWx1ZUZyb20kJC52YWx1ZTtcbiAgICBjb25zdCB0b1ZhbHVlID0gdGhpcy5uYXRpdmVWYWx1ZVRvJCQudmFsdWU7XG4gICAgY29uc3QgZnJvbVRpbWVWYWx1ZSA9IHRoaXMubmF0aXZlVmFsdWVUaW1lRnJvbSQkLnZhbHVlO1xuICAgIGNvbnN0IHRvVGltZVZhbHVlID0gdGhpcy5uYXRpdmVWYWx1ZVRpbWVUbyQkLnZhbHVlO1xuXG4gICAgLy8gc3RvcCBpZiBlbXB0eVxuICAgIGlmICghZnJvbVZhbHVlICYmICF0b1ZhbHVlICYmICFmcm9tVGltZVZhbHVlICYmICF0b1RpbWVWYWx1ZSkgcmV0dXJuO1xuXG4gICAgLy8gc3RvcCBpZiBzdGFydGVkIHZhbHVlXG4gICAgaWYgKGZyb21WYWx1ZSAmJiBmcm9tVmFsdWUubGVuZ3RoICE9PSB0aGlzLmNvbXB1dGVkRGF0ZU1hc2subGVuZ3RoKSByZXR1cm47XG4gICAgaWYgKHRvVmFsdWUgJiYgdG9WYWx1ZS5sZW5ndGggIT09IHRoaXMuY29tcHV0ZWREYXRlTWFzay5sZW5ndGgpIHJldHVybjtcbiAgICBpZiAoZnJvbVRpbWVWYWx1ZSAmJiBmcm9tVGltZVZhbHVlLmxlbmd0aCAhPT0gdGhpcy5jb21wdXRlZFRpbWVNYXNrLmxlbmd0aCkgcmV0dXJuO1xuICAgIGlmICh0b1RpbWVWYWx1ZSAmJiB0b1RpbWVWYWx1ZS5sZW5ndGggIT09IHRoaXMuY29tcHV0ZWRUaW1lTWFzay5sZW5ndGgpIHJldHVybjtcblxuICAgIGNvbnN0IHBhcnNlZEZyb20gPSBmcm9tVmFsdWVcbiAgICAgID8gUHJpem1EYXkubm9ybWFsaXplUGFyc2UoZnJvbVZhbHVlLCB0aGlzLmRhdGVGb3JtYXQpXG4gICAgICA6IG5ldyBQcml6bURheShuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksIG5ldyBEYXRlKCkuZ2V0TW9udGgoKSwgbmV3IERhdGUoKS5nZXREYXRlKCkpO1xuXG4gICAgY29uc3QgcGFyc2VkVG8gPSB0b1ZhbHVlID8gUHJpem1EYXkubm9ybWFsaXplUGFyc2UodG9WYWx1ZSwgdGhpcy5kYXRlRm9ybWF0KSA6IHBhcnNlZEZyb20uYXBwZW5kKHt9KTtcblxuICAgIGNvbnN0IHBhcnNlZFRpbWVUbyA9IFByaXptVGltZS5jb3JyZWN0VGltZShcbiAgICAgIHRvVGltZVZhbHVlID8gUHJpem1UaW1lLmZyb21TdHJpbmcodG9UaW1lVmFsdWUpIDogbmV3IFByaXptVGltZSgyMywgNTkpXG4gICAgKTtcblxuICAgIGNvbnN0IHBhcnNlZFRpbWVGcm9tID0gUHJpem1UaW1lLmNvcnJlY3RUaW1lKFxuICAgICAgZnJvbVRpbWVWYWx1ZSA/IFByaXptVGltZS5mcm9tU3RyaW5nKGZyb21UaW1lVmFsdWUpIDogbmV3IFByaXptVGltZSgwLCAwKVxuICAgICk7XG5cbiAgICB0aGlzLm5hdGl2ZVZhbHVlVG8kJC5uZXh0KHBhcnNlZFRvLnRvU3RyaW5nKHRoaXMuZGF0ZUZvcm1hdCkpO1xuICAgIHRoaXMubmF0aXZlVmFsdWVGcm9tJCQubmV4dChwYXJzZWRGcm9tLnRvU3RyaW5nKHRoaXMuZGF0ZUZvcm1hdCkpO1xuICAgIHRoaXMubmF0aXZlVmFsdWVUaW1lVG8kJC5uZXh0KHBhcnNlZFRpbWVUby50b1N0cmluZyh0aGlzLnRpbWVNb2RlKSk7XG4gICAgdGhpcy5uYXRpdmVWYWx1ZVRpbWVGcm9tJCQubmV4dChwYXJzZWRUaW1lRnJvbS50b1N0cmluZyh0aGlzLnRpbWVNb2RlKSk7XG4gIH1cblxuICBwdWJsaWMgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xuICAgIHRoaXMuZm9jdXNhYmxlRWxlbWVudD8uYmx1ciRcbiAgICAgIC5waXBlKFxuICAgICAgICBkZWJvdW5jZVRpbWUoMCksXG4gICAgICAgIGZpbHRlclRydXRoeSgpLFxuICAgICAgICB0YXAoKCkgPT4gdGhpcy5jb21wbGV0ZURhdGVJZkFyZU5vdFBlbmRpbmcoKSksXG4gICAgICAgIHRha2VVbnRpbCh0aGlzLmRlc3Ryb3kkKVxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgpO1xuICB9XG5cbiAgcHVibGljIG92ZXJyaWRlIG5nT25Jbml0KCkge1xuICAgIHN1cGVyLm5nT25Jbml0KCk7XG4gICAgdGhpcy5yaWdodEJ1dHRvbnMkID0gdGhpcy5leHRyYUJ1dHRvbkluamVjdG9yLmdldChQUklaTV9EQVRFX1JJR0hUX0JVVFRPTlMpO1xuXG4gICAgdGhpcy5uYXRpdmVWYWx1ZSQkXG4gICAgICAucGlwZShcbiAgICAgICAgdGFwKCh7IGRheVJhbmdlLCB0aW1lUmFuZ2UgfSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGZyb21WYWx1ZSA9IGRheVJhbmdlWzBdO1xuICAgICAgICAgIGNvbnN0IHRvVmFsdWUgPSBkYXlSYW5nZVsxXTtcbiAgICAgICAgICBjb25zdCBmcm9tVGltZVZhbHVlID0gdGltZVJhbmdlWzBdO1xuICAgICAgICAgIGNvbnN0IHRvVGltZVZhbHVlID0gdGltZVJhbmdlWzFdO1xuXG4gICAgICAgICAgaWYgKCFmcm9tVmFsdWUgfHwgZnJvbVZhbHVlLmxlbmd0aCAhPT0gdGhpcy5jb21wdXRlZERhdGVNYXNrLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgIGlmICghdG9WYWx1ZSB8fCB0b1ZhbHVlLmxlbmd0aCAhPT0gdGhpcy5jb21wdXRlZERhdGVNYXNrLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgIGlmICghZnJvbVRpbWVWYWx1ZSB8fCBmcm9tVGltZVZhbHVlLmxlbmd0aCAhPT0gdGhpcy5jb21wdXRlZFRpbWVNYXNrLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgIGlmICghdG9UaW1lVmFsdWUgfHwgdG9UaW1lVmFsdWUubGVuZ3RoICE9PSB0aGlzLmNvbXB1dGVkVGltZU1hc2subGVuZ3RoKSByZXR1cm47XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBmcm9tVmFsdWUgPT09IHRoaXMudmFsdWU/LmRheVJhbmdlPy5mcm9tLnRvU3RyaW5nKCkgJiZcbiAgICAgICAgICAgIGZyb21UaW1lVmFsdWUgPT09IHRoaXMudmFsdWU/LnRpbWVSYW5nZT8uZnJvbS50b1N0cmluZyh0aGlzLnRpbWVNb2RlKSAmJlxuICAgICAgICAgICAgdG9WYWx1ZSA9PT0gdGhpcy52YWx1ZT8uZGF5UmFuZ2U/LnRvLnRvU3RyaW5nKCkgJiZcbiAgICAgICAgICAgIHRvVGltZVZhbHVlID09PSB0aGlzLnZhbHVlPy50aW1lUmFuZ2U/LnRvLnRvU3RyaW5nKHRoaXMudGltZU1vZGUpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy51cGRhdGVXaXRoQ29ycmVjdERhdGVBbmRUaW1lKFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgZnJvbVZhbHVlICYmIGZyb21WYWx1ZS5sZW5ndGggPT09IHRoaXMuY29tcHV0ZWREYXRlTWFzay5sZW5ndGggJiYgZnJvbVZhbHVlLFxuICAgICAgICAgICAgdG9WYWx1ZSAmJiB0b1ZhbHVlLmxlbmd0aCA9PT0gdGhpcy5jb21wdXRlZERhdGVNYXNrLmxlbmd0aCAmJiB0b1ZhbHVlLFxuICAgICAgICAgICAgZnJvbVRpbWVWYWx1ZSAmJiBmcm9tVGltZVZhbHVlLmxlbmd0aCA9PT0gdGhpcy5jb21wdXRlZFRpbWVNYXNrLmxlbmd0aCAmJiBmcm9tVGltZVZhbHVlLFxuICAgICAgICAgICAgdG9UaW1lVmFsdWUgJiYgdG9UaW1lVmFsdWUubGVuZ3RoID09PSB0aGlzLmNvbXB1dGVkVGltZU1hc2subGVuZ3RoICYmIHRvVGltZVZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgfSksXG4gICAgICAgIHRha2VVbnRpbCh0aGlzLmRlc3Ryb3kkKVxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSB0aW1lVG9TdHJpbmcodmFsdWU6IFByaXptVGltZSB8IHVua25vd24pOiBzdHJpbmcgfCBudWxsIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQcml6bVRpbWUgPyB2YWx1ZS50b1N0cmluZyh0aGlzLnRpbWVNb2RlKSA6IG51bGw7XG4gIH1cblxuICBwdWJsaWMgb25EYXRlVmFsdWVDaGFuZ2UodmFsdWU6IHN0cmluZywgaXNGb3JtVmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAoaXNGb3JtVmFsdWUgJiYgdmFsdWUgPT09IHRoaXMuZnJvbVZhbHVlKSByZXR1cm47XG4gICAgaWYgKCFpc0Zvcm1WYWx1ZSAmJiB2YWx1ZSA9PT0gdGhpcy50b1ZhbHVlKSByZXR1cm47XG5cbiAgICBpZiAoaXNGb3JtVmFsdWUpIHRoaXMubmF0aXZlVmFsdWVGcm9tJCQubmV4dCh2YWx1ZSk7XG4gICAgZWxzZSB0aGlzLm5hdGl2ZVZhbHVlVG8kJC5uZXh0KHZhbHVlKTtcblxuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICB0aGlzLm9uT3BlbkNoYW5nZSh0cnVlKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgb25UaW1lVmFsdWVDaGFuZ2UodmFsdWU6IHN0cmluZywgaXNGb3JtVmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAoaXNGb3JtVmFsdWUgJiYgdmFsdWUgPT09IHRoaXMuZnJvbVRpbWVWYWx1ZSkgcmV0dXJuO1xuICAgIGlmICghaXNGb3JtVmFsdWUgJiYgdmFsdWUgPT09IHRoaXMudG9UaW1lVmFsdWUpIHJldHVybjtcbiAgICBpZiAoaXNGb3JtVmFsdWUpIHRoaXMubmF0aXZlVmFsdWVUaW1lRnJvbSQkLm5leHQodmFsdWUpO1xuICAgIGVsc2UgdGhpcy5uYXRpdmVWYWx1ZVRpbWVUbyQkLm5leHQodmFsdWUpO1xuXG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIHRoaXMub25PcGVuQ2hhbmdlKHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBvblJhbmdlQ2hhbmdlKHJhbmdlOiBQcml6bURheVJhbmdlIHwgbnVsbCk6IHZvaWQge1xuICAgIHRoaXMuZm9jdXNJbnB1dCgpO1xuXG4gICAgaWYgKCFyYW5nZSkge1xuICAgICAgdGhpcy5uYXRpdmVWYWx1ZVRvJCQubmV4dCgnJyk7XG4gICAgICB0aGlzLm5hdGl2ZVZhbHVlRnJvbSQkLm5leHQoJycpO1xuICAgIH1cblxuICAgIGlmICghcHJpem1OdWxsYWJsZVNhbWU8UHJpem1EYXlSYW5nZT4odGhpcy52YWx1ZT8uZGF5UmFuZ2UgYXMgYW55LCByYW5nZSwgKGEsIGIpID0+IGE/LmRheVNhbWUoYikpKSB7XG4gICAgICBjb25zdCBuZXdWYWx1ZSA9IG5ldyBQcml6bURhdGVUaW1lUmFuZ2UocmFuZ2UgYXMgYW55LCAodGhpcy52YWx1ZT8udGltZVJhbmdlID8/IG51bGwpIGFzIGFueSk7XG4gICAgICB0aGlzLnVwZGF0ZVZhbHVlKG5ld1ZhbHVlKTtcbiAgICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLm5hdGl2ZVZhbHVlVG8kJC5uZXh0KHJhbmdlPy50bz8udG9TdHJpbmcoKSA/PyAnJyk7XG4gICAgdGhpcy5uYXRpdmVWYWx1ZUZyb20kJC5uZXh0KHJhbmdlPy5mcm9tPy50b1N0cmluZygpID8/ICcnKTtcbiAgICB0aGlzLmNoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVXaXRoQ29ycmVjdERhdGVBbmRUaW1lKGZyb206IHN0cmluZywgdG86IHN0cmluZywgZnJvbVRpbWU6IHN0cmluZywgdG9UaW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBsZXQgcGFyc2VkRnJvbSA9IGZyb20gPyBQcml6bURheS5ub3JtYWxpemVQYXJzZShmcm9tLCB0aGlzLmRhdGVGb3JtYXQpIDogdGhpcy52YWx1ZT8uZGF5UmFuZ2U/LmZyb207XG4gICAgbGV0IHBhcnNlZFRvID0gdG8gPyBQcml6bURheS5ub3JtYWxpemVQYXJzZSh0bywgdGhpcy5kYXRlRm9ybWF0KSA6IHRoaXMudmFsdWU/LmRheVJhbmdlPy50bztcblxuICAgIGlmIChwYXJzZWRGcm9tKSBwYXJzZWRGcm9tID0gdGhpcy5kYXlMaW1pdChwYXJzZWRGcm9tKTtcbiAgICBpZiAocGFyc2VkVG8pIHBhcnNlZFRvID0gdGhpcy5kYXlMaW1pdChwYXJzZWRUbyk7XG5cbiAgICBsZXQgcGFyc2VkVGltZUZyb20gPSBmcm9tVGltZSAmJiBQcml6bVRpbWUuY29ycmVjdFRpbWUoUHJpem1UaW1lLmZyb21TdHJpbmcoZnJvbVRpbWUpKTtcbiAgICBsZXQgcGFyc2VkVGltZVRvID0gdG9UaW1lICYmIFByaXptVGltZS5jb3JyZWN0VGltZShQcml6bVRpbWUuZnJvbVN0cmluZyh0b1RpbWUpKTtcblxuICAgIGlmIChwYXJzZWRUaW1lRnJvbSkgcGFyc2VkVGltZUZyb20gPSB0aGlzLnRpbWVMaW1pdChbcGFyc2VkRnJvbSBhcyBhbnksIHBhcnNlZFRpbWVGcm9tXSkgYXMgYW55O1xuICAgIGlmIChwYXJzZWRUaW1lVG8pIHBhcnNlZFRpbWVUbyA9IHRoaXMudGltZUxpbWl0KFtwYXJzZWRUbyBhcyBhbnksIHBhcnNlZFRpbWVUb10pIGFzIGFueTtcblxuICAgIGlmIChwYXJzZWRUaW1lVG8gfHwgcGFyc2VkVGltZUZyb20pIHtcbiAgICAgIGlmICghcGFyc2VkRnJvbSkge1xuICAgICAgICBwYXJzZWRGcm9tID0gUHJpem1EYXkuZnJvbUxvY2FsTmF0aXZlRGF0ZShuZXcgRGF0ZSgpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFwYXJzZWRUbykge1xuICAgICAgICBjb25zdCB0b21vcnJvdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRvbW9ycm93LnNldERhdGUodG9tb3Jyb3cuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICAgIHBhcnNlZFRvID0gUHJpem1EYXkuZnJvbUxvY2FsTmF0aXZlRGF0ZSh0b21vcnJvdyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVWYWx1ZShcbiAgICAgIG5ldyBQcml6bURhdGVUaW1lUmFuZ2UoXG4gICAgICAgIChwYXJzZWRGcm9tICYmIHBhcnNlZFRvID8gbmV3IFByaXptRGF5UmFuZ2UocGFyc2VkRnJvbSwgcGFyc2VkVG8pIDogbnVsbCkgYXMgYW55LFxuICAgICAgICAocGFyc2VkVGltZUZyb20gJiYgcGFyc2VkVGltZVRvID8gbmV3IFByaXptVGltZVJhbmdlKHBhcnNlZFRpbWVGcm9tLCBwYXJzZWRUaW1lVG8pIDogbnVsbCkgYXMgYW55XG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgdGltZUxpbWl0KHZhbHVlOiBbUHJpem1EYXksIFByaXptVGltZV0gfCBudWxsKTogUHJpem1UaW1lIHwgbnVsbCB7XG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuIG51bGw7XG4gICAgbGV0IFssIHBhcnNlZFRpbWVdID0gdmFsdWU7XG4gICAgaWYgKHBhcnNlZFRpbWUpXG4gICAgICBwYXJzZWRUaW1lID0gcGFyc2VkVGltZS50aW1lTGltaXQodGhpcy5nZXRUaW1lRnJvbU1pbk1heCh0aGlzLm1pbiksIHRoaXMuZ2V0VGltZUZyb21NaW5NYXgodGhpcy5tYXgpKTtcblxuICAgIHJldHVybiBwYXJzZWRUaW1lO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXREYXlGcm9tTWluTWF4KHZhbHVlOiBQcml6bURhdGVUaW1lTWluTWF4KTogUHJpem1EYXkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlWzBdIDogdmFsdWUgaW5zdGFuY2VvZiBQcml6bURhdGVUaW1lID8gdmFsdWUuZGF5IDogdmFsdWU7XG4gIH1cblxuICBwcml2YXRlIGdldFRpbWVGcm9tTWluTWF4KHZhbHVlOiBQcml6bURhdGVUaW1lTWluTWF4KTogUHJpem1UaW1lIHwgbnVsbCB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWVbMV0gOiB2YWx1ZSBpbnN0YW5jZW9mIFByaXptRGF0ZVRpbWUgPyB2YWx1ZS50aW1lIDogbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgZGF5TGltaXQodmFsdWU6IFByaXptRGF5KTogUHJpem1EYXkge1xuICAgIHJldHVybiB2YWx1ZS5kYXlMaW1pdCh0aGlzLmdldERheUZyb21NaW5NYXgodGhpcy5taW4pLCB0aGlzLmdldERheUZyb21NaW5NYXgodGhpcy5tYXgpKTtcbiAgfVxuXG4gIHB1YmxpYyBvdmVycmlkZSB3cml0ZVZhbHVlKHZhbHVlOiBQcml6bURhdGVUaW1lUmFuZ2UgfCBudWxsKTogdm9pZCB7XG4gICAgc3VwZXIud3JpdGVWYWx1ZSh2YWx1ZSBhcyBhbnkpO1xuICAgIHRoaXMubmF0aXZlVmFsdWVUaW1lRnJvbSQkLm5leHQodmFsdWU/LnRpbWVSYW5nZT8uZnJvbT8udG9TdHJpbmcodGhpcy50aW1lTW9kZSkgPz8gJycpO1xuICAgIHRoaXMubmF0aXZlVmFsdWVUaW1lVG8kJC5uZXh0KHZhbHVlPy50aW1lUmFuZ2U/LnRvPy50b1N0cmluZyh0aGlzLnRpbWVNb2RlKSA/PyAnJyk7XG4gICAgdGhpcy5uYXRpdmVWYWx1ZUZyb20kJC5uZXh0KHZhbHVlPy5kYXlSYW5nZT8uZnJvbT8udG9TdHJpbmcoKSA/PyAnJyk7XG4gICAgdGhpcy5uYXRpdmVWYWx1ZVRvJCQubmV4dCh2YWx1ZT8uZGF5UmFuZ2U/LnRvPy50b1N0cmluZygpID8/ICcnKTtcbiAgfVxuXG4gIHByaXZhdGUgdG9nZ2xlKCk6IHZvaWQge1xuICAgIHRoaXMub3BlbiA9ICF0aGlzLm9wZW47XG4gIH1cblxuICBwcml2YXRlIGZvY3VzSW5wdXQoKTogdm9pZCB7XG4gICAgdGhpcy5mb2N1c2FibGVFbGVtZW50Py5mb2N1cygwKTtcbiAgfVxuXG4gIHB1YmxpYyBvdmVycmlkZSBjbGVhcihldjogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGV2LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIHN1cGVyLmNsZWFyKGV2KTtcbiAgICB0aGlzLm5hdGl2ZVZhbHVlVG8kJC5uZXh0KCcnKTtcbiAgICB0aGlzLm5hdGl2ZVZhbHVlRnJvbSQkLm5leHQoJycpO1xuICAgIHRoaXMubmF0aXZlVmFsdWVUaW1lRnJvbSQkLm5leHQoJycpO1xuICAgIHRoaXMubmF0aXZlVmFsdWVUaW1lVG8kJC5uZXh0KCcnKTtcbiAgICB0aGlzLmxheW91dENvbXBvbmVudD8uY2RyLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZVRpbWVUbyh2YWx1ZTogUHJpem1UaW1lKTogdm9pZCB7XG4gICAgLy8gVE9ETzogI216IGFkZCBtaW4gbWF4XG4gICAgaWYgKFxuICAgICAgdmFsdWUgJiZcbiAgICAgIHRoaXMudmFsdWU/LnRpbWVSYW5nZT8udG8gaW5zdGFuY2VvZiBQcml6bVRpbWUgJiZcbiAgICAgIHRoaXMudmFsdWU/LnRpbWVSYW5nZT8udG8/LmlzU2FtZVRpbWUodmFsdWUpXG4gICAgKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHJhbmdlID0gUHJpem1EYXRlVGltZVJhbmdlLnNhZmVVcGRhdGVUaW1lVG8odGhpcy52YWx1ZSwgdmFsdWUpO1xuICAgIHRoaXMudXBkYXRlVmFsdWUocmFuZ2U/LmNvcHkoKSk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlVGltZUZyb20odmFsdWU6IFByaXptVGltZSk6IHZvaWQge1xuICAgIC8vIFRPRE86ICNteiBhZGQgbWluIG1heFxuICAgIGlmIChcbiAgICAgIHZhbHVlICYmXG4gICAgICB0aGlzLnZhbHVlPy50aW1lUmFuZ2U/LmZyb20gaW5zdGFuY2VvZiBQcml6bVRpbWUgJiZcbiAgICAgIHRoaXMudmFsdWU/LnRpbWVSYW5nZT8uZnJvbT8uaXNTYW1lVGltZSh2YWx1ZSlcbiAgICApXG4gICAgICByZXR1cm47XG4gICAgLy8gY29uc3QgcmFuZ2UgPSBQcml6bURhdGVUaW1lUmFuZ2Uuc2FmZVVwZGF0ZVRpbWVGcm9tKHRoaXMudmFsdWUsIHZhbHVlKTtcbiAgICAvLyB0aGlzLnVwZGF0ZVZhbHVlKHJhbmdlPy5jb3B5KCkpO1xuICAgIHRoaXMubmF0aXZlVmFsdWVUaW1lRnJvbSQkLm5leHQodmFsdWUudG9TdHJpbmcodGhpcy50aW1lTW9kZSkpO1xuICB9XG5cbiAgcHVibGljIHJlZmVyRm9jdXNUb01haW4ocmVmZXJGb2N1cyA9IHRydWUpIHtcbiAgICBpZiAoIXJlZmVyRm9jdXMpIHJldHVybjtcbiAgICAvLyBUT0RPIGNyZWF0ZSBvcGVyYXRvciBhbmQgcnhqcyBmdW5jdGluIHRvIHJ1biBzZXF1ZW5jZSBpbiBldmVudCBsb29wXG4gICAgb2YobnVsbClcbiAgICAgIC5waXBlKFxuICAgICAgICBkZWxheSgwKSxcbiAgICAgICAgdGFwKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmZvY3VzYWJsZUVsZW1lbnQ/LnNlbGVjdGlvblRvU3RhcnQoKTtcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKTtcbiAgfVxufVxuXG4vLyBUT0RPIHJlZmFjdG90b3IgYW5kIG1vdmUgdG8gdXRpbHNcbmZ1bmN0aW9uIGhhc1ZhbHVlSW5BcnJheSh2YWx1ZXM6IHVua25vd25bXSkge1xuICByZXR1cm4gISF2YWx1ZXMuZmluZChpID0+IEJvb2xlYW4oaSkpO1xufVxuZnVuY3Rpb24gZW1wdHlWYWx1ZSh2YWx1ZXM6IHVua25vd24gfCB1bmtub3duW10pOiBib29sZWFuIHtcbiAgcmV0dXJuICF2YWx1ZXMgfHwgKEFycmF5LmlzQXJyYXkodmFsdWVzKSAmJiAhaGFzVmFsdWVJbkFycmF5KHZhbHVlcykpO1xufVxuIiwiPHByaXptLWRyb3Bkb3duLWhvc3RcbiAgY2xhc3M9XCJ6LWhvc3RlZFwiXG4gIFtjYW5PcGVuXT1cImNhbk9wZW5cIlxuICBbY29udGVudF09XCJkcm9wZG93blwiXG4gIFtjbG9zZUJ5RXNjXT1cInRydWVcIlxuICBbY2xvc2VPbk91dHNpZGVDbGlja109XCJjbG9zZU9uT3V0c2lkZUNsaWNrXCJcbiAgW3ByaXptRHJvcGRvd25Ib3N0V2lkdGhdPVwiJ2F1dG8nXCJcbiAgW2lzT3Blbl09XCJjYW5PcGVuICYmICFkaXNhYmxlZCAmJiBvcGVuXCJcbiAgW3ByaXptRHJvcGRvd25Ib3N0XT1cImxheW91dENvbXBvbmVudD8uZWw/Lm5hdGl2ZUVsZW1lbnRcIlxuICAoaXNPcGVuQ2hhbmdlKT1cIm9uT3BlbkNoYW5nZSgkZXZlbnQpXCJcbiAgcHJpem1Ecm9wZG93bkhvc3RXaWR0aD1cImF1dG9cIlxuPlxuICA8ZGl2XG4gICAgY2xhc3M9XCJtdWx0aXBsZS1pbnB1dC1ib3hcIlxuICAgICNmb2N1c2FibGVFbGVtZW50UmVmPVwicHJpem1JbnB1dFpvbmVcIlxuICAgIFthdHRyLmRhdGEtcGxhY2Vob2xkZXJdPVwicGxhY2Vob2xkZXJcIlxuICAgIHByaXptSW5wdXRab25lXG4gID5cbiAgICA8aW5wdXRcbiAgICAgIGNsYXNzPVwiaW5wdXQtbWFpblwiXG4gICAgICBbY2xhc3Muc2hvdy1wbGFjZWhvbGRlcl09XCJcbiAgICAgICAgKGVtcHR5IHwgYXN5bmMpICYmIChkaXNhYmxlZCB8fCAoZm9jdXNhYmxlRWxlbWVudFJlZi5mb2N1c2VkJCB8IGFzeW5jKSAhPT0gdHJ1ZSlcbiAgICAgIFwiXG4gICAgICBbcGxhY2Vob2xkZXJdPVwicGxhY2Vob2xkZXJcIlxuICAgICAgW21hc2tdPVwiY29tcHV0ZWREYXRlTWFza1wiXG4gICAgICBbY2xlYXJJZk5vdE1hdGNoXT1cImZhbHNlXCJcbiAgICAgIFtzaG93TWFza1R5cGVkXT1cIihmb2N1c2FibGVFbGVtZW50UmVmLmZvY3VzZWQkIHwgYXN5bmMpIHx8IChoYXNOYXRpdmVWYWx1ZSQgfCBhc3luYylcIlxuICAgICAgW2Ryb3BTcGVjaWFsQ2hhcmFjdGVyc109XCJmYWxzZVwiXG4gICAgICBbZGlzYWJsZWRdPVwiZGlzYWJsZWRcIlxuICAgICAgW25nTW9kZWxPcHRpb25zXT1cInsgc3RhbmRhbG9uZTogdHJ1ZSB9XCJcbiAgICAgIFtuZ01vZGVsXT1cImZyb21WYWx1ZVwiXG4gICAgICBbc2l6ZV09XCJjb21wdXRlZERhdGVNYXNrLmxlbmd0aFwiXG4gICAgICBbbWF4TGVuZ3RoXT1cImNvbXB1dGVkRGF0ZU1hc2subGVuZ3RoICsgMVwiXG4gICAgICBbbWF4U2l6ZV09XCJjb21wdXRlZERhdGVNYXNrLmxlbmd0aFwiXG4gICAgICAoY2xpY2spPVwicmVmZXJGb2N1c1RvTWFpbighZnJvbVZhbHVlKVwiXG4gICAgICAobmdNb2RlbENoYW5nZSk9XCJvbkRhdGVWYWx1ZUNoYW5nZSgkZXZlbnQgfHwgJycsIHRydWUpXCJcbiAgICAgIHN0eWxlPVwicGFkZGluZzogMFwiXG4gICAgICBwcml6bUlucHV0XG4gICAgICBwcml6bUlucHV0SW5ab25lXG4gICAgLz5cbiAgICA8aW5wdXRcbiAgICAgIGNsYXNzPVwiaW5wdXQtdGltZVwiXG4gICAgICBbbWFza109XCJjb21wdXRlZFRpbWVNYXNrXCJcbiAgICAgIFtkcm9wU3BlY2lhbENoYXJhY3RlcnNdPVwiZmFsc2VcIlxuICAgICAgW2NsZWFySWZOb3RNYXRjaF09XCJmYWxzZVwiXG4gICAgICBbc2hvd01hc2tUeXBlZF09XCIoZm9jdXNhYmxlRWxlbWVudFJlZi5mb2N1c2VkJCB8IGFzeW5jKSB8fCAoaGFzTmF0aXZlVmFsdWUkIHwgYXN5bmMpXCJcbiAgICAgIFtkaXNhYmxlZF09XCJkaXNhYmxlZFwiXG4gICAgICBbbmdNb2RlbE9wdGlvbnNdPVwieyBzdGFuZGFsb25lOiB0cnVlIH1cIlxuICAgICAgW25nTW9kZWxdPVwiZnJvbVRpbWVWYWx1ZVwiXG4gICAgICBbc2l6ZV09XCJjb21wdXRlZFRpbWVNYXNrLmxlbmd0aFwiXG4gICAgICBbbWF4TGVuZ3RoXT1cImNvbXB1dGVkVGltZU1hc2subGVuZ3RoICsgMVwiXG4gICAgICBbbWF4U2l6ZV09XCJjb21wdXRlZFRpbWVNYXNrLmxlbmd0aFwiXG4gICAgICAobmdNb2RlbENoYW5nZSk9XCJvblRpbWVWYWx1ZUNoYW5nZSgkZXZlbnQsIHRydWUpXCJcbiAgICAgIHN0eWxlPVwicGFkZGluZzogMFwiXG4gICAgICBwcml6bUlucHV0XG4gICAgICBwcml6bUlucHV0SW5ab25lXG4gICAgLz5cbiAgICA8c3BhbiBjbGFzcz1cImRlbGltaXRlclwiPi08L3NwYW4+XG4gICAgPGlucHV0XG4gICAgICBjbGFzcz1cImlucHV0LXRpbWVcIlxuICAgICAgW21hc2tdPVwiY29tcHV0ZWREYXRlTWFza1wiXG4gICAgICBbZHJvcFNwZWNpYWxDaGFyYWN0ZXJzXT1cImZhbHNlXCJcbiAgICAgIFtjbGVhcklmTm90TWF0Y2hdPVwiZmFsc2VcIlxuICAgICAgW3Nob3dNYXNrVHlwZWRdPVwiKGZvY3VzYWJsZUVsZW1lbnRSZWYuZm9jdXNlZCQgfCBhc3luYykgfHwgKGhhc05hdGl2ZVZhbHVlJCB8IGFzeW5jKVwiXG4gICAgICBbZGlzYWJsZWRdPVwiISFkaXNhYmxlZFwiXG4gICAgICBbbmdNb2RlbE9wdGlvbnNdPVwieyBzdGFuZGFsb25lOiB0cnVlIH1cIlxuICAgICAgW25nTW9kZWxdPVwidG9WYWx1ZVwiXG4gICAgICBbc2l6ZV09XCJjb21wdXRlZERhdGVNYXNrLmxlbmd0aFwiXG4gICAgICBbbWF4TGVuZ3RoXT1cImNvbXB1dGVkRGF0ZU1hc2subGVuZ3RoICsgMVwiXG4gICAgICBbbWF4U2l6ZV09XCJjb21wdXRlZERhdGVNYXNrLmxlbmd0aFwiXG4gICAgICAobmdNb2RlbENoYW5nZSk9XCJvbkRhdGVWYWx1ZUNoYW5nZSgkZXZlbnQgfHwgJycsIGZhbHNlKVwiXG4gICAgICBzdHlsZT1cInBhZGRpbmc6IDBcIlxuICAgICAgcHJpem1JbnB1dFxuICAgICAgcHJpem1JbnB1dEluWm9uZVxuICAgIC8+XG4gICAgPGlucHV0XG4gICAgICBjbGFzcz1cImlucHV0LXRpbWVcIlxuICAgICAgW21hc2tdPVwiY29tcHV0ZWRUaW1lTWFza1wiXG4gICAgICBbZHJvcFNwZWNpYWxDaGFyYWN0ZXJzXT1cImZhbHNlXCJcbiAgICAgIFtjbGVhcklmTm90TWF0Y2hdPVwiZmFsc2VcIlxuICAgICAgW3Nob3dNYXNrVHlwZWRdPVwiKGZvY3VzYWJsZUVsZW1lbnRSZWYuZm9jdXNlZCQgfCBhc3luYykgfHwgKGhhc05hdGl2ZVZhbHVlJCB8IGFzeW5jKVwiXG4gICAgICBbZGlzYWJsZWRdPVwiISFkaXNhYmxlZFwiXG4gICAgICBbbmdNb2RlbE9wdGlvbnNdPVwieyBzdGFuZGFsb25lOiB0cnVlIH1cIlxuICAgICAgW25nTW9kZWxdPVwidG9UaW1lVmFsdWVcIlxuICAgICAgW3NpemVdPVwiY29tcHV0ZWRUaW1lTWFzay5sZW5ndGhcIlxuICAgICAgW21heExlbmd0aF09XCJjb21wdXRlZFRpbWVNYXNrLmxlbmd0aCArIDFcIlxuICAgICAgW21heFNpemVdPVwiY29tcHV0ZWRUaW1lTWFzay5sZW5ndGhcIlxuICAgICAgKG5nTW9kZWxDaGFuZ2UpPVwib25UaW1lVmFsdWVDaGFuZ2UoJGV2ZW50LCBmYWxzZSlcIlxuICAgICAgc3R5bGU9XCJwYWRkaW5nOiAwXCJcbiAgICAgIHByaXptSW5wdXRcbiAgICAgIHByaXptSW5wdXRJblpvbmVcbiAgICAvPlxuICA8L2Rpdj5cblxuICA8IS0tICBUT0RPIGFkZCBhZnRlciBjcmVhdGUgdGltZSByYW5nZSBjb21wb25lbnQgLS0+XG4gIDwhLS0gIDxuZy10ZW1wbGF0ZSAjZHJvcGRvd25UaW1lVGVtcGxhdGU+LS0+XG4gIDwhLS0gICAgPHByaXptLWRhdGEtbGlzdC0tPlxuICA8IS0tICAgICAgY2xhc3M9XCJibG9ja1wiLS0+XG4gIDwhLS0gICAgICAqbmdJZj1cInRpbWVJdGVtcy5sZW5ndGhcIi0tPlxuICA8IS0tICAgICAgW3N0eWxlLiYjNDU7JiM0NTtwcml6bS1kYXRhLWxpc3QtYm9yZGVyXT1cIjBcIi0tPlxuICA8IS0tICAgICAgKHByaXptQWZ0ZXJWaWV3SW5pdCk9XCJtYXJrQXNUb3VjaGVkKCk7IHByaXptRHJvcGRvd25Ib3N0Q29tcG9uZW50LnJlQ2FsY3VsYXRlUG9zaXRpb25zKClcIi0tPlxuICA8IS0tICAgICAgKHByaXptT25EZXN0cm95KT1cIm9wZW5UaW1lVGVtcGxhdGUgPSBmYWxzZVwiLS0+XG4gIDwhLS0gICAgICBwcml6bUxpZmVjeWNsZS0tPlxuICA8IS0tICAgID4tLT5cbiAgPCEtLSAgICAgIDxuZy1jb250YWluZXI+LS0+XG4gIDwhLS0gICAgICAgIDxkaXYtLT5cbiAgPCEtLSAgICAgICAgICBjbGFzcz1cInRpbWUtaXRlbVwiLS0+XG4gIDwhLS0gICAgICAgICAgKm5nRm9yPVwibGV0IGl0ZW0gb2YgdGltZUl0ZW1zOyBsZXQgaWR4ID0gaW5kZXhcIi0tPlxuICA8IS0tICAgICAgICAgIChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IG9uVGltZU1lbnVDbGljayhpdGVtLCAkZXZlbnQpXCItLT5cbiAgPCEtLSAgICAgICAgPi0tPlxuICA8IS0tICAgICAgICA8c3BhbiBjbGFzcz1cInRleHRcIj4tLT5cbiAgPCEtLSAgICAgICAgICB7eyBpdGVtIH19LS0+XG4gIDwhLS0gICAgICAgIDwvc3Bhbj4tLT5cbiAgPCEtLSAgICAgICAgPC9kaXY+LS0+XG4gIDwhLS0gICAgICA8L25nLWNvbnRhaW5lcj4tLT5cbiAgPCEtLSAgICA8L3ByaXptLWRhdGEtbGlzdD4tLT5cbiAgPCEtLSAgPC9uZy10ZW1wbGF0ZT4tLT5cbiAgPCEtLSAgLS0+XG4gIDxuZy10ZW1wbGF0ZSAjZHJvcGRvd24+XG4gICAgPHByaXptLWNhbGVuZGFyLXJhbmdlXG4gICAgICBbc3R5bGUuLS1wcml6bS1pbnB1dC1sYXlvdXQtd2lkdGhdPVwiJzEwMCUnXCJcbiAgICAgIFtzdHlsZS4tLXByaXptLWRyb3Bkb3duLWhvc3Qtd2lkdGhdPVwiJzEwMCUnXCJcbiAgICAgIFtkZWZhdWx0Vmlld2VkTW9udGhdPVwiZGVmYXVsdFZpZXdlZE1vbnRoXCJcbiAgICAgIFtkaXNhYmxlZEl0ZW1IYW5kbGVyXT1cImRpc2FibGVkSXRlbUhhbmRsZXJcIlxuICAgICAgW2l0ZW1zXT1cIml0ZW1zXCJcbiAgICAgIFttaW5dPVwiY2FsZW5kYXJNaW5EYXlcIlxuICAgICAgW21heF09XCJjYWxlbmRhck1heERheVwiXG4gICAgICBbbWFya2VySGFuZGxlcl09XCJtYXJrZXJIYW5kbGVyXCJcbiAgICAgIFttaW5MZW5ndGhdPVwibWluTGVuZ3RoXCJcbiAgICAgIFttYXhMZW5ndGhdPVwibWF4TGVuZ3RoXCJcbiAgICAgIFt2YWx1ZV09XCIkYW55KHZhbHVlPy5kYXlSYW5nZSlcIlxuICAgICAgKHByaXptQWZ0ZXJWaWV3SW5pdCk9XCJtYXJrQXNUb3VjaGVkKClcIlxuICAgICAgKHZhbHVlQ2hhbmdlKT1cIm9uUmFuZ2VDaGFuZ2UoJGV2ZW50KVwiXG4gICAgPlxuICAgICAgPG5nLWNvbnRhaW5lciBmb290ZXJGcm9tPlxuICAgICAgICA8cHJpem0taW5wdXQtbGF5b3V0IGxhYmVsPVwi0JLRgNC10LzRj1wiPlxuICAgICAgICAgIDxwcml6bS1pbnB1dC1sYXlvdXQtdGltZVxuICAgICAgICAgICAgW3N0eWxlLi0tcHJpem0tZHJvcGRvd24taG9zdC13aWR0aF09XCInMTAwJSdcIlxuICAgICAgICAgICAgW25nTW9kZWxPcHRpb25zXT1cInsgc3RhbmRhbG9uZTogdHJ1ZSB9XCJcbiAgICAgICAgICAgIFtuZ01vZGVsXT1cInZhbHVlPy50aW1lUmFuZ2U/LmZyb21cIlxuICAgICAgICAgICAgW2l0ZW1zXT1cInRpbWVJdGVtc1wiXG4gICAgICAgICAgICBbc3RyaWN0XT1cInRpbWVTdHJpY3RcIlxuICAgICAgICAgICAgW21vZGVdPVwidGltZU1vZGVcIlxuICAgICAgICAgICAgKG5nTW9kZWxDaGFuZ2UpPVwidXBkYXRlVGltZUZyb20oJGV2ZW50KVwiXG4gICAgICAgICAgPlxuICAgICAgICAgIDwvcHJpem0taW5wdXQtbGF5b3V0LXRpbWU+XG4gICAgICAgIDwvcHJpem0taW5wdXQtbGF5b3V0PlxuICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICA8bmctY29udGFpbmVyIGZvb3RlclRvPlxuICAgICAgICA8cHJpem0taW5wdXQtbGF5b3V0IGxhYmVsPVwi0JLRgNC10LzRj1wiPlxuICAgICAgICAgIDxwcml6bS1pbnB1dC1sYXlvdXQtdGltZVxuICAgICAgICAgICAgW3N0eWxlLi0tcHJpem0tZHJvcGRvd24taG9zdC13aWR0aF09XCInMTAwJSdcIlxuICAgICAgICAgICAgW25nTW9kZWxPcHRpb25zXT1cInsgc3RhbmRhbG9uZTogdHJ1ZSB9XCJcbiAgICAgICAgICAgIFtuZ01vZGVsXT1cInZhbHVlPy50aW1lUmFuZ2U/LnRvXCJcbiAgICAgICAgICAgIFtuZ01vZGVsT3B0aW9uc109XCJ7IHN0YW5kYWxvbmU6IHRydWUgfVwiXG4gICAgICAgICAgICBbc3RyaWN0XT1cInRpbWVTdHJpY3RcIlxuICAgICAgICAgICAgW2l0ZW1zXT1cInRpbWVJdGVtc1wiXG4gICAgICAgICAgICBbbW9kZV09XCJ0aW1lTW9kZVwiXG4gICAgICAgICAgICAobmdNb2RlbENoYW5nZSk9XCJ1cGRhdGVUaW1lVG8oJGV2ZW50KVwiXG4gICAgICAgICAgPlxuICAgICAgICAgIDwvcHJpem0taW5wdXQtbGF5b3V0LXRpbWU+XG4gICAgICAgIDwvcHJpem0taW5wdXQtbGF5b3V0PlxuICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgPC9wcml6bS1jYWxlbmRhci1yYW5nZT5cbiAgPC9uZy10ZW1wbGF0ZT5cbjwvcHJpem0tZHJvcGRvd24taG9zdD5cblxuPG5nLWNvbnRhaW5lciAqcHJpem1JbnB1dExheW91dFJpZ2h0PlxuICA8YnV0dG9uXG4gICAgW2ludGVyYWN0aXZlXT1cInRydWVcIlxuICAgIFtzdHlsZS4tLXByaXptLWlucHV0LWljb24tYnV0dG9uLXdpZHRoXT1cIicyNHB4J1wiXG4gICAgW2Rpc2FibGVkXT1cIiEhZGlzYWJsZWRcIlxuICAgIChjbGljayk9XCJmb2N1c2FibGVFbGVtZW50UmVmLmZvY3VzKCk7IG9uT3BlbkNoYW5nZSghb3BlbilcIlxuICAgIHByaXptSW5wdXRJY29uQnV0dG9uPVwiZGF0ZS1jYWxlbmRhci1yYW5nZVwiXG4gID48L2J1dHRvbj5cbiAgPCEtLSAgVE9ETyBhZGQgYWZ0ZXIgY3JlYXRlIHRpbWUtcmFuZ2UgbW9kYWwgLS0+XG4gIDwhLS0gIDxidXR0b24tLT5cbiAgPCEtLSAgICBbaW50ZXJhY3RpdmVdPVwidHJ1ZVwiLS0+XG4gIDwhLS0gICAgW2Rpc2FibGVkXT1cImRpc2FibGVkXCItLT5cbiAgPCEtLSAgICAoY2xpY2spPVwib25PcGVuKCFvcGVuKVwiLS0+XG4gIDwhLS0gICAgcHJpem1JbnB1dEljb25CdXR0b249XCJkYXRlLWNsb2NrXCItLT5cbiAgPCEtLSAgPjwvYnV0dG9uPi0tPlxuICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBidXR0b24gb2YgcmlnaHRCdXR0b25zJCB8IGFzeW5jXCIgW25nVGVtcGxhdGVPdXRsZXRdPVwiYnV0dG9uLnRlbXBsYXRlXCI+XG4gIDwvbmctY29udGFpbmVyPlxuPC9uZy1jb250YWluZXI+XG4iXX0=