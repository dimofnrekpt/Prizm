import { ChangeDetectionStrategy, Component, ElementRef, HostBinding, Inject, Input } from '@angular/core';
import { Observable } from 'rxjs';
import { PRIZM_ANIMATIONS_DURATION } from '../../../tokens';
import { PRIZM_DIALOG_CLOSE_STREAM, PRIZM_DIALOG_PROVIDERS } from '../dialog/dialog-options';
import { prizmFadeIn, prizmSlideInTop } from '../../../animations';
import { takeUntil } from 'rxjs/operators';
import { PrizmDestroyService, PrizmToObservableModule } from '@prizm-ui/helpers';
import { PrizmAbstractTestId } from '../../../abstract/interactive';
import { CommonModule } from '@angular/common';
import { PolymorphModule, PrizmFocusTrapModule } from '../../../directives';
import { PrizmOverlayModule } from '../../../modules';
import { PrizmThemeModule } from '@prizm-ui/theme';
import { PrizmButtonModule } from '../../button';
import { PrizmScrollbarModule } from '../../scrollbar';
import * as i0 from "@angular/core";
import * as i1 from "@prizm-ui/helpers";
import * as i2 from "@angular/common";
import * as i3 from "../../../directives/polymorph/directives/outlet";
import * as i4 from "@prizm-ui/theme";
import * as i5 from "../../button/button.component";
import * as i6 from "../../../directives/focus-trap/focus-trap.directive";
import * as i7 from "../../scrollbar/scrollbar.component";
import * as i8 from "rxjs";
export class PrizmDialogConfirmComponent extends PrizmAbstractTestId {
    get size() {
        return this.context.size;
    }
    get id() {
        return this.context.id;
    }
    get slideInTop() {
        return this.animation;
    }
    constructor(duration, close$, destroy$, elRef) {
        super();
        this.duration = duration;
        this.close$ = close$;
        this.destroy$ = destroy$;
        this.elRef = elRef;
        this.width = '100%';
        this.testId_ = 'ui_form_submit';
        this.animation = {
            value: '',
            params: {
                start: '40px',
                duration: this.duration,
            },
        };
        close$.pipe(takeUntil(this.destroy$)).subscribe(() => {
            this.close();
        });
    }
}
PrizmDialogConfirmComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: PrizmDialogConfirmComponent, deps: [{ token: PRIZM_ANIMATIONS_DURATION }, { token: PRIZM_DIALOG_CLOSE_STREAM }, { token: i1.PrizmDestroyService }, { token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });
PrizmDialogConfirmComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.9", type: PrizmDialogConfirmComponent, isStandalone: true, selector: "prizm-confirm-dialog", inputs: { context: "context", close: "close" }, host: { properties: { "attr.prizm-size": "this.size", "attr.prizm-dialog-id": "this.id", "@prizmSlideInTop": "this.slideInTop", "@prizmFadeIn": "this.slideInTop", "style.width": "this.width" } }, providers: PRIZM_DIALOG_PROVIDERS, usesInheritance: true, ngImport: i0, template: "<div class=\"host\" prizmFocusTrap prizmTheme>\n  <div class=\"content\">\n    <div class=\"title prizm-font-title-h4\">\n      <ng-container *polymorphOutlet=\"$any(context.title) as data; context: context\">\n        {{ data }}\n      </ng-container>\n    </div>\n    <div class=\"description prizm-font-main-body-14\">\n      <prizm-scrollbar class=\"scrollbar\" [visibility]=\"context.scrollbarVisibility ?? 'auto'\">\n        <ng-container *polymorphOutlet=\"$any(context.description) as data; context: $any(context)\">\n          {{ data }}\n        </ng-container>\n      </prizm-scrollbar>\n    </div>\n  </div>\n\n  <div class=\"footer prizm-font-btn-links-14\">\n    <ng-template #columnWrapper let-column=\"column\"> </ng-template>\n\n    <ng-container *polymorphOutlet=\"$any(context.footer); context: context\">\n      <ng-container [ngSwitch]=\"!context.showByVertical\">\n        <div class=\"horizontal\" *ngSwitchCase=\"true\">\n          <div class=\"left\">\n            <ng-container\n              *ngIf=\"context.supportButton\"\n              [ngTemplateOutlet]=\"buttonTemplate\"\n              [ngTemplateOutletContext]=\"{ button: context.supportButton }\"\n            >\n            </ng-container>\n          </div>\n          <div class=\"right\">\n            <ng-container\n              *ngIf=\"context.cancelButton\"\n              [ngTemplateOutlet]=\"buttonTemplate\"\n              [ngTemplateOutletContext]=\"{ button: context.cancelButton }\"\n            >\n            </ng-container>\n\n            <ng-container\n              *ngIf=\"context.confirmButton\"\n              [ngTemplateOutlet]=\"buttonTemplate\"\n              [ngTemplateOutletContext]=\"{ button: context.confirmButton }\"\n            >\n            </ng-container>\n          </div>\n        </div>\n        <div class=\"vertical\" *ngSwitchDefault>\n          <div class=\"top\">\n            <ng-container\n              *ngIf=\"context.confirmButton\"\n              [ngTemplateOutlet]=\"buttonTemplate\"\n              [ngTemplateOutletContext]=\"{ button: context.confirmButton }\"\n            >\n            </ng-container>\n            <ng-container\n              *ngIf=\"context.supportButton\"\n              [ngTemplateOutlet]=\"buttonTemplate\"\n              [ngTemplateOutletContext]=\"{ button: context.supportButton }\"\n            >\n            </ng-container>\n          </div>\n          <div class=\"bottom\">\n            <ng-container\n              *ngIf=\"context.cancelButton\"\n              [ngTemplateOutlet]=\"buttonTemplate\"\n              [ngTemplateOutletContext]=\"{ button: context.cancelButton }\"\n            >\n            </ng-container>\n          </div>\n        </div>\n      </ng-container>\n    </ng-container>\n\n    <ng-template #buttonTemplate let-button=\"button\">\n      <button\n        [style]=\"button.style\"\n        [appearance]=\"button.appearance\"\n        [appearanceType]=\"button.appearanceType\"\n        [size]=\"button.size\"\n        [iconRight]=\"button.iconRight\"\n        [icon]=\"button.icon\"\n        [disabled]=\"$any(button.disabled ?? false | prizmToObservable | async)\"\n        [showLoader]=\"$any(button.showLoader ?? false | prizmToObservable | async)\"\n        (click)=\"button.action(context)\"\n        prizmButton\n      >\n        {{ button.text }}\n      </button>\n    </ng-template>\n  </div>\n</div>\n", styles: [".title{overflow:hidden;text-overflow:ellipsis;font-weight:var(--prizm-confirm-dialog-title-font-weight, 600);font-size:var(--prizm-confirm-dialog-title-font-size, 14px);line-height:var(--prizm-confirm-dialog-title-line-height, 20px);text-align:var(--prizm-confirm-dialog-title-align, center);color:var(--prizm-confirm-dialog-title, var(--prizm-v3-text-icon-primary));white-space:pre-line}.description{overflow:hidden;text-overflow:ellipsis;font-weight:var(--prizm-confirm-dialog-description-font-weight, 400);font-size:var(--prizm-confirm-dialog-description-font-size, 14px);line-height:var(--prizm-confirm-dialog-description-line-height, 20px);text-align:var(--prizm-confirm-dialog-description-align, center);color:var(--prizm-confirm-dialog-description, var(--prizm-v3-text-icon-secondary));white-space:pre-line}:host{display:block}.host{background:var(--prizm-confirm-dialog-background, var(--prizm-v3-background-fill-overlay));border:1px solid var(--prizm-v3-background-stroke);border-radius:var(--prizm-confirm-dialog-border-radius, 2px);margin:var(--prizm-confirm-dialog-margin, 10px);pointer-events:all}*:focus-visible{outline:none}.horizontal{display:flex;justify-content:space-between;gap:32px}.left,.right,.top,.bottom{display:flex;gap:8px}.vertical [prizmButton]{width:100%;text-align:center}.vertical .top,.vertical .bottom{flex-flow:column}.vertical .bottom{margin-top:16px}.content{display:flex;flex-flow:column;gap:16px;padding:32px 16px}.footer{border-top:1px solid var(--prizm-v3-background-stroke);padding:var(--prizm-confirm-dialog-padding, 14px 16px);max-width:100%}.footer .buttons{display:flex;justify-content:flex-end;gap:8px}.scrollbar{max-height:var(--prizm-confirm-dialog-max-scrollbar-height, 60vh)}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "directive", type: i2.NgSwitch, selector: "[ngSwitch]", inputs: ["ngSwitch"] }, { kind: "directive", type: i2.NgSwitchCase, selector: "[ngSwitchCase]", inputs: ["ngSwitchCase"] }, { kind: "directive", type: i2.NgSwitchDefault, selector: "[ngSwitchDefault]" }, { kind: "pipe", type: i2.AsyncPipe, name: "async" }, { kind: "ngmodule", type: PolymorphModule }, { kind: "directive", type: i3.PolymorphOutletDirective, selector: "[polymorphOutlet]", inputs: ["polymorphOutlet", "polymorphOutletContext", "polymorphOutletInjector"] }, { kind: "ngmodule", type: PrizmOverlayModule }, { kind: "ngmodule", type: PrizmThemeModule }, { kind: "directive", type: i4.PrizmThemeDirective, selector: "[prizmTheme]", inputs: ["prizmTheme"], outputs: ["prizmThemeChange"] }, { kind: "ngmodule", type: PrizmToObservableModule }, { kind: "pipe", type: i1.PrizmToObservablePipe, name: "prizmToObservable" }, { kind: "ngmodule", type: PrizmButtonModule }, { kind: "component", type: i5.PrizmButtonComponent, selector: "button[prizmButton], button[prizmIconButton], a[prizmButton], a[prizmIconButton]", inputs: ["size", "icon", "iconRight", "appearance", "appearanceType", "disabled", "showLoader"] }, { kind: "ngmodule", type: PrizmFocusTrapModule }, { kind: "directive", type: i6.PrizmFocusTrapDirective, selector: "[prizmFocusTrap]" }, { kind: "ngmodule", type: PrizmScrollbarModule }, { kind: "component", type: i7.PrizmScrollbarComponent, selector: "prizm-scrollbar", inputs: ["visibility"] }], animations: [prizmSlideInTop, prizmFadeIn], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: PrizmDialogConfirmComponent, decorators: [{
            type: Component,
            args: [{ selector: 'prizm-confirm-dialog', changeDetection: ChangeDetectionStrategy.OnPush, providers: PRIZM_DIALOG_PROVIDERS, standalone: true, imports: [
                        CommonModule,
                        PolymorphModule,
                        PrizmOverlayModule,
                        PrizmThemeModule,
                        PrizmToObservableModule,
                        PrizmButtonModule,
                        PrizmFocusTrapModule,
                        PrizmScrollbarModule,
                    ], animations: [prizmSlideInTop, prizmFadeIn], template: "<div class=\"host\" prizmFocusTrap prizmTheme>\n  <div class=\"content\">\n    <div class=\"title prizm-font-title-h4\">\n      <ng-container *polymorphOutlet=\"$any(context.title) as data; context: context\">\n        {{ data }}\n      </ng-container>\n    </div>\n    <div class=\"description prizm-font-main-body-14\">\n      <prizm-scrollbar class=\"scrollbar\" [visibility]=\"context.scrollbarVisibility ?? 'auto'\">\n        <ng-container *polymorphOutlet=\"$any(context.description) as data; context: $any(context)\">\n          {{ data }}\n        </ng-container>\n      </prizm-scrollbar>\n    </div>\n  </div>\n\n  <div class=\"footer prizm-font-btn-links-14\">\n    <ng-template #columnWrapper let-column=\"column\"> </ng-template>\n\n    <ng-container *polymorphOutlet=\"$any(context.footer); context: context\">\n      <ng-container [ngSwitch]=\"!context.showByVertical\">\n        <div class=\"horizontal\" *ngSwitchCase=\"true\">\n          <div class=\"left\">\n            <ng-container\n              *ngIf=\"context.supportButton\"\n              [ngTemplateOutlet]=\"buttonTemplate\"\n              [ngTemplateOutletContext]=\"{ button: context.supportButton }\"\n            >\n            </ng-container>\n          </div>\n          <div class=\"right\">\n            <ng-container\n              *ngIf=\"context.cancelButton\"\n              [ngTemplateOutlet]=\"buttonTemplate\"\n              [ngTemplateOutletContext]=\"{ button: context.cancelButton }\"\n            >\n            </ng-container>\n\n            <ng-container\n              *ngIf=\"context.confirmButton\"\n              [ngTemplateOutlet]=\"buttonTemplate\"\n              [ngTemplateOutletContext]=\"{ button: context.confirmButton }\"\n            >\n            </ng-container>\n          </div>\n        </div>\n        <div class=\"vertical\" *ngSwitchDefault>\n          <div class=\"top\">\n            <ng-container\n              *ngIf=\"context.confirmButton\"\n              [ngTemplateOutlet]=\"buttonTemplate\"\n              [ngTemplateOutletContext]=\"{ button: context.confirmButton }\"\n            >\n            </ng-container>\n            <ng-container\n              *ngIf=\"context.supportButton\"\n              [ngTemplateOutlet]=\"buttonTemplate\"\n              [ngTemplateOutletContext]=\"{ button: context.supportButton }\"\n            >\n            </ng-container>\n          </div>\n          <div class=\"bottom\">\n            <ng-container\n              *ngIf=\"context.cancelButton\"\n              [ngTemplateOutlet]=\"buttonTemplate\"\n              [ngTemplateOutletContext]=\"{ button: context.cancelButton }\"\n            >\n            </ng-container>\n          </div>\n        </div>\n      </ng-container>\n    </ng-container>\n\n    <ng-template #buttonTemplate let-button=\"button\">\n      <button\n        [style]=\"button.style\"\n        [appearance]=\"button.appearance\"\n        [appearanceType]=\"button.appearanceType\"\n        [size]=\"button.size\"\n        [iconRight]=\"button.iconRight\"\n        [icon]=\"button.icon\"\n        [disabled]=\"$any(button.disabled ?? false | prizmToObservable | async)\"\n        [showLoader]=\"$any(button.showLoader ?? false | prizmToObservable | async)\"\n        (click)=\"button.action(context)\"\n        prizmButton\n      >\n        {{ button.text }}\n      </button>\n    </ng-template>\n  </div>\n</div>\n", styles: [".title{overflow:hidden;text-overflow:ellipsis;font-weight:var(--prizm-confirm-dialog-title-font-weight, 600);font-size:var(--prizm-confirm-dialog-title-font-size, 14px);line-height:var(--prizm-confirm-dialog-title-line-height, 20px);text-align:var(--prizm-confirm-dialog-title-align, center);color:var(--prizm-confirm-dialog-title, var(--prizm-v3-text-icon-primary));white-space:pre-line}.description{overflow:hidden;text-overflow:ellipsis;font-weight:var(--prizm-confirm-dialog-description-font-weight, 400);font-size:var(--prizm-confirm-dialog-description-font-size, 14px);line-height:var(--prizm-confirm-dialog-description-line-height, 20px);text-align:var(--prizm-confirm-dialog-description-align, center);color:var(--prizm-confirm-dialog-description, var(--prizm-v3-text-icon-secondary));white-space:pre-line}:host{display:block}.host{background:var(--prizm-confirm-dialog-background, var(--prizm-v3-background-fill-overlay));border:1px solid var(--prizm-v3-background-stroke);border-radius:var(--prizm-confirm-dialog-border-radius, 2px);margin:var(--prizm-confirm-dialog-margin, 10px);pointer-events:all}*:focus-visible{outline:none}.horizontal{display:flex;justify-content:space-between;gap:32px}.left,.right,.top,.bottom{display:flex;gap:8px}.vertical [prizmButton]{width:100%;text-align:center}.vertical .top,.vertical .bottom{flex-flow:column}.vertical .bottom{margin-top:16px}.content{display:flex;flex-flow:column;gap:16px;padding:32px 16px}.footer{border-top:1px solid var(--prizm-v3-background-stroke);padding:var(--prizm-confirm-dialog-padding, 14px 16px);max-width:100%}.footer .buttons{display:flex;justify-content:flex-end;gap:8px}.scrollbar{max-height:var(--prizm-confirm-dialog-max-scrollbar-height, 60vh)}\n"] }]
        }], ctorParameters: function () { return [{ type: undefined, decorators: [{
                    type: Inject,
                    args: [PRIZM_ANIMATIONS_DURATION]
                }] }, { type: i8.Observable, decorators: [{
                    type: Inject,
                    args: [PRIZM_DIALOG_CLOSE_STREAM]
                }] }, { type: i1.PrizmDestroyService }, { type: i0.ElementRef }]; }, propDecorators: { context: [{
                type: Input
            }], close: [{
                type: Input
            }], size: [{
                type: HostBinding,
                args: ['attr.prizm-size']
            }], id: [{
                type: HostBinding,
                args: ['attr.prizm-dialog-id']
            }], slideInTop: [{
                type: HostBinding,
                args: ['@prizmSlideInTop']
            }, {
                type: HostBinding,
                args: ['@prizmFadeIn']
            }], width: [{
                type: HostBinding,
                args: ['style.width']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlybS1kaWFsb2cuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9jb21wb25lbnRzL3NyYy9saWIvY29tcG9uZW50cy9kaWFsb2dzL2NvbmZpcm0tZGlhbG9nL2NvbmZpcm0tZGlhbG9nLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvY29tcG9uZW50cy9zcmMvbGliL2NvbXBvbmVudHMvZGlhbG9ncy9jb25maXJtLWRpYWxvZy9jb25maXJtLWRpYWxvZy5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzRyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ2xDLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzVELE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxzQkFBc0IsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQzdGLE9BQU8sRUFBeUIsV0FBVyxFQUFFLGVBQWUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQzFGLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMzQyxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUdqRixPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUNwRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLGVBQWUsRUFBRSxvQkFBb0IsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQzVFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3RELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNqRCxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQzs7Ozs7Ozs7OztBQXFCdkQsTUFBTSxPQUFPLDJCQUE0QyxTQUFRLG1CQUFtQjtJQVVsRixJQUNXLElBQUk7UUFDYixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBdUIsQ0FBQztJQUM5QyxDQUFDO0lBRUQsSUFDVyxFQUFFO1FBQ1gsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQVksQ0FBQztJQUNuQyxDQUFDO0lBRUQsSUFFVyxVQUFVO1FBQ25CLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUN4QixDQUFDO0lBZUQsWUFDc0QsUUFBZ0IsRUFDeEIsTUFBMkIsRUFDdEQsUUFBNkIsRUFDN0IsS0FBaUI7UUFFbEMsS0FBSyxFQUFFLENBQUM7UUFMNEMsYUFBUSxHQUFSLFFBQVEsQ0FBUTtRQUN4QixXQUFNLEdBQU4sTUFBTSxDQUFxQjtRQUN0RCxhQUFRLEdBQVIsUUFBUSxDQUFxQjtRQUM3QixVQUFLLEdBQUwsS0FBSyxDQUFZO1FBaEIzQixVQUFLLEdBQUcsTUFBTSxDQUFDO1FBRU4sWUFBTyxHQUFHLGdCQUFnQixDQUFDO1FBRTVCLGNBQVMsR0FBRztZQUMzQixLQUFLLEVBQUUsRUFBRTtZQUNULE1BQU0sRUFBRTtnQkFDTixLQUFLLEVBQUUsTUFBTTtnQkFDYixRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVE7YUFDeEI7U0FDTyxDQUFDO1FBU1QsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRTtZQUNuRCxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDZixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7O3dIQWpEVSwyQkFBMkIsa0JBd0M1Qix5QkFBeUIsYUFDekIseUJBQXlCOzRHQXpDeEIsMkJBQTJCLHVUQWQzQixzQkFBc0IsaURDdEJuQyxtMUdBMkZBLHl2RERsRUksWUFBWSwwbUJBQ1osZUFBZSx5TUFDZixrQkFBa0IsOEJBQ2xCLGdCQUFnQixvS0FDaEIsdUJBQXVCLDJHQUN2QixpQkFBaUIsbVJBQ2pCLG9CQUFvQixxSEFDcEIsb0JBQW9CLCtIQUVWLENBQUMsZUFBZSxFQUFFLFdBQVcsQ0FBQzsyRkFFL0IsMkJBQTJCO2tCQW5CdkMsU0FBUzsrQkFDRSxzQkFBc0IsbUJBR2YsdUJBQXVCLENBQUMsTUFBTSxhQUNwQyxzQkFBc0IsY0FDckIsSUFBSSxXQUNQO3dCQUNQLFlBQVk7d0JBQ1osZUFBZTt3QkFDZixrQkFBa0I7d0JBQ2xCLGdCQUFnQjt3QkFDaEIsdUJBQXVCO3dCQUN2QixpQkFBaUI7d0JBQ2pCLG9CQUFvQjt3QkFDcEIsb0JBQW9CO3FCQUNyQixjQUNXLENBQUMsZUFBZSxFQUFFLFdBQVcsQ0FBQzs7MEJBMEN2QyxNQUFNOzJCQUFDLHlCQUF5Qjs7MEJBQ2hDLE1BQU07MkJBQUMseUJBQXlCO3VHQXZDNUIsT0FBTztzQkFEYixLQUFLO2dCQU9DLEtBQUs7c0JBRFgsS0FBSztnQkFJSyxJQUFJO3NCQURkLFdBQVc7dUJBQUMsaUJBQWlCO2dCQU1uQixFQUFFO3NCQURaLFdBQVc7dUJBQUMsc0JBQXNCO2dCQU94QixVQUFVO3NCQUZwQixXQUFXO3VCQUFDLGtCQUFrQjs7c0JBQzlCLFdBQVc7dUJBQUMsY0FBYztnQkFNbEIsS0FBSztzQkFEYixXQUFXO3VCQUFDLGFBQWEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBIb3N0QmluZGluZywgSW5qZWN0LCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgUFJJWk1fQU5JTUFUSU9OU19EVVJBVElPTiB9IGZyb20gJy4uLy4uLy4uL3Rva2Vucyc7XG5pbXBvcnQgeyBQUklaTV9ESUFMT0dfQ0xPU0VfU1RSRUFNLCBQUklaTV9ESUFMT0dfUFJPVklERVJTIH0gZnJvbSAnLi4vZGlhbG9nL2RpYWxvZy1vcHRpb25zJztcbmltcG9ydCB7IFByaXptQW5pbWF0aW9uT3B0aW9ucywgcHJpem1GYWRlSW4sIHByaXptU2xpZGVJblRvcCB9IGZyb20gJy4uLy4uLy4uL2FuaW1hdGlvbnMnO1xuaW1wb3J0IHsgdGFrZVVudGlsIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgUHJpem1EZXN0cm95U2VydmljZSwgUHJpem1Ub09ic2VydmFibGVNb2R1bGUgfSBmcm9tICdAcHJpem0tdWkvaGVscGVycyc7XG5pbXBvcnQgeyBQcml6bUJhc2VEaWFsb2dDb250ZXh0LCBQcml6bURpYWxvZ1NpemUgfSBmcm9tICcuLi9kaWFsb2cnO1xuaW1wb3J0IHsgUHJpem1Db25maXJtRGlhbG9nT3B0aW9ucywgUHJpem1Db25maXJtRGlhbG9nUmVzdWx0RGVmYXVsdFR5cGUgfSBmcm9tICcuL2NvbmZpcm0tZGlhbG9nLm1vZGVscyc7XG5pbXBvcnQgeyBQcml6bUFic3RyYWN0VGVzdElkIH0gZnJvbSAnLi4vLi4vLi4vYWJzdHJhY3QvaW50ZXJhY3RpdmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IFBvbHltb3JwaE1vZHVsZSwgUHJpem1Gb2N1c1RyYXBNb2R1bGUgfSBmcm9tICcuLi8uLi8uLi9kaXJlY3RpdmVzJztcbmltcG9ydCB7IFByaXptT3ZlcmxheU1vZHVsZSB9IGZyb20gJy4uLy4uLy4uL21vZHVsZXMnO1xuaW1wb3J0IHsgUHJpem1UaGVtZU1vZHVsZSB9IGZyb20gJ0Bwcml6bS11aS90aGVtZSc7XG5pbXBvcnQgeyBQcml6bUJ1dHRvbk1vZHVsZSB9IGZyb20gJy4uLy4uL2J1dHRvbic7XG5pbXBvcnQgeyBQcml6bVNjcm9sbGJhck1vZHVsZSB9IGZyb20gJy4uLy4uL3Njcm9sbGJhcic7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3ByaXptLWNvbmZpcm0tZGlhbG9nJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2NvbmZpcm0tZGlhbG9nLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vY29uZmlybS1kaWFsb2cuY29tcG9uZW50Lmxlc3MnXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIHByb3ZpZGVyczogUFJJWk1fRElBTE9HX1BST1ZJREVSUyxcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgaW1wb3J0czogW1xuICAgIENvbW1vbk1vZHVsZSxcbiAgICBQb2x5bW9ycGhNb2R1bGUsXG4gICAgUHJpem1PdmVybGF5TW9kdWxlLFxuICAgIFByaXptVGhlbWVNb2R1bGUsXG4gICAgUHJpem1Ub09ic2VydmFibGVNb2R1bGUsXG4gICAgUHJpem1CdXR0b25Nb2R1bGUsXG4gICAgUHJpem1Gb2N1c1RyYXBNb2R1bGUsXG4gICAgUHJpem1TY3JvbGxiYXJNb2R1bGUsXG4gIF0sXG4gIGFuaW1hdGlvbnM6IFtwcml6bVNsaWRlSW5Ub3AsIHByaXptRmFkZUluXSxcbn0pXG5leHBvcnQgY2xhc3MgUHJpem1EaWFsb2dDb25maXJtQ29tcG9uZW50PERBVEEgPSB1bmtub3duPiBleHRlbmRzIFByaXptQWJzdHJhY3RUZXN0SWQge1xuICBASW5wdXQoKVxuICBwdWJsaWMgY29udGV4dCE6IFByaXptQmFzZURpYWxvZ0NvbnRleHQ8XG4gICAgUHJpem1Db25maXJtRGlhbG9nUmVzdWx0RGVmYXVsdFR5cGUsXG4gICAgUHJpem1Db25maXJtRGlhbG9nT3B0aW9uczxEQVRBPlxuICA+O1xuXG4gIEBJbnB1dCgpXG4gIHB1YmxpYyBjbG9zZSE6ICgpID0+IHZvaWQ7XG5cbiAgQEhvc3RCaW5kaW5nKCdhdHRyLnByaXptLXNpemUnKVxuICBwdWJsaWMgZ2V0IHNpemUoKTogUHJpem1EaWFsb2dTaXplIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZXh0LnNpemUgYXMgUHJpem1EaWFsb2dTaXplO1xuICB9XG5cbiAgQEhvc3RCaW5kaW5nKCdhdHRyLnByaXptLWRpYWxvZy1pZCcpXG4gIHB1YmxpYyBnZXQgaWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZXh0LmlkIGFzIHN0cmluZztcbiAgfVxuXG4gIEBIb3N0QmluZGluZygnQHByaXptU2xpZGVJblRvcCcpXG4gIEBIb3N0QmluZGluZygnQHByaXptRmFkZUluJylcbiAgcHVibGljIGdldCBzbGlkZUluVG9wKCk6IFByaXptQW5pbWF0aW9uT3B0aW9ucyB7XG4gICAgcmV0dXJuIHRoaXMuYW5pbWF0aW9uO1xuICB9XG5cbiAgQEhvc3RCaW5kaW5nKCdzdHlsZS53aWR0aCcpXG4gIHJlYWRvbmx5IHdpZHRoID0gJzEwMCUnO1xuXG4gIG92ZXJyaWRlIHJlYWRvbmx5IHRlc3RJZF8gPSAndWlfZm9ybV9zdWJtaXQnO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgYW5pbWF0aW9uID0ge1xuICAgIHZhbHVlOiAnJyxcbiAgICBwYXJhbXM6IHtcbiAgICAgIHN0YXJ0OiAnNDBweCcsXG4gICAgICBkdXJhdGlvbjogdGhpcy5kdXJhdGlvbixcbiAgICB9LFxuICB9IGFzIGNvbnN0O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIEBJbmplY3QoUFJJWk1fQU5JTUFUSU9OU19EVVJBVElPTikgcHJpdmF0ZSByZWFkb25seSBkdXJhdGlvbjogbnVtYmVyLFxuICAgIEBJbmplY3QoUFJJWk1fRElBTE9HX0NMT1NFX1NUUkVBTSkgcmVhZG9ubHkgY2xvc2UkOiBPYnNlcnZhYmxlPHVua25vd24+LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgZGVzdHJveSQ6IFByaXptRGVzdHJveVNlcnZpY2UsXG4gICAgcHJpdmF0ZSByZWFkb25seSBlbFJlZjogRWxlbWVudFJlZlxuICApIHtcbiAgICBzdXBlcigpO1xuICAgIGNsb3NlJC5waXBlKHRha2VVbnRpbCh0aGlzLmRlc3Ryb3kkKSkuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiPGRpdiBjbGFzcz1cImhvc3RcIiBwcml6bUZvY3VzVHJhcCBwcml6bVRoZW1lPlxuICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuICAgIDxkaXYgY2xhc3M9XCJ0aXRsZSBwcml6bS1mb250LXRpdGxlLWg0XCI+XG4gICAgICA8bmctY29udGFpbmVyICpwb2x5bW9ycGhPdXRsZXQ9XCIkYW55KGNvbnRleHQudGl0bGUpIGFzIGRhdGE7IGNvbnRleHQ6IGNvbnRleHRcIj5cbiAgICAgICAge3sgZGF0YSB9fVxuICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImRlc2NyaXB0aW9uIHByaXptLWZvbnQtbWFpbi1ib2R5LTE0XCI+XG4gICAgICA8cHJpem0tc2Nyb2xsYmFyIGNsYXNzPVwic2Nyb2xsYmFyXCIgW3Zpc2liaWxpdHldPVwiY29udGV4dC5zY3JvbGxiYXJWaXNpYmlsaXR5ID8/ICdhdXRvJ1wiPlxuICAgICAgICA8bmctY29udGFpbmVyICpwb2x5bW9ycGhPdXRsZXQ9XCIkYW55KGNvbnRleHQuZGVzY3JpcHRpb24pIGFzIGRhdGE7IGNvbnRleHQ6ICRhbnkoY29udGV4dClcIj5cbiAgICAgICAgICB7eyBkYXRhIH19XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgPC9wcml6bS1zY3JvbGxiYXI+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuXG4gIDxkaXYgY2xhc3M9XCJmb290ZXIgcHJpem0tZm9udC1idG4tbGlua3MtMTRcIj5cbiAgICA8bmctdGVtcGxhdGUgI2NvbHVtbldyYXBwZXIgbGV0LWNvbHVtbj1cImNvbHVtblwiPiA8L25nLXRlbXBsYXRlPlxuXG4gICAgPG5nLWNvbnRhaW5lciAqcG9seW1vcnBoT3V0bGV0PVwiJGFueShjb250ZXh0LmZvb3Rlcik7IGNvbnRleHQ6IGNvbnRleHRcIj5cbiAgICAgIDxuZy1jb250YWluZXIgW25nU3dpdGNoXT1cIiFjb250ZXh0LnNob3dCeVZlcnRpY2FsXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJob3Jpem9udGFsXCIgKm5nU3dpdGNoQ2FzZT1cInRydWVcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibGVmdFwiPlxuICAgICAgICAgICAgPG5nLWNvbnRhaW5lclxuICAgICAgICAgICAgICAqbmdJZj1cImNvbnRleHQuc3VwcG9ydEJ1dHRvblwiXG4gICAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImJ1dHRvblRlbXBsYXRlXCJcbiAgICAgICAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cInsgYnV0dG9uOiBjb250ZXh0LnN1cHBvcnRCdXR0b24gfVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHRcIj5cbiAgICAgICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAgICAgKm5nSWY9XCJjb250ZXh0LmNhbmNlbEJ1dHRvblwiXG4gICAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImJ1dHRvblRlbXBsYXRlXCJcbiAgICAgICAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cInsgYnV0dG9uOiBjb250ZXh0LmNhbmNlbEJ1dHRvbiB9XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuXG4gICAgICAgICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICAgICAgICpuZ0lmPVwiY29udGV4dC5jb25maXJtQnV0dG9uXCJcbiAgICAgICAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRdPVwiYnV0dG9uVGVtcGxhdGVcIlxuICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwieyBidXR0b246IGNvbnRleHQuY29uZmlybUJ1dHRvbiB9XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInZlcnRpY2FsXCIgKm5nU3dpdGNoRGVmYXVsdD5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidG9wXCI+XG4gICAgICAgICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICAgICAgICpuZ0lmPVwiY29udGV4dC5jb25maXJtQnV0dG9uXCJcbiAgICAgICAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRdPVwiYnV0dG9uVGVtcGxhdGVcIlxuICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwieyBidXR0b246IGNvbnRleHQuY29uZmlybUJ1dHRvbiB9XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgPG5nLWNvbnRhaW5lclxuICAgICAgICAgICAgICAqbmdJZj1cImNvbnRleHQuc3VwcG9ydEJ1dHRvblwiXG4gICAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImJ1dHRvblRlbXBsYXRlXCJcbiAgICAgICAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cInsgYnV0dG9uOiBjb250ZXh0LnN1cHBvcnRCdXR0b24gfVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm90dG9tXCI+XG4gICAgICAgICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICAgICAgICpuZ0lmPVwiY29udGV4dC5jYW5jZWxCdXR0b25cIlxuICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldF09XCJidXR0b25UZW1wbGF0ZVwiXG4gICAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7IGJ1dHRvbjogY29udGV4dC5jYW5jZWxCdXR0b24gfVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICA8L25nLWNvbnRhaW5lcj5cblxuICAgIDxuZy10ZW1wbGF0ZSAjYnV0dG9uVGVtcGxhdGUgbGV0LWJ1dHRvbj1cImJ1dHRvblwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBbc3R5bGVdPVwiYnV0dG9uLnN0eWxlXCJcbiAgICAgICAgW2FwcGVhcmFuY2VdPVwiYnV0dG9uLmFwcGVhcmFuY2VcIlxuICAgICAgICBbYXBwZWFyYW5jZVR5cGVdPVwiYnV0dG9uLmFwcGVhcmFuY2VUeXBlXCJcbiAgICAgICAgW3NpemVdPVwiYnV0dG9uLnNpemVcIlxuICAgICAgICBbaWNvblJpZ2h0XT1cImJ1dHRvbi5pY29uUmlnaHRcIlxuICAgICAgICBbaWNvbl09XCJidXR0b24uaWNvblwiXG4gICAgICAgIFtkaXNhYmxlZF09XCIkYW55KGJ1dHRvbi5kaXNhYmxlZCA/PyBmYWxzZSB8IHByaXptVG9PYnNlcnZhYmxlIHwgYXN5bmMpXCJcbiAgICAgICAgW3Nob3dMb2FkZXJdPVwiJGFueShidXR0b24uc2hvd0xvYWRlciA/PyBmYWxzZSB8IHByaXptVG9PYnNlcnZhYmxlIHwgYXN5bmMpXCJcbiAgICAgICAgKGNsaWNrKT1cImJ1dHRvbi5hY3Rpb24oY29udGV4dClcIlxuICAgICAgICBwcml6bUJ1dHRvblxuICAgICAgPlxuICAgICAgICB7eyBidXR0b24udGV4dCB9fVxuICAgICAgPC9idXR0b24+XG4gICAgPC9uZy10ZW1wbGF0ZT5cbiAgPC9kaXY+XG48L2Rpdj5cbiJdfQ==