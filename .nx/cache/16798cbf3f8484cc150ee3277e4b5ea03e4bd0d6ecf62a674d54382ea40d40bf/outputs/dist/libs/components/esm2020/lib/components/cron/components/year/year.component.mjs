import { ChangeDetectionStrategy, Component, Input, ViewChild } from '@angular/core';
import { PrizmCronUiYearState } from '../../cron-ui-year.state';
import { UntypedFormControl } from '@angular/forms';
import { PrizmChipsComponent } from '../../../chips';
import * as i0 from "@angular/core";
import * as i1 from "../../cron-ui-year.state";
import * as i2 from "@angular/common";
import * as i3 from "@angular/forms";
import * as i4 from "@prizm-ui/helpers";
import * as i5 from "../../../chips/chips.component";
import * as i6 from "../../../input/common/input-layout/input-layout.component";
import * as i7 from "../../../input/common/input-allowed-symbols/input-allowed-symbols.directive";
import * as i8 from "../../../radio/prizm-radio-button.component";
import * as i9 from "../../../input/input-text/input-text.component";
import * as i10 from "../schedule/schedule.component";
import * as i11 from "../carousel/carousel.component";
export class PrizmCronYearComponent {
    constructor(cronUiState) {
        this.cronUiState = cronUiState;
        this.specifiedList = [];
        this.deletable = true;
        this.requiredInputControl = new UntypedFormControl('');
        this.chipsControl = new UntypedFormControl([]);
        this.yearForAdd = null;
        this.chipses = [];
        this.allowedYear = /[0-9]/g;
    }
    removedChips(value) {
        const correctedValue = this.corrector(value);
        this.chipses = correctedValue;
        this.saveSpecified(correctedValue.join(', '));
    }
    onEnter(value, chipsComponent) {
        if (!value)
            return;
        const str = value.toString();
        this.yearForAdd = null;
        this.chipses.push(str);
        this.chipses = this.corrector(this.chipses);
        this.saveSpecified(this.chipses.join(', '));
    }
    join(str) {
        return str.join(', ');
    }
    corrector(str) {
        const result = str
            .reduce((base, i) => {
            const trimmed = i.replace(/[ ]+/g, '');
            const int = parseInt(trimmed, 10);
            if (!trimmed) {
                return base;
            }
            if (!int)
                return base;
            if (int < 1900)
                return base;
            if (int > 2999)
                base.push(2999);
            else
                base.push(int);
            return base;
        }, [])
            .sort()
            .map(i => i.toString());
        return Array.from(new Set(result));
    }
    saveSpecified(str) {
        return this.cronUiState.updateSpecified(str.replace(/[ ]+/g, '').split(','));
    }
}
PrizmCronYearComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: PrizmCronYearComponent, deps: [{ token: i1.PrizmCronUiYearState }], target: i0.ɵɵFactoryTarget.Component });
PrizmCronYearComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.9", type: PrizmCronYearComponent, selector: "prizm-cron-year", inputs: { specifiedList: "specifiedList" }, viewQueries: [{ propertyName: "chipsComponent", first: true, predicate: PrizmChipsComponent, descendants: true, static: true }], ngImport: i0, template: "<div class=\"blocks\">\n  <ng-container *ngIf=\"cronUiState.canShowCronListItem(specifiedList, cronUiState.TYPES.every)\">\n    <label\n      class=\"every value-block block\"\n      *prizmLet=\"cronUiState.TYPES.every as currentType\"\n      [class.selected]=\"cronUiState.typeControl.value === currentType\"\n    >\n      <div class=\"radio\">\n        <prizm-radio-button\n          [formControl]=\"cronUiState.typeControl\"\n          [label]=\"null\"\n          [value]=\"currentType\"\n          [name]=\"'type'\"\n          (changeEvent)=\"cronUiState.setEvery()\"\n        ></prizm-radio-button>\n      </div>\n      <div class=\"content row\">\u041A\u0430\u0436\u0434\u044B\u0439 \u0433\u043E\u0434</div>\n    </label>\n  </ng-container>\n\n  <ng-container *ngIf=\"cronUiState.canShowCronListItem(specifiedList, cronUiState.TYPES.after)\">\n    <label\n      class=\"block row\"\n      *prizmLet=\"cronUiState.TYPES.after as currentType\"\n      [class.selected]=\"cronUiState.typeControl.value === currentType\"\n    >\n      <div class=\"radio\">\n        <prizm-radio-button\n          [formControl]=\"cronUiState.typeControl\"\n          [label]=\"null\"\n          [value]=\"currentType\"\n          [name]=\"'type'\"\n          (changeEvent)=\"cronUiState.updateOn()\"\n        ></prizm-radio-button>\n      </div>\n      <div class=\"content row\">\n        <span>\u041A\u0430\u0436\u0434\u044B\u0439</span>\n        <prizm-cron-carousel\n          [content]=\"cronUiState.list | prizmPluck : ['everyChosenTimesAfterChosen', 'on']\"\n          [value]=\"cronUiState.state$ | async | prizmPluck : ['everyChosenTimesAfterChosen', 'on']\"\n          (valueChange)=\"cronUiState.updateOn({ on: $event })\"\n        >\n          <ng-template #content let-value=\"content\">\n            {{ value }}\n          </ng-template>\n        </prizm-cron-carousel>\n        <span>\u0433\u043E\u0434, \u043D\u0430\u0447\u0438\u043D\u0430\u044F \u0441</span>\n\n        <prizm-cron-carousel\n          [content]=\"cronUiState.list | prizmPluck : ['everyChosenTimesAfterChosen', 'after']\"\n          [value]=\"cronUiState.state$ | async | prizmPluck : ['everyChosenTimesAfterChosen', 'after']\"\n          (valueChange)=\"cronUiState.updateOn({ after: $event })\"\n        ></prizm-cron-carousel>\n      </div>\n    </label>\n  </ng-container>\n\n  <ng-container *ngIf=\"cronUiState.canShowCronListItem(specifiedList, cronUiState.TYPES.specified)\">\n    <label\n      class=\"block\"\n      *prizmLet=\"cronUiState.TYPES.specified as currentType\"\n      [class.selected]=\"cronUiState.typeControl.value === currentType\"\n    >\n      <div class=\"radio\">\n        <prizm-radio-button\n          [formControl]=\"cronUiState.typeControl\"\n          [label]=\"null\"\n          [value]=\"currentType\"\n          [name]=\"'type'\"\n          (changeEvent)=\"scheduleComponent.emit()\"\n        ></prizm-radio-button>\n      </div>\n      <div class=\"content column year\">\n        <span>\u0412\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0439 \u0433\u043E\u0434 (\u0432\u044B\u0431\u043E\u0440 \u043E\u0434\u043D\u043E\u0433\u043E \u0438\u043B\u0438 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u0438\u0445)</span>\n        <div>\n          <prizm-input-layout\n            class=\"year-input\"\n            *prizmLet=\"\n              cronUiState.state$ | async | prizmPluck : ['specified'] | prizmCallFunc : corrector as chips\n            \"\n            [outer]=\"true\"\n            [label]=\"null\"\n            size=\"m\"\n          >\n            <input\n              #input\n              [(ngModel)]=\"yearForAdd\"\n              [prizmInputAllowedSymbols]=\"allowedYear\"\n              [ngModelOptions]=\"{ standalone: true }\"\n              (enter)=\"onEnter($event, chipsComponent)\"\n              prizmInput\n              placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043E\u0434\"\n            />\n            <prizm-chips\n              #chipsComponent\n              [ngModel]=\"chips\"\n              [deletable]=\"deletable\"\n              (ngModelChange)=\"removedChips($event)\"\n              prizm-input-bottom\n            ></prizm-chips>\n          </prizm-input-layout>\n\n          <!--          <prizm-input-layout-->\n          <!--            class=\"year-input\"-->\n          <!--            *prizmLet=\"-->\n          <!--              cronUiState.state$ | async | prizmPluck : ['specified'] | prizmCallFunc : join as joinedStr-->\n          <!--            \"-->\n          <!--            [outer]=\"true\"-->\n          <!--            [label]=\"null\"-->\n          <!--            [forceClear]=\"false\"-->\n          <!--            size=\"m\"-->\n          <!--          >-->\n          <!--            <input-->\n          <!--              [prizmInputAllowedSymbols]=\"allowedYear\"-->\n          <!--              [prizmInputCorrector]=\"corrector\"-->\n          <!--              [ngModel]=\"joinedStr\"-->\n          <!--              [ngModelOptions]=\"{ standalone: true }\"-->\n          <!--              (ngModelChange)=\"saveSpecified($event)\"-->\n          <!--              prizmInput-->\n          <!--            />-->\n          <!--          </prizm-input-layout>-->\n        </div>\n        <prizm-cron-schedule\n          #scheduleComponent\n          [items]=\"cronUiState.list.specified\"\n          [selected]=\"cronUiState.state$ | async | prizmPluck : ['specified']\"\n          (selectedChange)=\"cronUiState.updateSpecified($event)\"\n        ></prizm-cron-schedule>\n      </div>\n    </label>\n  </ng-container>\n\n  <ng-container *ngIf=\"cronUiState.canShowCronListItem(specifiedList, cronUiState.TYPES.between)\">\n    <label\n      class=\"block row\"\n      *prizmLet=\"cronUiState.TYPES.between as currentType\"\n      [class.selected]=\"cronUiState.typeControl.value === currentType\"\n    >\n      <div class=\"radio\">\n        <prizm-radio-button\n          [formControl]=\"cronUiState.typeControl\"\n          [label]=\"null\"\n          [value]=\"currentType\"\n          [name]=\"'type'\"\n          (changeEvent)=\"cronUiState.updateBetween()\"\n        ></prizm-radio-button>\n      </div>\n      <div class=\"content\">\n        <span>\u041A\u0430\u0436\u0434\u044B\u0439 \u0433\u043E\u0434 \u0441</span>\n        <prizm-cron-carousel\n          #start\n          [content]=\"cronUiState.list.between.start\"\n          [value]=\"cronUiState.state$ | async | prizmPluck : ['between', 'start']\"\n          (valueChange)=\"cronUiState.updateBetween({ start: $event })\"\n        ></prizm-cron-carousel>\n        <span>\u0434\u043E</span>\n        <prizm-cron-carousel\n          #end\n          [content]=\"cronUiState.list.between.end\"\n          [value]=\"cronUiState.state$ | async | prizmPluck : ['between', 'end']\"\n          (valueChange)=\"cronUiState.updateBetween({ end: $event })\"\n        ></prizm-cron-carousel>\n      </div>\n    </label>\n  </ng-container>\n</div>\n", styles: [".year-input{padding:4px 0}prizm-chips:not(:empty){margin-bottom:10px}.year.content{max-width:var(--prizm-cron-year-max-width, 400px)}\n", ".blocks{display:flex;flex-direction:column}.blocks .block{display:flex;width:100%;gap:8px;padding:16px 15px}.blocks .block.row .radio{align-items:center;display:flex}.blocks .block.row .content{flex-direction:row;align-items:center;gap:12px}.content{display:flex}.content.column{flex-direction:column;gap:8px}\n"], dependencies: [{ kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i3.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i3.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i3.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "directive", type: i4.PrizmLetDirective, selector: "[prizmLet]", inputs: ["prizmLet"], exportAs: ["prizmLet"] }, { kind: "component", type: i5.PrizmChipsComponent, selector: "prizm-chips", inputs: ["size", "chips", "deletable", "singleLine", "hintCanShow", "hintDirection"], outputs: ["addChipEvent", "removeChipEvent", "clickChipEvent"] }, { kind: "component", type: i6.PrizmInputLayoutComponent, selector: "prizm-input-layout", inputs: ["label", "size", "status", "outer", "clearButton", "border", "position", "forceClear"], outputs: ["clear"] }, { kind: "directive", type: i7.PrizmInputAllowedSymbolsDirective, selector: "[prizmInputAllowedSymbols]", inputs: ["prizmInputAllowedSymbols"] }, { kind: "component", type: i8.PrizmRadioButtonComponent, selector: "prizm-radio-button", inputs: ["size", "value", "name", "label", "disabled"], outputs: ["clickEvent", "changeEvent", "focusEvent", "focusOutEvent", "blurEvent"] }, { kind: "directive", type: i3.FormControlDirective, selector: "[formControl]", inputs: ["formControl", "disabled", "ngModel"], outputs: ["ngModelChange"], exportAs: ["ngForm"] }, { kind: "component", type: i9.PrizmInputTextComponent, selector: "input[prizmInput]:not([type=number]), textarea[prizmInput], input[prizmInputPassword]", inputs: ["disabled", "required", "value"], outputs: ["enter", "onClear", "valueChanged"], exportAs: ["prizmInput"] }, { kind: "component", type: i10.PrizmCronScheduleComponent, selector: "prizm-cron-schedule", inputs: ["items", "selected"], outputs: ["selectedChange"] }, { kind: "component", type: i11.PrizmCronCarouselComponent, selector: "prizm-cron-carousel", inputs: ["content", "value"], outputs: ["valueChange"] }, { kind: "pipe", type: i2.AsyncPipe, name: "async" }, { kind: "pipe", type: i4.PrizmPluckPipe, name: "prizmPluck" }, { kind: "pipe", type: i4.PrizmCallFuncPipe, name: "prizmCallFunc" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: PrizmCronYearComponent, decorators: [{
            type: Component,
            args: [{ selector: 'prizm-cron-year', changeDetection: ChangeDetectionStrategy.OnPush, template: "<div class=\"blocks\">\n  <ng-container *ngIf=\"cronUiState.canShowCronListItem(specifiedList, cronUiState.TYPES.every)\">\n    <label\n      class=\"every value-block block\"\n      *prizmLet=\"cronUiState.TYPES.every as currentType\"\n      [class.selected]=\"cronUiState.typeControl.value === currentType\"\n    >\n      <div class=\"radio\">\n        <prizm-radio-button\n          [formControl]=\"cronUiState.typeControl\"\n          [label]=\"null\"\n          [value]=\"currentType\"\n          [name]=\"'type'\"\n          (changeEvent)=\"cronUiState.setEvery()\"\n        ></prizm-radio-button>\n      </div>\n      <div class=\"content row\">\u041A\u0430\u0436\u0434\u044B\u0439 \u0433\u043E\u0434</div>\n    </label>\n  </ng-container>\n\n  <ng-container *ngIf=\"cronUiState.canShowCronListItem(specifiedList, cronUiState.TYPES.after)\">\n    <label\n      class=\"block row\"\n      *prizmLet=\"cronUiState.TYPES.after as currentType\"\n      [class.selected]=\"cronUiState.typeControl.value === currentType\"\n    >\n      <div class=\"radio\">\n        <prizm-radio-button\n          [formControl]=\"cronUiState.typeControl\"\n          [label]=\"null\"\n          [value]=\"currentType\"\n          [name]=\"'type'\"\n          (changeEvent)=\"cronUiState.updateOn()\"\n        ></prizm-radio-button>\n      </div>\n      <div class=\"content row\">\n        <span>\u041A\u0430\u0436\u0434\u044B\u0439</span>\n        <prizm-cron-carousel\n          [content]=\"cronUiState.list | prizmPluck : ['everyChosenTimesAfterChosen', 'on']\"\n          [value]=\"cronUiState.state$ | async | prizmPluck : ['everyChosenTimesAfterChosen', 'on']\"\n          (valueChange)=\"cronUiState.updateOn({ on: $event })\"\n        >\n          <ng-template #content let-value=\"content\">\n            {{ value }}\n          </ng-template>\n        </prizm-cron-carousel>\n        <span>\u0433\u043E\u0434, \u043D\u0430\u0447\u0438\u043D\u0430\u044F \u0441</span>\n\n        <prizm-cron-carousel\n          [content]=\"cronUiState.list | prizmPluck : ['everyChosenTimesAfterChosen', 'after']\"\n          [value]=\"cronUiState.state$ | async | prizmPluck : ['everyChosenTimesAfterChosen', 'after']\"\n          (valueChange)=\"cronUiState.updateOn({ after: $event })\"\n        ></prizm-cron-carousel>\n      </div>\n    </label>\n  </ng-container>\n\n  <ng-container *ngIf=\"cronUiState.canShowCronListItem(specifiedList, cronUiState.TYPES.specified)\">\n    <label\n      class=\"block\"\n      *prizmLet=\"cronUiState.TYPES.specified as currentType\"\n      [class.selected]=\"cronUiState.typeControl.value === currentType\"\n    >\n      <div class=\"radio\">\n        <prizm-radio-button\n          [formControl]=\"cronUiState.typeControl\"\n          [label]=\"null\"\n          [value]=\"currentType\"\n          [name]=\"'type'\"\n          (changeEvent)=\"scheduleComponent.emit()\"\n        ></prizm-radio-button>\n      </div>\n      <div class=\"content column year\">\n        <span>\u0412\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0439 \u0433\u043E\u0434 (\u0432\u044B\u0431\u043E\u0440 \u043E\u0434\u043D\u043E\u0433\u043E \u0438\u043B\u0438 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u0438\u0445)</span>\n        <div>\n          <prizm-input-layout\n            class=\"year-input\"\n            *prizmLet=\"\n              cronUiState.state$ | async | prizmPluck : ['specified'] | prizmCallFunc : corrector as chips\n            \"\n            [outer]=\"true\"\n            [label]=\"null\"\n            size=\"m\"\n          >\n            <input\n              #input\n              [(ngModel)]=\"yearForAdd\"\n              [prizmInputAllowedSymbols]=\"allowedYear\"\n              [ngModelOptions]=\"{ standalone: true }\"\n              (enter)=\"onEnter($event, chipsComponent)\"\n              prizmInput\n              placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043E\u0434\"\n            />\n            <prizm-chips\n              #chipsComponent\n              [ngModel]=\"chips\"\n              [deletable]=\"deletable\"\n              (ngModelChange)=\"removedChips($event)\"\n              prizm-input-bottom\n            ></prizm-chips>\n          </prizm-input-layout>\n\n          <!--          <prizm-input-layout-->\n          <!--            class=\"year-input\"-->\n          <!--            *prizmLet=\"-->\n          <!--              cronUiState.state$ | async | prizmPluck : ['specified'] | prizmCallFunc : join as joinedStr-->\n          <!--            \"-->\n          <!--            [outer]=\"true\"-->\n          <!--            [label]=\"null\"-->\n          <!--            [forceClear]=\"false\"-->\n          <!--            size=\"m\"-->\n          <!--          >-->\n          <!--            <input-->\n          <!--              [prizmInputAllowedSymbols]=\"allowedYear\"-->\n          <!--              [prizmInputCorrector]=\"corrector\"-->\n          <!--              [ngModel]=\"joinedStr\"-->\n          <!--              [ngModelOptions]=\"{ standalone: true }\"-->\n          <!--              (ngModelChange)=\"saveSpecified($event)\"-->\n          <!--              prizmInput-->\n          <!--            />-->\n          <!--          </prizm-input-layout>-->\n        </div>\n        <prizm-cron-schedule\n          #scheduleComponent\n          [items]=\"cronUiState.list.specified\"\n          [selected]=\"cronUiState.state$ | async | prizmPluck : ['specified']\"\n          (selectedChange)=\"cronUiState.updateSpecified($event)\"\n        ></prizm-cron-schedule>\n      </div>\n    </label>\n  </ng-container>\n\n  <ng-container *ngIf=\"cronUiState.canShowCronListItem(specifiedList, cronUiState.TYPES.between)\">\n    <label\n      class=\"block row\"\n      *prizmLet=\"cronUiState.TYPES.between as currentType\"\n      [class.selected]=\"cronUiState.typeControl.value === currentType\"\n    >\n      <div class=\"radio\">\n        <prizm-radio-button\n          [formControl]=\"cronUiState.typeControl\"\n          [label]=\"null\"\n          [value]=\"currentType\"\n          [name]=\"'type'\"\n          (changeEvent)=\"cronUiState.updateBetween()\"\n        ></prizm-radio-button>\n      </div>\n      <div class=\"content\">\n        <span>\u041A\u0430\u0436\u0434\u044B\u0439 \u0433\u043E\u0434 \u0441</span>\n        <prizm-cron-carousel\n          #start\n          [content]=\"cronUiState.list.between.start\"\n          [value]=\"cronUiState.state$ | async | prizmPluck : ['between', 'start']\"\n          (valueChange)=\"cronUiState.updateBetween({ start: $event })\"\n        ></prizm-cron-carousel>\n        <span>\u0434\u043E</span>\n        <prizm-cron-carousel\n          #end\n          [content]=\"cronUiState.list.between.end\"\n          [value]=\"cronUiState.state$ | async | prizmPluck : ['between', 'end']\"\n          (valueChange)=\"cronUiState.updateBetween({ end: $event })\"\n        ></prizm-cron-carousel>\n      </div>\n    </label>\n  </ng-container>\n</div>\n", styles: [".year-input{padding:4px 0}prizm-chips:not(:empty){margin-bottom:10px}.year.content{max-width:var(--prizm-cron-year-max-width, 400px)}\n", ".blocks{display:flex;flex-direction:column}.blocks .block{display:flex;width:100%;gap:8px;padding:16px 15px}.blocks .block.row .radio{align-items:center;display:flex}.blocks .block.row .content{flex-direction:row;align-items:center;gap:12px}.content{display:flex}.content.column{flex-direction:column;gap:8px}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.PrizmCronUiYearState }]; }, propDecorators: { specifiedList: [{
                type: Input
            }], chipsComponent: [{
                type: ViewChild,
                args: [PrizmChipsComponent, { static: true }]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieWVhci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2NvbXBvbmVudHMvc3JjL2xpYi9jb21wb25lbnRzL2Nyb24vY29tcG9uZW50cy95ZWFyL3llYXIuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9jb21wb25lbnRzL3NyYy9saWIvY29tcG9uZW50cy9jcm9uL2NvbXBvbmVudHMveWVhci95ZWFyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNyRixPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUVoRSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNwRCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7Ozs7Ozs7Ozs7OztBQVFyRCxNQUFNLE9BQU8sc0JBQXNCO0lBVWpDLFlBQTRCLFdBQWlDO1FBQWpDLGdCQUFXLEdBQVgsV0FBVyxDQUFzQjtRQVRwRCxrQkFBYSxHQUEwQixFQUFFLENBQUM7UUFDNUMsY0FBUyxHQUFHLElBQUksQ0FBQztRQUNqQix5QkFBb0IsR0FBRyxJQUFJLGtCQUFrQixDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2xELGlCQUFZLEdBQUcsSUFBSSxrQkFBa0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMxQyxlQUFVLEdBQWtCLElBQUksQ0FBQztRQUNqQyxZQUFPLEdBQWEsRUFBRSxDQUFDO1FBQ2QsZ0JBQVcsR0FBRyxRQUFRLENBQUM7SUFHeUIsQ0FBQztJQUUxRCxZQUFZLENBQUMsS0FBZTtRQUNqQyxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxPQUFPLEdBQUcsY0FBYyxDQUFDO1FBQzlCLElBQUksQ0FBQyxhQUFhLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ2hELENBQUM7SUFFTSxPQUFPLENBQUMsS0FBVSxFQUFFLGNBQW1DO1FBQzVELElBQUksQ0FBQyxLQUFLO1lBQUUsT0FBTztRQUNuQixNQUFNLEdBQUcsR0FBRyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDN0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7UUFFdkIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM1QyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUVNLElBQUksQ0FBQyxHQUFhO1FBQ3ZCLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN4QixDQUFDO0lBRU0sU0FBUyxDQUFDLEdBQWE7UUFDNUIsTUFBTSxNQUFNLEdBQUcsR0FBRzthQUNmLE1BQU0sQ0FBQyxDQUFDLElBQWMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUM1QixNQUFNLE9BQU8sR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQztZQUN2QyxNQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBRWxDLElBQUksQ0FBQyxPQUFPLEVBQUU7Z0JBQ1osT0FBTyxJQUFJLENBQUM7YUFDYjtZQUVELElBQUksQ0FBQyxHQUFHO2dCQUFFLE9BQU8sSUFBSSxDQUFDO1lBQ3RCLElBQUksR0FBRyxHQUFHLElBQUk7Z0JBQUUsT0FBTyxJQUFJLENBQUM7WUFDNUIsSUFBSSxHQUFHLEdBQUcsSUFBSTtnQkFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDOztnQkFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUVwQixPQUFPLElBQUksQ0FBQztRQUNkLENBQUMsRUFBRSxFQUFFLENBQUM7YUFDTCxJQUFJLEVBQUU7YUFDTixHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztRQUUxQixPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRU0sYUFBYSxDQUFDLEdBQVc7UUFDOUIsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUMvRSxDQUFDOzttSEF6RFUsc0JBQXNCO3VHQUF0QixzQkFBc0IsbUpBUXRCLG1CQUFtQiw4RENwQmhDLHcxTkFzS0E7MkZEMUphLHNCQUFzQjtrQkFObEMsU0FBUzsrQkFDRSxpQkFBaUIsbUJBR1YsdUJBQXVCLENBQUMsTUFBTTsyR0FHdEMsYUFBYTtzQkFBckIsS0FBSztnQkFPNEMsY0FBYztzQkFBL0QsU0FBUzt1QkFBQyxtQkFBbUIsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50LCBJbnB1dCwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBQcml6bUNyb25VaVllYXJTdGF0ZSB9IGZyb20gJy4uLy4uL2Nyb24tdWkteWVhci5zdGF0ZSc7XG5pbXBvcnQgeyBQcml6bUNyb25VaUJhc2VUeXBlIH0gZnJvbSAnLi4vLi4vbW9kZWwnO1xuaW1wb3J0IHsgVW50eXBlZEZvcm1Db250cm9sIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgUHJpem1DaGlwc0NvbXBvbmVudCB9IGZyb20gJy4uLy4uLy4uL2NoaXBzJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAncHJpem0tY3Jvbi15ZWFyJyxcbiAgc3R5bGVVcmxzOiBbJy4veWVhci5jb21wb25lbnQubGVzcycsICcuLi8uLi9jcm9uLWVsZW1lbnQuY29tcG9uZW50Lmxlc3MnXSxcbiAgdGVtcGxhdGVVcmw6ICcuL3llYXIuY29tcG9uZW50Lmh0bWwnLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbn0pXG5leHBvcnQgY2xhc3MgUHJpem1Dcm9uWWVhckNvbXBvbmVudCB7XG4gIEBJbnB1dCgpIHNwZWNpZmllZExpc3Q6IFByaXptQ3JvblVpQmFzZVR5cGVbXSA9IFtdO1xuICBwdWJsaWMgZGVsZXRhYmxlID0gdHJ1ZTtcbiAgcHVibGljIHJlcXVpcmVkSW5wdXRDb250cm9sID0gbmV3IFVudHlwZWRGb3JtQ29udHJvbCgnJyk7XG4gIHB1YmxpYyBjaGlwc0NvbnRyb2wgPSBuZXcgVW50eXBlZEZvcm1Db250cm9sKFtdKTtcbiAgcHVibGljIHllYXJGb3JBZGQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwdWJsaWMgY2hpcHNlczogc3RyaW5nW10gPSBbXTtcbiAgcHVibGljIHJlYWRvbmx5IGFsbG93ZWRZZWFyID0gL1swLTldL2c7XG4gIEBWaWV3Q2hpbGQoUHJpem1DaGlwc0NvbXBvbmVudCwgeyBzdGF0aWM6IHRydWUgfSkgY2hpcHNDb21wb25lbnQhOiBQcml6bUNoaXBzQ29tcG9uZW50O1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBjcm9uVWlTdGF0ZTogUHJpem1Dcm9uVWlZZWFyU3RhdGUpIHt9XG5cbiAgcHVibGljIHJlbW92ZWRDaGlwcyh2YWx1ZTogc3RyaW5nW10pOiB2b2lkIHtcbiAgICBjb25zdCBjb3JyZWN0ZWRWYWx1ZSA9IHRoaXMuY29ycmVjdG9yKHZhbHVlKTtcbiAgICB0aGlzLmNoaXBzZXMgPSBjb3JyZWN0ZWRWYWx1ZTtcbiAgICB0aGlzLnNhdmVTcGVjaWZpZWQoY29ycmVjdGVkVmFsdWUuam9pbignLCAnKSk7XG4gIH1cblxuICBwdWJsaWMgb25FbnRlcih2YWx1ZTogYW55LCBjaGlwc0NvbXBvbmVudDogUHJpem1DaGlwc0NvbXBvbmVudCk6IHZvaWQge1xuICAgIGlmICghdmFsdWUpIHJldHVybjtcbiAgICBjb25zdCBzdHIgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgIHRoaXMueWVhckZvckFkZCA9IG51bGw7XG5cbiAgICB0aGlzLmNoaXBzZXMucHVzaChzdHIpO1xuICAgIHRoaXMuY2hpcHNlcyA9IHRoaXMuY29ycmVjdG9yKHRoaXMuY2hpcHNlcyk7XG4gICAgdGhpcy5zYXZlU3BlY2lmaWVkKHRoaXMuY2hpcHNlcy5qb2luKCcsICcpKTtcbiAgfVxuXG4gIHB1YmxpYyBqb2luKHN0cjogc3RyaW5nW10pOiBzdHJpbmcge1xuICAgIHJldHVybiBzdHIuam9pbignLCAnKTtcbiAgfVxuXG4gIHB1YmxpYyBjb3JyZWN0b3Ioc3RyOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCByZXN1bHQgPSBzdHJcbiAgICAgIC5yZWR1Y2UoKGJhc2U6IG51bWJlcltdLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IHRyaW1tZWQgPSBpLnJlcGxhY2UoL1sgXSsvZywgJycpO1xuICAgICAgICBjb25zdCBpbnQgPSBwYXJzZUludCh0cmltbWVkLCAxMCk7XG5cbiAgICAgICAgaWYgKCF0cmltbWVkKSB7XG4gICAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWludCkgcmV0dXJuIGJhc2U7XG4gICAgICAgIGlmIChpbnQgPCAxOTAwKSByZXR1cm4gYmFzZTtcbiAgICAgICAgaWYgKGludCA+IDI5OTkpIGJhc2UucHVzaCgyOTk5KTtcbiAgICAgICAgZWxzZSBiYXNlLnB1c2goaW50KTtcblxuICAgICAgICByZXR1cm4gYmFzZTtcbiAgICAgIH0sIFtdKVxuICAgICAgLnNvcnQoKVxuICAgICAgLm1hcChpID0+IGkudG9TdHJpbmcoKSk7XG5cbiAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KHJlc3VsdCkpO1xuICB9XG5cbiAgcHVibGljIHNhdmVTcGVjaWZpZWQoc3RyOiBzdHJpbmcpOiB2b2lkIHtcbiAgICByZXR1cm4gdGhpcy5jcm9uVWlTdGF0ZS51cGRhdGVTcGVjaWZpZWQoc3RyLnJlcGxhY2UoL1sgXSsvZywgJycpLnNwbGl0KCcsJykpO1xuICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwiYmxvY2tzXCI+XG4gIDxuZy1jb250YWluZXIgKm5nSWY9XCJjcm9uVWlTdGF0ZS5jYW5TaG93Q3Jvbkxpc3RJdGVtKHNwZWNpZmllZExpc3QsIGNyb25VaVN0YXRlLlRZUEVTLmV2ZXJ5KVwiPlxuICAgIDxsYWJlbFxuICAgICAgY2xhc3M9XCJldmVyeSB2YWx1ZS1ibG9jayBibG9ja1wiXG4gICAgICAqcHJpem1MZXQ9XCJjcm9uVWlTdGF0ZS5UWVBFUy5ldmVyeSBhcyBjdXJyZW50VHlwZVwiXG4gICAgICBbY2xhc3Muc2VsZWN0ZWRdPVwiY3JvblVpU3RhdGUudHlwZUNvbnRyb2wudmFsdWUgPT09IGN1cnJlbnRUeXBlXCJcbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzPVwicmFkaW9cIj5cbiAgICAgICAgPHByaXptLXJhZGlvLWJ1dHRvblxuICAgICAgICAgIFtmb3JtQ29udHJvbF09XCJjcm9uVWlTdGF0ZS50eXBlQ29udHJvbFwiXG4gICAgICAgICAgW2xhYmVsXT1cIm51bGxcIlxuICAgICAgICAgIFt2YWx1ZV09XCJjdXJyZW50VHlwZVwiXG4gICAgICAgICAgW25hbWVdPVwiJ3R5cGUnXCJcbiAgICAgICAgICAoY2hhbmdlRXZlbnQpPVwiY3JvblVpU3RhdGUuc2V0RXZlcnkoKVwiXG4gICAgICAgID48L3ByaXptLXJhZGlvLWJ1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnQgcm93XCI+0JrQsNC20LTRi9C5INCz0L7QtDwvZGl2PlxuICAgIDwvbGFiZWw+XG4gIDwvbmctY29udGFpbmVyPlxuXG4gIDxuZy1jb250YWluZXIgKm5nSWY9XCJjcm9uVWlTdGF0ZS5jYW5TaG93Q3Jvbkxpc3RJdGVtKHNwZWNpZmllZExpc3QsIGNyb25VaVN0YXRlLlRZUEVTLmFmdGVyKVwiPlxuICAgIDxsYWJlbFxuICAgICAgY2xhc3M9XCJibG9jayByb3dcIlxuICAgICAgKnByaXptTGV0PVwiY3JvblVpU3RhdGUuVFlQRVMuYWZ0ZXIgYXMgY3VycmVudFR5cGVcIlxuICAgICAgW2NsYXNzLnNlbGVjdGVkXT1cImNyb25VaVN0YXRlLnR5cGVDb250cm9sLnZhbHVlID09PSBjdXJyZW50VHlwZVwiXG4gICAgPlxuICAgICAgPGRpdiBjbGFzcz1cInJhZGlvXCI+XG4gICAgICAgIDxwcml6bS1yYWRpby1idXR0b25cbiAgICAgICAgICBbZm9ybUNvbnRyb2xdPVwiY3JvblVpU3RhdGUudHlwZUNvbnRyb2xcIlxuICAgICAgICAgIFtsYWJlbF09XCJudWxsXCJcbiAgICAgICAgICBbdmFsdWVdPVwiY3VycmVudFR5cGVcIlxuICAgICAgICAgIFtuYW1lXT1cIid0eXBlJ1wiXG4gICAgICAgICAgKGNoYW5nZUV2ZW50KT1cImNyb25VaVN0YXRlLnVwZGF0ZU9uKClcIlxuICAgICAgICA+PC9wcml6bS1yYWRpby1idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50IHJvd1wiPlxuICAgICAgICA8c3Bhbj7QmtCw0LbQtNGL0Lk8L3NwYW4+XG4gICAgICAgIDxwcml6bS1jcm9uLWNhcm91c2VsXG4gICAgICAgICAgW2NvbnRlbnRdPVwiY3JvblVpU3RhdGUubGlzdCB8IHByaXptUGx1Y2sgOiBbJ2V2ZXJ5Q2hvc2VuVGltZXNBZnRlckNob3NlbicsICdvbiddXCJcbiAgICAgICAgICBbdmFsdWVdPVwiY3JvblVpU3RhdGUuc3RhdGUkIHwgYXN5bmMgfCBwcml6bVBsdWNrIDogWydldmVyeUNob3NlblRpbWVzQWZ0ZXJDaG9zZW4nLCAnb24nXVwiXG4gICAgICAgICAgKHZhbHVlQ2hhbmdlKT1cImNyb25VaVN0YXRlLnVwZGF0ZU9uKHsgb246ICRldmVudCB9KVwiXG4gICAgICAgID5cbiAgICAgICAgICA8bmctdGVtcGxhdGUgI2NvbnRlbnQgbGV0LXZhbHVlPVwiY29udGVudFwiPlxuICAgICAgICAgICAge3sgdmFsdWUgfX1cbiAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICA8L3ByaXptLWNyb24tY2Fyb3VzZWw+XG4gICAgICAgIDxzcGFuPtCz0L7QtCwg0L3QsNGH0LjQvdCw0Y8g0YE8L3NwYW4+XG5cbiAgICAgICAgPHByaXptLWNyb24tY2Fyb3VzZWxcbiAgICAgICAgICBbY29udGVudF09XCJjcm9uVWlTdGF0ZS5saXN0IHwgcHJpem1QbHVjayA6IFsnZXZlcnlDaG9zZW5UaW1lc0FmdGVyQ2hvc2VuJywgJ2FmdGVyJ11cIlxuICAgICAgICAgIFt2YWx1ZV09XCJjcm9uVWlTdGF0ZS5zdGF0ZSQgfCBhc3luYyB8IHByaXptUGx1Y2sgOiBbJ2V2ZXJ5Q2hvc2VuVGltZXNBZnRlckNob3NlbicsICdhZnRlciddXCJcbiAgICAgICAgICAodmFsdWVDaGFuZ2UpPVwiY3JvblVpU3RhdGUudXBkYXRlT24oeyBhZnRlcjogJGV2ZW50IH0pXCJcbiAgICAgICAgPjwvcHJpem0tY3Jvbi1jYXJvdXNlbD5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGFiZWw+XG4gIDwvbmctY29udGFpbmVyPlxuXG4gIDxuZy1jb250YWluZXIgKm5nSWY9XCJjcm9uVWlTdGF0ZS5jYW5TaG93Q3Jvbkxpc3RJdGVtKHNwZWNpZmllZExpc3QsIGNyb25VaVN0YXRlLlRZUEVTLnNwZWNpZmllZClcIj5cbiAgICA8bGFiZWxcbiAgICAgIGNsYXNzPVwiYmxvY2tcIlxuICAgICAgKnByaXptTGV0PVwiY3JvblVpU3RhdGUuVFlQRVMuc3BlY2lmaWVkIGFzIGN1cnJlbnRUeXBlXCJcbiAgICAgIFtjbGFzcy5zZWxlY3RlZF09XCJjcm9uVWlTdGF0ZS50eXBlQ29udHJvbC52YWx1ZSA9PT0gY3VycmVudFR5cGVcIlxuICAgID5cbiAgICAgIDxkaXYgY2xhc3M9XCJyYWRpb1wiPlxuICAgICAgICA8cHJpem0tcmFkaW8tYnV0dG9uXG4gICAgICAgICAgW2Zvcm1Db250cm9sXT1cImNyb25VaVN0YXRlLnR5cGVDb250cm9sXCJcbiAgICAgICAgICBbbGFiZWxdPVwibnVsbFwiXG4gICAgICAgICAgW3ZhbHVlXT1cImN1cnJlbnRUeXBlXCJcbiAgICAgICAgICBbbmFtZV09XCIndHlwZSdcIlxuICAgICAgICAgIChjaGFuZ2VFdmVudCk9XCJzY2hlZHVsZUNvbXBvbmVudC5lbWl0KClcIlxuICAgICAgICA+PC9wcml6bS1yYWRpby1idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50IGNvbHVtbiB5ZWFyXCI+XG4gICAgICAgIDxzcGFuPtCS0YvQsdGA0LDQvdC90YvQuSDQs9C+0LQgKNCy0YvQsdC+0YAg0L7QtNC90L7Qs9C+INC40LvQuCDQvdC10YHQutC+0LvRjNC60LjRhSk8L3NwYW4+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPHByaXptLWlucHV0LWxheW91dFxuICAgICAgICAgICAgY2xhc3M9XCJ5ZWFyLWlucHV0XCJcbiAgICAgICAgICAgICpwcml6bUxldD1cIlxuICAgICAgICAgICAgICBjcm9uVWlTdGF0ZS5zdGF0ZSQgfCBhc3luYyB8IHByaXptUGx1Y2sgOiBbJ3NwZWNpZmllZCddIHwgcHJpem1DYWxsRnVuYyA6IGNvcnJlY3RvciBhcyBjaGlwc1xuICAgICAgICAgICAgXCJcbiAgICAgICAgICAgIFtvdXRlcl09XCJ0cnVlXCJcbiAgICAgICAgICAgIFtsYWJlbF09XCJudWxsXCJcbiAgICAgICAgICAgIHNpemU9XCJtXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgI2lucHV0XG4gICAgICAgICAgICAgIFsobmdNb2RlbCldPVwieWVhckZvckFkZFwiXG4gICAgICAgICAgICAgIFtwcml6bUlucHV0QWxsb3dlZFN5bWJvbHNdPVwiYWxsb3dlZFllYXJcIlxuICAgICAgICAgICAgICBbbmdNb2RlbE9wdGlvbnNdPVwieyBzdGFuZGFsb25lOiB0cnVlIH1cIlxuICAgICAgICAgICAgICAoZW50ZXIpPVwib25FbnRlcigkZXZlbnQsIGNoaXBzQ29tcG9uZW50KVwiXG4gICAgICAgICAgICAgIHByaXptSW5wdXRcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLQktCy0LXQtNC40YLQtSDQs9C+0LRcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxwcml6bS1jaGlwc1xuICAgICAgICAgICAgICAjY2hpcHNDb21wb25lbnRcbiAgICAgICAgICAgICAgW25nTW9kZWxdPVwiY2hpcHNcIlxuICAgICAgICAgICAgICBbZGVsZXRhYmxlXT1cImRlbGV0YWJsZVwiXG4gICAgICAgICAgICAgIChuZ01vZGVsQ2hhbmdlKT1cInJlbW92ZWRDaGlwcygkZXZlbnQpXCJcbiAgICAgICAgICAgICAgcHJpem0taW5wdXQtYm90dG9tXG4gICAgICAgICAgICA+PC9wcml6bS1jaGlwcz5cbiAgICAgICAgICA8L3ByaXptLWlucHV0LWxheW91dD5cblxuICAgICAgICAgIDwhLS0gICAgICAgICAgPHByaXptLWlucHV0LWxheW91dC0tPlxuICAgICAgICAgIDwhLS0gICAgICAgICAgICBjbGFzcz1cInllYXItaW5wdXRcIi0tPlxuICAgICAgICAgIDwhLS0gICAgICAgICAgICAqcHJpem1MZXQ9XCItLT5cbiAgICAgICAgICA8IS0tICAgICAgICAgICAgICBjcm9uVWlTdGF0ZS5zdGF0ZSQgfCBhc3luYyB8IHByaXptUGx1Y2sgOiBbJ3NwZWNpZmllZCddIHwgcHJpem1DYWxsRnVuYyA6IGpvaW4gYXMgam9pbmVkU3RyLS0+XG4gICAgICAgICAgPCEtLSAgICAgICAgICAgIFwiLS0+XG4gICAgICAgICAgPCEtLSAgICAgICAgICAgIFtvdXRlcl09XCJ0cnVlXCItLT5cbiAgICAgICAgICA8IS0tICAgICAgICAgICAgW2xhYmVsXT1cIm51bGxcIi0tPlxuICAgICAgICAgIDwhLS0gICAgICAgICAgICBbZm9yY2VDbGVhcl09XCJmYWxzZVwiLS0+XG4gICAgICAgICAgPCEtLSAgICAgICAgICAgIHNpemU9XCJtXCItLT5cbiAgICAgICAgICA8IS0tICAgICAgICAgID4tLT5cbiAgICAgICAgICA8IS0tICAgICAgICAgICAgPGlucHV0LS0+XG4gICAgICAgICAgPCEtLSAgICAgICAgICAgICAgW3ByaXptSW5wdXRBbGxvd2VkU3ltYm9sc109XCJhbGxvd2VkWWVhclwiLS0+XG4gICAgICAgICAgPCEtLSAgICAgICAgICAgICAgW3ByaXptSW5wdXRDb3JyZWN0b3JdPVwiY29ycmVjdG9yXCItLT5cbiAgICAgICAgICA8IS0tICAgICAgICAgICAgICBbbmdNb2RlbF09XCJqb2luZWRTdHJcIi0tPlxuICAgICAgICAgIDwhLS0gICAgICAgICAgICAgIFtuZ01vZGVsT3B0aW9uc109XCJ7IHN0YW5kYWxvbmU6IHRydWUgfVwiLS0+XG4gICAgICAgICAgPCEtLSAgICAgICAgICAgICAgKG5nTW9kZWxDaGFuZ2UpPVwic2F2ZVNwZWNpZmllZCgkZXZlbnQpXCItLT5cbiAgICAgICAgICA8IS0tICAgICAgICAgICAgICBwcml6bUlucHV0LS0+XG4gICAgICAgICAgPCEtLSAgICAgICAgICAgIC8+LS0+XG4gICAgICAgICAgPCEtLSAgICAgICAgICA8L3ByaXptLWlucHV0LWxheW91dD4tLT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwcml6bS1jcm9uLXNjaGVkdWxlXG4gICAgICAgICAgI3NjaGVkdWxlQ29tcG9uZW50XG4gICAgICAgICAgW2l0ZW1zXT1cImNyb25VaVN0YXRlLmxpc3Quc3BlY2lmaWVkXCJcbiAgICAgICAgICBbc2VsZWN0ZWRdPVwiY3JvblVpU3RhdGUuc3RhdGUkIHwgYXN5bmMgfCBwcml6bVBsdWNrIDogWydzcGVjaWZpZWQnXVwiXG4gICAgICAgICAgKHNlbGVjdGVkQ2hhbmdlKT1cImNyb25VaVN0YXRlLnVwZGF0ZVNwZWNpZmllZCgkZXZlbnQpXCJcbiAgICAgICAgPjwvcHJpem0tY3Jvbi1zY2hlZHVsZT5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGFiZWw+XG4gIDwvbmctY29udGFpbmVyPlxuXG4gIDxuZy1jb250YWluZXIgKm5nSWY9XCJjcm9uVWlTdGF0ZS5jYW5TaG93Q3Jvbkxpc3RJdGVtKHNwZWNpZmllZExpc3QsIGNyb25VaVN0YXRlLlRZUEVTLmJldHdlZW4pXCI+XG4gICAgPGxhYmVsXG4gICAgICBjbGFzcz1cImJsb2NrIHJvd1wiXG4gICAgICAqcHJpem1MZXQ9XCJjcm9uVWlTdGF0ZS5UWVBFUy5iZXR3ZWVuIGFzIGN1cnJlbnRUeXBlXCJcbiAgICAgIFtjbGFzcy5zZWxlY3RlZF09XCJjcm9uVWlTdGF0ZS50eXBlQ29udHJvbC52YWx1ZSA9PT0gY3VycmVudFR5cGVcIlxuICAgID5cbiAgICAgIDxkaXYgY2xhc3M9XCJyYWRpb1wiPlxuICAgICAgICA8cHJpem0tcmFkaW8tYnV0dG9uXG4gICAgICAgICAgW2Zvcm1Db250cm9sXT1cImNyb25VaVN0YXRlLnR5cGVDb250cm9sXCJcbiAgICAgICAgICBbbGFiZWxdPVwibnVsbFwiXG4gICAgICAgICAgW3ZhbHVlXT1cImN1cnJlbnRUeXBlXCJcbiAgICAgICAgICBbbmFtZV09XCIndHlwZSdcIlxuICAgICAgICAgIChjaGFuZ2VFdmVudCk9XCJjcm9uVWlTdGF0ZS51cGRhdGVCZXR3ZWVuKClcIlxuICAgICAgICA+PC9wcml6bS1yYWRpby1idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG4gICAgICAgIDxzcGFuPtCa0LDQttC00YvQuSDQs9C+0LQg0YE8L3NwYW4+XG4gICAgICAgIDxwcml6bS1jcm9uLWNhcm91c2VsXG4gICAgICAgICAgI3N0YXJ0XG4gICAgICAgICAgW2NvbnRlbnRdPVwiY3JvblVpU3RhdGUubGlzdC5iZXR3ZWVuLnN0YXJ0XCJcbiAgICAgICAgICBbdmFsdWVdPVwiY3JvblVpU3RhdGUuc3RhdGUkIHwgYXN5bmMgfCBwcml6bVBsdWNrIDogWydiZXR3ZWVuJywgJ3N0YXJ0J11cIlxuICAgICAgICAgICh2YWx1ZUNoYW5nZSk9XCJjcm9uVWlTdGF0ZS51cGRhdGVCZXR3ZWVuKHsgc3RhcnQ6ICRldmVudCB9KVwiXG4gICAgICAgID48L3ByaXptLWNyb24tY2Fyb3VzZWw+XG4gICAgICAgIDxzcGFuPtC00L48L3NwYW4+XG4gICAgICAgIDxwcml6bS1jcm9uLWNhcm91c2VsXG4gICAgICAgICAgI2VuZFxuICAgICAgICAgIFtjb250ZW50XT1cImNyb25VaVN0YXRlLmxpc3QuYmV0d2Vlbi5lbmRcIlxuICAgICAgICAgIFt2YWx1ZV09XCJjcm9uVWlTdGF0ZS5zdGF0ZSQgfCBhc3luYyB8IHByaXptUGx1Y2sgOiBbJ2JldHdlZW4nLCAnZW5kJ11cIlxuICAgICAgICAgICh2YWx1ZUNoYW5nZSk9XCJjcm9uVWlTdGF0ZS51cGRhdGVCZXR3ZWVuKHsgZW5kOiAkZXZlbnQgfSlcIlxuICAgICAgICA+PC9wcml6bS1jcm9uLWNhcm91c2VsPlxuICAgICAgPC9kaXY+XG4gICAgPC9sYWJlbD5cbiAgPC9uZy1jb250YWluZXI+XG48L2Rpdj5cbiJdfQ==