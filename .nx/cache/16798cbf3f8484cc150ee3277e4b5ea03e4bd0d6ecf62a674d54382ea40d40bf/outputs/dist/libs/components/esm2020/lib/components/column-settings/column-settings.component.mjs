import { ChangeDetectionStrategy, Component, EventEmitter, Inject, Input, Output, ViewChild, } from '@angular/core';
import { PrizmAbstractTestId } from '../../abstract/interactive';
import { CdkDropList, DragDropModule, moveItemInArray, transferArrayItem, } from '@angular/cdk/drag-drop';
import { Observable } from 'rxjs';
import { PRIZM_COLUMN_SETTINGS } from '../../tokens';
import { prizmI18nInitWithKey } from '../../services';
import cloneDeep from 'lodash-es/cloneDeep';
import { CommonModule } from '@angular/common';
import { PrizmCardComponent } from '../card';
import { PrizmButtonComponent } from '../button';
import { PrizmToggleComponent } from '../toggle';
import { PrizmIconComponent } from '../icon';
import { PrizmScrollbarComponent } from '../scrollbar';
import { PrizmLetDirective, PrizmPluckPipe } from '@prizm-ui/helpers';
import { PrizmHintDirective } from '../../directives';
import { FormsModule } from '@angular/forms';
import { PrizmThemeModule } from '@prizm-ui/theme';
import { PrizmColumnIconPipe } from './pipes/column-icon.pipe';
import { PrizmColumnDropListComponent } from './components/column-drop-list/column-drop-list.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/cdk/drag-drop";
import * as i3 from "@angular/forms";
import * as i4 from "rxjs";
export class PrizmColumnSettingsComponent extends PrizmAbstractTestId {
    set settings(value) {
        this._settings = cloneDeep(value);
    }
    constructor(columnSettings$) {
        super();
        this.columnSettings$ = columnSettings$;
        this.stickySettings = false;
        this.headerSettings = false;
        this.isSettingsChanged = new EventEmitter();
        this.isLastColumnShown = false;
        this.connectedColumns = [];
        this.connectedLeft = [];
        this.connectedRight = [];
        this.testId_ = 'ui_column_settings';
    }
    ngAfterViewInit() {
        if (this.stickySettings) {
            this.connectedColumns = [this.stickyLeftList, this.stickyRightList];
            this.connectedLeft = [this.columnList, this.stickyRightList];
            this.connectedRight = [this.columnList, this.stickyLeftList];
        }
    }
    resetToDeafault() {
        this._settings = cloneDeep(this.defaultSettings);
        this.checkIsLastShown();
    }
    drop(event, status) {
        if (event.previousContainer === event.container) {
            moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);
        }
        else {
            event.previousContainer.data[event.previousIndex].status = status;
            transferArrayItem(event.previousContainer.data, event.container.data, event.previousIndex, event.currentIndex);
            this.checkIsLastShown();
        }
    }
    showAll() {
        this._settings.columns = this._settings.columns.map(el => {
            return { ...el, status: 'default' };
        });
        this.checkIsLastShown();
    }
    close(settings) {
        this.isSettingsChanged.emit(settings);
    }
    checkIsLastShown() {
        this.isLastColumnShown =
            this._settings.columns.filter(el => el.status === 'default').length <= 1 &&
                !(this._settings.stickyLeft.length || this._settings.stickyRight.length);
    }
}
PrizmColumnSettingsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: PrizmColumnSettingsComponent, deps: [{ token: PRIZM_COLUMN_SETTINGS }], target: i0.ɵɵFactoryTarget.Component });
PrizmColumnSettingsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.9", type: PrizmColumnSettingsComponent, isStandalone: true, selector: "prizm-column-settings", inputs: { settings: "settings", defaultSettings: "defaultSettings", stickySettings: "stickySettings", headerSettings: "headerSettings" }, outputs: { isSettingsChanged: "isSettingsChanged" }, providers: [...prizmI18nInitWithKey(PRIZM_COLUMN_SETTINGS, 'columnSettings')], viewQueries: [{ propertyName: "stickyLeftList", first: true, predicate: ["stickyLeftList"], descendants: true, read: CdkDropList }, { propertyName: "columnList", first: true, predicate: ["columnList"], descendants: true, read: CdkDropList }, { propertyName: "stickyRightList", first: true, predicate: ["stickyRightList"], descendants: true, read: CdkDropList }], usesInheritance: true, ngImport: i0, template: "<div class=\"container\" *prizmLet=\"columnSettings$ | async as translations\">\n  <div class=\"header\">\n    <div class=\"title prizm-font-title-h4\">{{ translations | prizmPluck : ['title'] }}</div>\n    <button\n      *ngIf=\"defaultSettings\"\n      (click)=\"resetToDeafault()\"\n      prizmButton\n      appearanceType=\"ghost\"\n      appearance=\"danger\"\n      size=\"m\"\n    >\n      {{ translations | prizmPluck : ['resetBtn'] }}\n    </button>\n  </div>\n  <div class=\"section\" *ngIf=\"headerSettings\">\n    <div class=\"section-header\">\n      <div class=\"prizm-font-title-h4\">{{ translations | prizmPluck : ['subTitle'] }}</div>\n    </div>\n    <div class=\"section-toggle\">\n      <prizm-toggle [(ngModel)]=\"_settings.fixHeader\" size=\"m\"></prizm-toggle>\n      <span class=\"prizm-font-main-body-14\">{{ translations | prizmPluck : ['fixHeaderToggle'] }}</span>\n    </div>\n  </div>\n  <div class=\"section\" *ngIf=\"stickySettings\">\n    <div class=\"section-header\">\n      <div class=\"prizm-font-title-h4\">{{ translations | prizmPluck : ['stickyLeft'] }}</div>\n    </div>\n    <prizm-column-drop-list\n      class=\"column-list\"\n      #stickyLeftList=\"cdkDropList\"\n      [cdkDropListData]=\"_settings.stickyLeft\"\n      [cdkDropListConnectedTo]=\"connectedLeft\"\n      [columns]=\"_settings.stickyLeft\"\n      [translations]=\"translations\"\n      (cdkDropListDropped)=\"drop($event, 'sticky')\"\n      cdkDropList\n    ></prizm-column-drop-list>\n  </div>\n  <div class=\"section\">\n    <div class=\"section-header\">\n      <div class=\"title prizm-font-title-h4\">{{ translations | prizmPluck : ['mainColumns'] }}</div>\n      <div class=\"show-all\" (click)=\"showAll()\">\n        {{ translations | prizmPluck : ['showAllBtn'] }}\n      </div>\n    </div>\n    <prizm-column-drop-list\n      #columnList=\"cdkDropList\"\n      [cdkDropListData]=\"_settings.columns\"\n      [cdkDropListConnectedTo]=\"connectedColumns\"\n      [columns]=\"_settings.columns\"\n      [isLastColumnShown]=\"isLastColumnShown\"\n      [translations]=\"translations\"\n      (cdkDropListDropped)=\"drop($event, 'default')\"\n      (statusChanged)=\"checkIsLastShown()\"\n      cdkDropList\n    ></prizm-column-drop-list>\n  </div>\n  <div class=\"section\" *ngIf=\"stickySettings\">\n    <div class=\"section-header\">\n      <div class=\"prizm-font-title-h4\">{{ translations | prizmPluck : ['stickyRight'] }}</div>\n    </div>\n    <prizm-column-drop-list\n      #stickyRightList=\"cdkDropList\"\n      [cdkDropListData]=\"_settings.stickyRight\"\n      [cdkDropListConnectedTo]=\"connectedRight\"\n      [columns]=\"_settings.stickyRight\"\n      [translations]=\"translations\"\n      (cdkDropListDropped)=\"drop($event, 'sticky')\"\n      cdkDropList\n    ></prizm-column-drop-list>\n  </div>\n  <div class=\"footer prizm-font-btn-links-14\">\n    <div class=\"buttons\">\n      <button (click)=\"close(null)\" appearance=\"secondary\" appearanceType=\"ghost\" size=\"m\" prizmButton>\n        {{ translations | prizmPluck : ['cancelBtn'] }}\n      </button>\n      <button (click)=\"close(_settings)\" appearance=\"primary\" size=\"m\" prizmButton>\n        {{ translations | prizmPluck : ['saveBtn'] }}\n      </button>\n    </div>\n  </div>\n</div>\n", styles: [".container{width:360px;color:var(--prizm-v3-text-icon-secondary)}.container .header{border-bottom:1px solid var(--prizm-v3-background-stroke);padding:var(--prizm-column-settings-header-padding, 16px);display:flex;justify-content:space-between;font-style:var(--prizm-column-settings-header-font-style, normal);font-weight:var(--prizm-column-settings-header-font-weight, 600);font-size:var(--prizm-column-settings-header-font-size, var(--prizm-dialog-font-size, 14px));color:var(--prizm-column-settings-header-text, var(--prizm-v3-text-icon-primary))}.container .title{overflow:hidden;text-overflow:ellipsis;max-width:70%;display:flex;align-items:center}.container .section{border-bottom:1px solid var(--prizm-v3-background-stroke)}.container .section-header{display:flex;justify-content:space-between;align-items:center;gap:16px;padding:var(--prizm-column-settings-header-padding, 0px 16px);margin-top:16px;color:var(--prizm-v3-text-icon-primary)}.container .section-toggle{display:flex;align-items:center;gap:8px;padding:0 16px 16px;margin-top:16px}.container .footer{border-top:1px solid var(--prizm-v3-background-stroke);padding:var(--prizm-column-settings-footer-padding, 14px 16px);max-width:100%;color:var(--prizm-column-settings-footer-text, var(--prizm-v3-text-icon-primary))}.container .footer .buttons{display:flex;justify-content:space-between;gap:8px}.container .footer .buttons button{flex-grow:1}.container .show-all{cursor:pointer;font-size:12px;font-weight:600;color:var(--prizm-v3-button-secondary-solid-default)}.container .show-all:hover{color:var(--prizm-v3-button-secondary-solid-hover)}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "pipe", type: i1.AsyncPipe, name: "async" }, { kind: "component", type: PrizmButtonComponent, selector: "button[prizmButton], button[prizmIconButton], a[prizmButton], a[prizmIconButton]", inputs: ["size", "icon", "iconRight", "appearance", "appearanceType", "disabled", "showLoader"] }, { kind: "component", type: PrizmToggleComponent, selector: "prizm-toggle", inputs: ["singleColor", "iconOn", "iconOff", "showLoader", "size"] }, { kind: "ngmodule", type: DragDropModule }, { kind: "directive", type: i2.CdkDropList, selector: "[cdkDropList], cdk-drop-list", inputs: ["cdkDropListConnectedTo", "cdkDropListData", "cdkDropListOrientation", "id", "cdkDropListLockAxis", "cdkDropListDisabled", "cdkDropListSortingDisabled", "cdkDropListEnterPredicate", "cdkDropListSortPredicate", "cdkDropListAutoScrollDisabled", "cdkDropListAutoScrollStep"], outputs: ["cdkDropListDropped", "cdkDropListEntered", "cdkDropListExited", "cdkDropListSorted"], exportAs: ["cdkDropList"] }, { kind: "component", type: PrizmColumnDropListComponent, selector: "prizm-column-drop-list", inputs: ["columns", "translations", "isLastColumnShown"], outputs: ["statusChanged"] }, { kind: "directive", type: PrizmLetDirective, selector: "[prizmLet]", inputs: ["prizmLet"], exportAs: ["prizmLet"] }, { kind: "pipe", type: PrizmPluckPipe, name: "prizmPluck" }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i3.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i3.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "ngmodule", type: PrizmThemeModule }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: PrizmColumnSettingsComponent, decorators: [{
            type: Component,
            args: [{ selector: 'prizm-column-settings', changeDetection: ChangeDetectionStrategy.OnPush, standalone: true, imports: [
                        CommonModule,
                        PrizmCardComponent,
                        PrizmButtonComponent,
                        PrizmToggleComponent,
                        DragDropModule,
                        PrizmIconComponent,
                        PrizmScrollbarComponent,
                        PrizmColumnDropListComponent,
                        PrizmLetDirective,
                        PrizmPluckPipe,
                        PrizmHintDirective,
                        FormsModule,
                        PrizmThemeModule,
                        PrizmColumnIconPipe,
                    ], providers: [...prizmI18nInitWithKey(PRIZM_COLUMN_SETTINGS, 'columnSettings')], template: "<div class=\"container\" *prizmLet=\"columnSettings$ | async as translations\">\n  <div class=\"header\">\n    <div class=\"title prizm-font-title-h4\">{{ translations | prizmPluck : ['title'] }}</div>\n    <button\n      *ngIf=\"defaultSettings\"\n      (click)=\"resetToDeafault()\"\n      prizmButton\n      appearanceType=\"ghost\"\n      appearance=\"danger\"\n      size=\"m\"\n    >\n      {{ translations | prizmPluck : ['resetBtn'] }}\n    </button>\n  </div>\n  <div class=\"section\" *ngIf=\"headerSettings\">\n    <div class=\"section-header\">\n      <div class=\"prizm-font-title-h4\">{{ translations | prizmPluck : ['subTitle'] }}</div>\n    </div>\n    <div class=\"section-toggle\">\n      <prizm-toggle [(ngModel)]=\"_settings.fixHeader\" size=\"m\"></prizm-toggle>\n      <span class=\"prizm-font-main-body-14\">{{ translations | prizmPluck : ['fixHeaderToggle'] }}</span>\n    </div>\n  </div>\n  <div class=\"section\" *ngIf=\"stickySettings\">\n    <div class=\"section-header\">\n      <div class=\"prizm-font-title-h4\">{{ translations | prizmPluck : ['stickyLeft'] }}</div>\n    </div>\n    <prizm-column-drop-list\n      class=\"column-list\"\n      #stickyLeftList=\"cdkDropList\"\n      [cdkDropListData]=\"_settings.stickyLeft\"\n      [cdkDropListConnectedTo]=\"connectedLeft\"\n      [columns]=\"_settings.stickyLeft\"\n      [translations]=\"translations\"\n      (cdkDropListDropped)=\"drop($event, 'sticky')\"\n      cdkDropList\n    ></prizm-column-drop-list>\n  </div>\n  <div class=\"section\">\n    <div class=\"section-header\">\n      <div class=\"title prizm-font-title-h4\">{{ translations | prizmPluck : ['mainColumns'] }}</div>\n      <div class=\"show-all\" (click)=\"showAll()\">\n        {{ translations | prizmPluck : ['showAllBtn'] }}\n      </div>\n    </div>\n    <prizm-column-drop-list\n      #columnList=\"cdkDropList\"\n      [cdkDropListData]=\"_settings.columns\"\n      [cdkDropListConnectedTo]=\"connectedColumns\"\n      [columns]=\"_settings.columns\"\n      [isLastColumnShown]=\"isLastColumnShown\"\n      [translations]=\"translations\"\n      (cdkDropListDropped)=\"drop($event, 'default')\"\n      (statusChanged)=\"checkIsLastShown()\"\n      cdkDropList\n    ></prizm-column-drop-list>\n  </div>\n  <div class=\"section\" *ngIf=\"stickySettings\">\n    <div class=\"section-header\">\n      <div class=\"prizm-font-title-h4\">{{ translations | prizmPluck : ['stickyRight'] }}</div>\n    </div>\n    <prizm-column-drop-list\n      #stickyRightList=\"cdkDropList\"\n      [cdkDropListData]=\"_settings.stickyRight\"\n      [cdkDropListConnectedTo]=\"connectedRight\"\n      [columns]=\"_settings.stickyRight\"\n      [translations]=\"translations\"\n      (cdkDropListDropped)=\"drop($event, 'sticky')\"\n      cdkDropList\n    ></prizm-column-drop-list>\n  </div>\n  <div class=\"footer prizm-font-btn-links-14\">\n    <div class=\"buttons\">\n      <button (click)=\"close(null)\" appearance=\"secondary\" appearanceType=\"ghost\" size=\"m\" prizmButton>\n        {{ translations | prizmPluck : ['cancelBtn'] }}\n      </button>\n      <button (click)=\"close(_settings)\" appearance=\"primary\" size=\"m\" prizmButton>\n        {{ translations | prizmPluck : ['saveBtn'] }}\n      </button>\n    </div>\n  </div>\n</div>\n", styles: [".container{width:360px;color:var(--prizm-v3-text-icon-secondary)}.container .header{border-bottom:1px solid var(--prizm-v3-background-stroke);padding:var(--prizm-column-settings-header-padding, 16px);display:flex;justify-content:space-between;font-style:var(--prizm-column-settings-header-font-style, normal);font-weight:var(--prizm-column-settings-header-font-weight, 600);font-size:var(--prizm-column-settings-header-font-size, var(--prizm-dialog-font-size, 14px));color:var(--prizm-column-settings-header-text, var(--prizm-v3-text-icon-primary))}.container .title{overflow:hidden;text-overflow:ellipsis;max-width:70%;display:flex;align-items:center}.container .section{border-bottom:1px solid var(--prizm-v3-background-stroke)}.container .section-header{display:flex;justify-content:space-between;align-items:center;gap:16px;padding:var(--prizm-column-settings-header-padding, 0px 16px);margin-top:16px;color:var(--prizm-v3-text-icon-primary)}.container .section-toggle{display:flex;align-items:center;gap:8px;padding:0 16px 16px;margin-top:16px}.container .footer{border-top:1px solid var(--prizm-v3-background-stroke);padding:var(--prizm-column-settings-footer-padding, 14px 16px);max-width:100%;color:var(--prizm-column-settings-footer-text, var(--prizm-v3-text-icon-primary))}.container .footer .buttons{display:flex;justify-content:space-between;gap:8px}.container .footer .buttons button{flex-grow:1}.container .show-all{cursor:pointer;font-size:12px;font-weight:600;color:var(--prizm-v3-button-secondary-solid-default)}.container .show-all:hover{color:var(--prizm-v3-button-secondary-solid-hover)}\n"] }]
        }], ctorParameters: function () { return [{ type: i4.Observable, decorators: [{
                    type: Inject,
                    args: [PRIZM_COLUMN_SETTINGS]
                }] }]; }, propDecorators: { stickyLeftList: [{
                type: ViewChild,
                args: ['stickyLeftList', { read: CdkDropList }]
            }], columnList: [{
                type: ViewChild,
                args: ['columnList', { read: CdkDropList }]
            }], stickyRightList: [{
                type: ViewChild,
                args: ['stickyRightList', { read: CdkDropList }]
            }], settings: [{
                type: Input
            }], defaultSettings: [{
                type: Input
            }], stickySettings: [{
                type: Input
            }], headerSettings: [{
                type: Input
            }], isSettingsChanged: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sdW1uLXNldHRpbmdzLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvY29tcG9uZW50cy9zcmMvbGliL2NvbXBvbmVudHMvY29sdW1uLXNldHRpbmdzL2NvbHVtbi1zZXR0aW5ncy5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2NvbXBvbmVudHMvc3JjL2xpYi9jb21wb25lbnRzL2NvbHVtbi1zZXR0aW5ncy9jb2x1bW4tc2V0dGluZ3MuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUVMLHVCQUF1QixFQUN2QixTQUFTLEVBQ1QsWUFBWSxFQUNaLE1BQU0sRUFDTixLQUFLLEVBQ0wsTUFBTSxFQUNOLFNBQVMsR0FDVixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUNqRSxPQUFPLEVBRUwsV0FBVyxFQUNYLGNBQWMsRUFDZCxlQUFlLEVBQ2YsaUJBQWlCLEdBQ2xCLE1BQU0sd0JBQXdCLENBQUM7QUFHaEMsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNsQyxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDckQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDdEQsT0FBTyxTQUFTLE1BQU0scUJBQXFCLENBQUM7QUFDNUMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUM3QyxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDakQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQ2pELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFN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QkFDWCxnQkFBZ0I7d0JBQ2hCLG1CQUFtQjtxQkFDcEIsYUFDVSxDQUFDLEdBQUcsb0JBQW9CLENBQUMscUJBQXFCLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQzs7MEJBd0IxRSxNQUFNOzJCQUFDLHFCQUFxQjs0Q0FyQnFCLGNBQWM7c0JBQWpFLFNBQVM7dUJBQUMsZ0JBQWdCLEVBQUUsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFO2dCQUNGLFVBQVU7c0JBQXpELFNBQVM7dUJBQUMsWUFBWSxFQUFFLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRTtnQkFDTyxlQUFlO3NCQUFuRSxTQUFTO3VCQUFDLGlCQUFpQixFQUFFLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRTtnQkFHdEMsUUFBUTtzQkFBcEIsS0FBSztnQkFHRyxlQUFlO3NCQUF2QixLQUFLO2dCQUNHLGNBQWM7c0JBQXRCLEtBQUs7Z0JBQ0csY0FBYztzQkFBdEIsS0FBSztnQkFDSSxpQkFBaUI7c0JBQTFCLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBZnRlclZpZXdJbml0LFxuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ29tcG9uZW50LFxuICBFdmVudEVtaXR0ZXIsXG4gIEluamVjdCxcbiAgSW5wdXQsXG4gIE91dHB1dCxcbiAgVmlld0NoaWxkLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFByaXptQWJzdHJhY3RUZXN0SWQgfSBmcm9tICcuLi8uLi9hYnN0cmFjdC9pbnRlcmFjdGl2ZSc7XG5pbXBvcnQge1xuICBDZGtEcmFnRHJvcCxcbiAgQ2RrRHJvcExpc3QsXG4gIERyYWdEcm9wTW9kdWxlLFxuICBtb3ZlSXRlbUluQXJyYXksXG4gIHRyYW5zZmVyQXJyYXlJdGVtLFxufSBmcm9tICdAYW5ndWxhci9jZGsvZHJhZy1kcm9wJztcbmltcG9ydCB7IFByaXptQ29sdW1uU2V0dGluZ3MsIFByaXptQ29sdW1uU3RhdHVzLCBQcml6bVRhYmxlU2V0dGluZ3MgfSBmcm9tICcuL2NvbHVtbi1zZXR0aW5ncy5tb2RlbCc7XG5pbXBvcnQgeyBQcml6bUxhbmd1YWdlQ29sdW1uU2V0dGluZ3MgfSBmcm9tICdAcHJpem0tdWkvaTE4bic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBQUklaTV9DT0xVTU5fU0VUVElOR1MgfSBmcm9tICcuLi8uLi90b2tlbnMnO1xuaW1wb3J0IHsgcHJpem1JMThuSW5pdFdpdGhLZXkgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcyc7XG5pbXBvcnQgY2xvbmVEZWVwIGZyb20gJ2xvZGFzaC1lcy9jbG9uZURlZXAnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IFByaXptQ2FyZENvbXBvbmVudCB9IGZyb20gJy4uL2NhcmQnO1xuaW1wb3J0IHsgUHJpem1CdXR0b25Db21wb25lbnQgfSBmcm9tICcuLi9idXR0b24nO1xuaW1wb3J0IHsgUHJpem1Ub2dnbGVDb21wb25lbnQgfSBmcm9tICcuLi90b2dnbGUnO1xuaW1wb3J0IHsgUHJpem1JY29uQ29tcG9uZW50IH0gZnJvbSAnLi4vaWNvbic7XG5pbXBvcnQgeyBQcml6bVNjcm9sbGJhckNvbXBvbmVudCB9IGZyb20gJy4uL3Njcm9sbGJhcic7XG5pbXBvcnQgeyBQcml6bUxldERpcmVjdGl2ZSwgUHJpem1QbHVja1BpcGUgfSBmcm9tICdAcHJpem0tdWkvaGVscGVycyc7XG5pbXBvcnQgeyBQcml6bUhpbnREaXJlY3RpdmUgfSBmcm9tICcuLi8uLi9kaXJlY3RpdmVzJztcbmltcG9ydCB7IEZvcm1zTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgUHJpem1UaGVtZU1vZHVsZSB9IGZyb20gJ0Bwcml6bS11aS90aGVtZSc7XG5pbXBvcnQgeyBQcml6bUNvbHVtbkljb25QaXBlIH0gZnJvbSAnLi9waXBlcy9jb2x1bW4taWNvbi5waXBlJztcbmltcG9ydCB7IFByaXptQ29sdW1uRHJvcExpc3RDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvY29sdW1uLWRyb3AtbGlzdC9jb2x1bW4tZHJvcC1saXN0LmNvbXBvbmVudCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3ByaXptLWNvbHVtbi1zZXR0aW5ncycsXG4gIHRlbXBsYXRlVXJsOiAnLi9jb2x1bW4tc2V0dGluZ3MuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9jb2x1bW4tc2V0dGluZ3MuY29tcG9uZW50Lmxlc3MnXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGUsXG4gICAgUHJpem1DYXJkQ29tcG9uZW50LFxuICAgIFByaXptQnV0dG9uQ29tcG9uZW50LFxuICAgIFByaXptVG9nZ2xlQ29tcG9uZW50LFxuICAgIERyYWdEcm9wTW9kdWxlLFxuICAgIFByaXptSWNvbkNvbXBvbmVudCxcbiAgICBQcml6bVNjcm9sbGJhckNvbXBvbmVudCxcbiAgICBQcml6bUNvbHVtbkRyb3BMaXN0Q29tcG9uZW50LFxuICAgIFByaXptTGV0RGlyZWN0aXZlLFxuICAgIFByaXptUGx1Y2tQaXBlLFxuICAgIFByaXptSGludERpcmVjdGl2ZSxcbiAgICBGb3Jtc01vZHVsZSxcbiAgICBQcml6bVRoZW1lTW9kdWxlLFxuICAgIFByaXptQ29sdW1uSWNvblBpcGUsXG4gIF0sXG4gIHByb3ZpZGVyczogWy4uLnByaXptSTE4bkluaXRXaXRoS2V5KFBSSVpNX0NPTFVNTl9TRVRUSU5HUywgJ2NvbHVtblNldHRpbmdzJyldLFxufSlcbmV4cG9ydCBjbGFzcyBQcml6bUNvbHVtblNldHRpbmdzQ29tcG9uZW50IGV4dGVuZHMgUHJpem1BYnN0cmFjdFRlc3RJZCBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQge1xuICBAVmlld0NoaWxkKCdzdGlja3lMZWZ0TGlzdCcsIHsgcmVhZDogQ2RrRHJvcExpc3QgfSkgc3RpY2t5TGVmdExpc3Q6IENka0Ryb3BMaXN0IHwgdW5kZWZpbmVkO1xuICBAVmlld0NoaWxkKCdjb2x1bW5MaXN0JywgeyByZWFkOiBDZGtEcm9wTGlzdCB9KSBjb2x1bW5MaXN0OiBDZGtEcm9wTGlzdCB8IHVuZGVmaW5lZDtcbiAgQFZpZXdDaGlsZCgnc3RpY2t5UmlnaHRMaXN0JywgeyByZWFkOiBDZGtEcm9wTGlzdCB9KSBzdGlja3lSaWdodExpc3Q6IENka0Ryb3BMaXN0IHwgdW5kZWZpbmVkO1xuXG4gIHB1YmxpYyBfc2V0dGluZ3MhOiBQcml6bVRhYmxlU2V0dGluZ3M7XG4gIEBJbnB1dCgpIHNldCBzZXR0aW5ncyh2YWx1ZTogUHJpem1UYWJsZVNldHRpbmdzKSB7XG4gICAgdGhpcy5fc2V0dGluZ3MgPSBjbG9uZURlZXAodmFsdWUpO1xuICB9XG4gIEBJbnB1dCgpIGRlZmF1bHRTZXR0aW5nczogUHJpem1UYWJsZVNldHRpbmdzIHwgdW5kZWZpbmVkO1xuICBASW5wdXQoKSBzdGlja3lTZXR0aW5ncyA9IGZhbHNlO1xuICBASW5wdXQoKSBoZWFkZXJTZXR0aW5ncyA9IGZhbHNlO1xuICBAT3V0cHV0KCkgaXNTZXR0aW5nc0NoYW5nZWQgPSBuZXcgRXZlbnRFbWl0dGVyPFByaXptVGFibGVTZXR0aW5ncyB8IG51bGw+KCk7XG5cbiAgcHVibGljIGlzTGFzdENvbHVtblNob3duID0gZmFsc2U7XG4gIHB1YmxpYyBjb25uZWN0ZWRDb2x1bW5zOiBDZGtEcm9wTGlzdFtdID0gW107XG4gIHB1YmxpYyBjb25uZWN0ZWRMZWZ0OiBDZGtEcm9wTGlzdFtdID0gW107XG4gIHB1YmxpYyBjb25uZWN0ZWRSaWdodDogQ2RrRHJvcExpc3RbXSA9IFtdO1xuXG4gIG92ZXJyaWRlIHJlYWRvbmx5IHRlc3RJZF8gPSAndWlfY29sdW1uX3NldHRpbmdzJztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBASW5qZWN0KFBSSVpNX0NPTFVNTl9TRVRUSU5HUylcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uU2V0dGluZ3MkOiBPYnNlcnZhYmxlPFByaXptTGFuZ3VhZ2VDb2x1bW5TZXR0aW5nc1snY29sdW1uU2V0dGluZ3MnXT5cbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zdGlja3lTZXR0aW5ncykge1xuICAgICAgdGhpcy5jb25uZWN0ZWRDb2x1bW5zID0gW3RoaXMuc3RpY2t5TGVmdExpc3QgYXMgQ2RrRHJvcExpc3QsIHRoaXMuc3RpY2t5UmlnaHRMaXN0IGFzIENka0Ryb3BMaXN0XTtcbiAgICAgIHRoaXMuY29ubmVjdGVkTGVmdCA9IFt0aGlzLmNvbHVtbkxpc3QgYXMgQ2RrRHJvcExpc3QsIHRoaXMuc3RpY2t5UmlnaHRMaXN0IGFzIENka0Ryb3BMaXN0XTtcbiAgICAgIHRoaXMuY29ubmVjdGVkUmlnaHQgPSBbdGhpcy5jb2x1bW5MaXN0IGFzIENka0Ryb3BMaXN0LCB0aGlzLnN0aWNreUxlZnRMaXN0IGFzIENka0Ryb3BMaXN0XTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgcmVzZXRUb0RlYWZhdWx0KCk6IHZvaWQge1xuICAgIHRoaXMuX3NldHRpbmdzID0gY2xvbmVEZWVwKHRoaXMuZGVmYXVsdFNldHRpbmdzIGFzIFByaXptVGFibGVTZXR0aW5ncyk7XG4gICAgdGhpcy5jaGVja0lzTGFzdFNob3duKCk7XG4gIH1cblxuICBwdWJsaWMgZHJvcChldmVudDogQ2RrRHJhZ0Ryb3A8UHJpem1Db2x1bW5TZXR0aW5nc1tdPiwgc3RhdHVzOiBQcml6bUNvbHVtblN0YXR1cykge1xuICAgIGlmIChldmVudC5wcmV2aW91c0NvbnRhaW5lciA9PT0gZXZlbnQuY29udGFpbmVyKSB7XG4gICAgICBtb3ZlSXRlbUluQXJyYXkoZXZlbnQuY29udGFpbmVyLmRhdGEsIGV2ZW50LnByZXZpb3VzSW5kZXgsIGV2ZW50LmN1cnJlbnRJbmRleCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2ZW50LnByZXZpb3VzQ29udGFpbmVyLmRhdGFbZXZlbnQucHJldmlvdXNJbmRleF0uc3RhdHVzID0gc3RhdHVzO1xuICAgICAgdHJhbnNmZXJBcnJheUl0ZW0oXG4gICAgICAgIGV2ZW50LnByZXZpb3VzQ29udGFpbmVyLmRhdGEsXG4gICAgICAgIGV2ZW50LmNvbnRhaW5lci5kYXRhLFxuICAgICAgICBldmVudC5wcmV2aW91c0luZGV4LFxuICAgICAgICBldmVudC5jdXJyZW50SW5kZXhcbiAgICAgICk7XG4gICAgICB0aGlzLmNoZWNrSXNMYXN0U2hvd24oKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc2hvd0FsbCgpIHtcbiAgICB0aGlzLl9zZXR0aW5ncy5jb2x1bW5zID0gdGhpcy5fc2V0dGluZ3MuY29sdW1ucy5tYXAoZWwgPT4ge1xuICAgICAgcmV0dXJuIHsgLi4uZWwsIHN0YXR1czogJ2RlZmF1bHQnIH07XG4gICAgfSk7XG4gICAgdGhpcy5jaGVja0lzTGFzdFNob3duKCk7XG4gIH1cblxuICBwdWJsaWMgY2xvc2Uoc2V0dGluZ3M6IFByaXptVGFibGVTZXR0aW5ncyB8IG51bGwpOiB2b2lkIHtcbiAgICB0aGlzLmlzU2V0dGluZ3NDaGFuZ2VkLmVtaXQoc2V0dGluZ3MpO1xuICB9XG5cbiAgcHVibGljIGNoZWNrSXNMYXN0U2hvd24oKTogdm9pZCB7XG4gICAgdGhpcy5pc0xhc3RDb2x1bW5TaG93biA9XG4gICAgICB0aGlzLl9zZXR0aW5ncy5jb2x1bW5zLmZpbHRlcihlbCA9PiBlbC5zdGF0dXMgPT09ICdkZWZhdWx0JykubGVuZ3RoIDw9IDEgJiZcbiAgICAgICEodGhpcy5fc2V0dGluZ3Muc3RpY2t5TGVmdC5sZW5ndGggfHwgdGhpcy5fc2V0dGluZ3Muc3RpY2t5UmlnaHQubGVuZ3RoKTtcbiAgfVxufVxuIiwiPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiICpwcml6bUxldD1cImNvbHVtblNldHRpbmdzJCB8IGFzeW5jIGFzIHRyYW5zbGF0aW9uc1wiPlxuICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgPGRpdiBjbGFzcz1cInRpdGxlIHByaXptLWZvbnQtdGl0bGUtaDRcIj57eyB0cmFuc2xhdGlvbnMgfCBwcml6bVBsdWNrIDogWyd0aXRsZSddIH19PC9kaXY+XG4gICAgPGJ1dHRvblxuICAgICAgKm5nSWY9XCJkZWZhdWx0U2V0dGluZ3NcIlxuICAgICAgKGNsaWNrKT1cInJlc2V0VG9EZWFmYXVsdCgpXCJcbiAgICAgIHByaXptQnV0dG9uXG4gICAgICBhcHBlYXJhbmNlVHlwZT1cImdob3N0XCJcbiAgICAgIGFwcGVhcmFuY2U9XCJkYW5nZXJcIlxuICAgICAgc2l6ZT1cIm1cIlxuICAgID5cbiAgICAgIHt7IHRyYW5zbGF0aW9ucyB8IHByaXptUGx1Y2sgOiBbJ3Jlc2V0QnRuJ10gfX1cbiAgICA8L2J1dHRvbj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJzZWN0aW9uXCIgKm5nSWY9XCJoZWFkZXJTZXR0aW5nc1wiPlxuICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLWhlYWRlclwiPlxuICAgICAgPGRpdiBjbGFzcz1cInByaXptLWZvbnQtdGl0bGUtaDRcIj57eyB0cmFuc2xhdGlvbnMgfCBwcml6bVBsdWNrIDogWydzdWJUaXRsZSddIH19PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdG9nZ2xlXCI+XG4gICAgICA8cHJpem0tdG9nZ2xlIFsobmdNb2RlbCldPVwiX3NldHRpbmdzLmZpeEhlYWRlclwiIHNpemU9XCJtXCI+PC9wcml6bS10b2dnbGU+XG4gICAgICA8c3BhbiBjbGFzcz1cInByaXptLWZvbnQtbWFpbi1ib2R5LTE0XCI+e3sgdHJhbnNsYXRpb25zIHwgcHJpem1QbHVjayA6IFsnZml4SGVhZGVyVG9nZ2xlJ10gfX08L3NwYW4+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwic2VjdGlvblwiICpuZ0lmPVwic3RpY2t5U2V0dGluZ3NcIj5cbiAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1oZWFkZXJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJwcml6bS1mb250LXRpdGxlLWg0XCI+e3sgdHJhbnNsYXRpb25zIHwgcHJpem1QbHVjayA6IFsnc3RpY2t5TGVmdCddIH19PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPHByaXptLWNvbHVtbi1kcm9wLWxpc3RcbiAgICAgIGNsYXNzPVwiY29sdW1uLWxpc3RcIlxuICAgICAgI3N0aWNreUxlZnRMaXN0PVwiY2RrRHJvcExpc3RcIlxuICAgICAgW2Nka0Ryb3BMaXN0RGF0YV09XCJfc2V0dGluZ3Muc3RpY2t5TGVmdFwiXG4gICAgICBbY2RrRHJvcExpc3RDb25uZWN0ZWRUb109XCJjb25uZWN0ZWRMZWZ0XCJcbiAgICAgIFtjb2x1bW5zXT1cIl9zZXR0aW5ncy5zdGlja3lMZWZ0XCJcbiAgICAgIFt0cmFuc2xhdGlvbnNdPVwidHJhbnNsYXRpb25zXCJcbiAgICAgIChjZGtEcm9wTGlzdERyb3BwZWQpPVwiZHJvcCgkZXZlbnQsICdzdGlja3knKVwiXG4gICAgICBjZGtEcm9wTGlzdFxuICAgID48L3ByaXptLWNvbHVtbi1kcm9wLWxpc3Q+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwic2VjdGlvblwiPlxuICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLWhlYWRlclwiPlxuICAgICAgPGRpdiBjbGFzcz1cInRpdGxlIHByaXptLWZvbnQtdGl0bGUtaDRcIj57eyB0cmFuc2xhdGlvbnMgfCBwcml6bVBsdWNrIDogWydtYWluQ29sdW1ucyddIH19PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwic2hvdy1hbGxcIiAoY2xpY2spPVwic2hvd0FsbCgpXCI+XG4gICAgICAgIHt7IHRyYW5zbGF0aW9ucyB8IHByaXptUGx1Y2sgOiBbJ3Nob3dBbGxCdG4nXSB9fVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPHByaXptLWNvbHVtbi1kcm9wLWxpc3RcbiAgICAgICNjb2x1bW5MaXN0PVwiY2RrRHJvcExpc3RcIlxuICAgICAgW2Nka0Ryb3BMaXN0RGF0YV09XCJfc2V0dGluZ3MuY29sdW1uc1wiXG4gICAgICBbY2RrRHJvcExpc3RDb25uZWN0ZWRUb109XCJjb25uZWN0ZWRDb2x1bW5zXCJcbiAgICAgIFtjb2x1bW5zXT1cIl9zZXR0aW5ncy5jb2x1bW5zXCJcbiAgICAgIFtpc0xhc3RDb2x1bW5TaG93bl09XCJpc0xhc3RDb2x1bW5TaG93blwiXG4gICAgICBbdHJhbnNsYXRpb25zXT1cInRyYW5zbGF0aW9uc1wiXG4gICAgICAoY2RrRHJvcExpc3REcm9wcGVkKT1cImRyb3AoJGV2ZW50LCAnZGVmYXVsdCcpXCJcbiAgICAgIChzdGF0dXNDaGFuZ2VkKT1cImNoZWNrSXNMYXN0U2hvd24oKVwiXG4gICAgICBjZGtEcm9wTGlzdFxuICAgID48L3ByaXptLWNvbHVtbi1kcm9wLWxpc3Q+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwic2VjdGlvblwiICpuZ0lmPVwic3RpY2t5U2V0dGluZ3NcIj5cbiAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1oZWFkZXJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJwcml6bS1mb250LXRpdGxlLWg0XCI+e3sgdHJhbnNsYXRpb25zIHwgcHJpem1QbHVjayA6IFsnc3RpY2t5UmlnaHQnXSB9fTwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxwcml6bS1jb2x1bW4tZHJvcC1saXN0XG4gICAgICAjc3RpY2t5UmlnaHRMaXN0PVwiY2RrRHJvcExpc3RcIlxuICAgICAgW2Nka0Ryb3BMaXN0RGF0YV09XCJfc2V0dGluZ3Muc3RpY2t5UmlnaHRcIlxuICAgICAgW2Nka0Ryb3BMaXN0Q29ubmVjdGVkVG9dPVwiY29ubmVjdGVkUmlnaHRcIlxuICAgICAgW2NvbHVtbnNdPVwiX3NldHRpbmdzLnN0aWNreVJpZ2h0XCJcbiAgICAgIFt0cmFuc2xhdGlvbnNdPVwidHJhbnNsYXRpb25zXCJcbiAgICAgIChjZGtEcm9wTGlzdERyb3BwZWQpPVwiZHJvcCgkZXZlbnQsICdzdGlja3knKVwiXG4gICAgICBjZGtEcm9wTGlzdFxuICAgID48L3ByaXptLWNvbHVtbi1kcm9wLWxpc3Q+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwiZm9vdGVyIHByaXptLWZvbnQtYnRuLWxpbmtzLTE0XCI+XG4gICAgPGRpdiBjbGFzcz1cImJ1dHRvbnNcIj5cbiAgICAgIDxidXR0b24gKGNsaWNrKT1cImNsb3NlKG51bGwpXCIgYXBwZWFyYW5jZT1cInNlY29uZGFyeVwiIGFwcGVhcmFuY2VUeXBlPVwiZ2hvc3RcIiBzaXplPVwibVwiIHByaXptQnV0dG9uPlxuICAgICAgICB7eyB0cmFuc2xhdGlvbnMgfCBwcml6bVBsdWNrIDogWydjYW5jZWxCdG4nXSB9fVxuICAgICAgPC9idXR0b24+XG4gICAgICA8YnV0dG9uIChjbGljayk9XCJjbG9zZShfc2V0dGluZ3MpXCIgYXBwZWFyYW5jZT1cInByaW1hcnlcIiBzaXplPVwibVwiIHByaXptQnV0dG9uPlxuICAgICAgICB7eyB0cmFuc2xhdGlvbnMgfCBwcml6bVBsdWNrIDogWydzYXZlQnRuJ10gfX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PlxuIl19