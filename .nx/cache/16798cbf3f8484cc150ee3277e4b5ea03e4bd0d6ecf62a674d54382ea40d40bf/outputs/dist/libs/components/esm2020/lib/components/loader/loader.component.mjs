import { CommonModule, DOCUMENT } from '@angular/common';
import { ChangeDetectionStrategy, Component, ElementRef, HostBinding, Inject, Input, } from '@angular/core';
import { prizmIsNativeFocusedIn } from '../../util/is-native-focused-in';
import { prizmBlurNativeFocused } from '../../util/blur-native-focused';
import { prizmSizeBigger } from '../../util/size-bigger';
import { PrizmAbstractTestId } from '../../abstract/interactive';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
export class PrizmLoaderComponent extends PrizmAbstractTestId {
    set showLoader(value) {
        if (value && this.focused) {
            prizmBlurNativeFocused(this.documentRef);
        }
        this.loading = value;
    }
    constructor(documentRef, elementRef) {
        super();
        this.documentRef = documentRef;
        this.elementRef = elementRef;
        this.size = 's';
        this.inheritColor = false;
        this.overlay = false;
        this.textContent = null;
        this.loading = true;
        this.testId_ = 'ui_loader';
    }
    get hasOverlay() {
        return this.overlay && this.loading;
    }
    get hasText() {
        return !!this.textContent;
    }
    get isHorizontal() {
        return !prizmSizeBigger(this.size);
    }
    get focused() {
        return prizmIsNativeFocusedIn(this.elementRef.nativeElement);
    }
}
PrizmLoaderComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: PrizmLoaderComponent, deps: [{ token: DOCUMENT }, { token: ElementRef }], target: i0.ɵɵFactoryTarget.Component });
PrizmLoaderComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.9", type: PrizmLoaderComponent, isStandalone: true, selector: "prizm-loader", inputs: { size: "size", inheritColor: "inheritColor", overlay: "overlay", textContent: "textContent", showLoader: "showLoader" }, host: { properties: { "class._loading": "this.loading" } }, usesInheritance: true, ngImport: i0, template: "<fieldset\n  class=\"z-content\"\n  [class.z-content_has-overlay]=\"hasOverlay\"\n  [class.z-content_loading]=\"loading\"\n  [disabled]=\"loading\"\n>\n  <ng-content></ng-content>\n</fieldset>\n\n<div\n  class=\"z-loader\"\n  *ngIf=\"loading\"\n  [class.z-loader_horizontal]=\"isHorizontal\"\n  [class.z-loader_inherit-color]=\"inheritColor\"\n  [attr.data-prizm-element-size]=\"size\"\n>\n  <svg class=\"z-icon\" focusable=\"false\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n    <circle class=\"z-circle\" cx=\"50\" cy=\"50\" r=\"50\" stroke-dasharray=\"314\"></circle>\n  </svg>\n\n  <div class=\"z-text\" *ngIf=\"hasText\" [class.z-text_horizontal]=\"isHorizontal\">\n    <ng-container [ngTemplateOutlet]=\"textContent\"></ng-container>\n  </div>\n</div>\n", styles: ["@keyframes prizmLoaderDashOffset{0%{stroke-dashoffset:-66}50%{stroke-dashoffset:-314}to{stroke-dashoffset:-66}}@keyframes prizmLoaderRotate{0%{transform:rotate(0)}50%{transform:rotate(1turn)}to{transform:rotate(3turn)}}:host{position:relative;display:flex}:host._loading{overflow:hidden}.z-content{z-index:0;min-width:100%;height:100%;padding:0;margin:0;border:none}.z-content_has-overlay{opacity:.3}.z-content_loading{pointer-events:none}.z-loader{position:relative;left:-100%;display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:100%;flex-shrink:0;align-self:center;color:var(--prizm-v3-text-icon-primary);stroke:var(--prizm-v3-status-info-primary-default);animation:prizmFadeIn var(--prizm-duration)}.z-loader.z-loader_horizontal{flex-direction:row}.z-loader.z-loader_inherit-color{color:inherit;stroke:currentColor}.z-loader[data-prizm-element-size=xm]{font-size:2rem;stroke-width:38}.z-loader[data-prizm-element-size=s]{font-size:1rem;stroke-width:25}.z-loader[data-prizm-element-size=xs]{font-size:.75rem;stroke-width:38}.z-loader[data-prizm-element-size=m]{font-size:1.5rem;stroke-width:17}.z-loader[data-prizm-element-size=l]{font-size:2.5rem;stroke-width:15}.z-loader[data-prizm-element-size=xl]{font-size:3.5rem;stroke-width:14}.z-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:1rem;color:inherit;max-width:100%;text-align:center;stroke-width:0}.z-text_horizontal{margin:0 0 0 1rem}.z-icon{display:block;min-width:1em;max-width:1em;min-height:1em;max-height:1em;margin:.25rem -.5em;border-radius:100%;overflow:hidden;transform:scaleY(-1);animation:prizmLoaderRotate 3s linear infinite}.z-circle{fill:none;stroke:inherit;stroke-width:inherit;animation:prizmLoaderDashOffset 3s linear infinite}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: PrizmLoaderComponent, decorators: [{
            type: Component,
            args: [{ selector: 'prizm-loader', changeDetection: ChangeDetectionStrategy.OnPush, standalone: true, imports: [CommonModule], template: "<fieldset\n  class=\"z-content\"\n  [class.z-content_has-overlay]=\"hasOverlay\"\n  [class.z-content_loading]=\"loading\"\n  [disabled]=\"loading\"\n>\n  <ng-content></ng-content>\n</fieldset>\n\n<div\n  class=\"z-loader\"\n  *ngIf=\"loading\"\n  [class.z-loader_horizontal]=\"isHorizontal\"\n  [class.z-loader_inherit-color]=\"inheritColor\"\n  [attr.data-prizm-element-size]=\"size\"\n>\n  <svg class=\"z-icon\" focusable=\"false\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n    <circle class=\"z-circle\" cx=\"50\" cy=\"50\" r=\"50\" stroke-dasharray=\"314\"></circle>\n  </svg>\n\n  <div class=\"z-text\" *ngIf=\"hasText\" [class.z-text_horizontal]=\"isHorizontal\">\n    <ng-container [ngTemplateOutlet]=\"textContent\"></ng-container>\n  </div>\n</div>\n", styles: ["@keyframes prizmLoaderDashOffset{0%{stroke-dashoffset:-66}50%{stroke-dashoffset:-314}to{stroke-dashoffset:-66}}@keyframes prizmLoaderRotate{0%{transform:rotate(0)}50%{transform:rotate(1turn)}to{transform:rotate(3turn)}}:host{position:relative;display:flex}:host._loading{overflow:hidden}.z-content{z-index:0;min-width:100%;height:100%;padding:0;margin:0;border:none}.z-content_has-overlay{opacity:.3}.z-content_loading{pointer-events:none}.z-loader{position:relative;left:-100%;display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:100%;flex-shrink:0;align-self:center;color:var(--prizm-v3-text-icon-primary);stroke:var(--prizm-v3-status-info-primary-default);animation:prizmFadeIn var(--prizm-duration)}.z-loader.z-loader_horizontal{flex-direction:row}.z-loader.z-loader_inherit-color{color:inherit;stroke:currentColor}.z-loader[data-prizm-element-size=xm]{font-size:2rem;stroke-width:38}.z-loader[data-prizm-element-size=s]{font-size:1rem;stroke-width:25}.z-loader[data-prizm-element-size=xs]{font-size:.75rem;stroke-width:38}.z-loader[data-prizm-element-size=m]{font-size:1.5rem;stroke-width:17}.z-loader[data-prizm-element-size=l]{font-size:2.5rem;stroke-width:15}.z-loader[data-prizm-element-size=xl]{font-size:3.5rem;stroke-width:14}.z-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:1rem;color:inherit;max-width:100%;text-align:center;stroke-width:0}.z-text_horizontal{margin:0 0 0 1rem}.z-icon{display:block;min-width:1em;max-width:1em;min-height:1em;max-height:1em;margin:.25rem -.5em;border-radius:100%;overflow:hidden;transform:scaleY(-1);animation:prizmLoaderRotate 3s linear infinite}.z-circle{fill:none;stroke:inherit;stroke-width:inherit;animation:prizmLoaderDashOffset 3s linear infinite}\n"] }]
        }], ctorParameters: function () { return [{ type: Document, decorators: [{
                    type: Inject,
                    args: [DOCUMENT]
                }] }, { type: i0.ElementRef, decorators: [{
                    type: Inject,
                    args: [ElementRef]
                }] }]; }, propDecorators: { size: [{
                type: Input
            }], inheritColor: [{
                type: Input
            }], overlay: [{
                type: Input
            }], textContent: [{
                type: Input
            }], showLoader: [{
                type: Input
            }], loading: [{
                type: HostBinding,
                args: ['class._loading']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9hZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvY29tcG9uZW50cy9zcmMvbGliL2NvbXBvbmVudHMvbG9hZGVyL2xvYWRlci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2NvbXBvbmVudHMvc3JjL2xpYi9jb21wb25lbnRzL2xvYWRlci9sb2FkZXIuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN6RCxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxVQUFVLEVBQ1YsV0FBVyxFQUNYLE1BQU0sRUFDTixLQUFLLEdBRU4sTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFDekUsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDeEUsT0FBTyxFQUFhLGVBQWUsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3BFLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLDRCQUE0QixDQUFDOzs7QUFVakUsTUFBTSxPQUFPLG9CQUFxQixTQUFRLG1CQUFtQjtJQWEzRCxJQUNJLFVBQVUsQ0FBQyxLQUFjO1FBQzNCLElBQUksS0FBSyxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDekIsc0JBQXNCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQzFDO1FBRUQsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7SUFDdkIsQ0FBQztJQU9ELFlBQ3FDLFdBQXFCLEVBQ25CLFVBQW1DO1FBRXhFLEtBQUssRUFBRSxDQUFDO1FBSDJCLGdCQUFXLEdBQVgsV0FBVyxDQUFVO1FBQ25CLGVBQVUsR0FBVixVQUFVLENBQXlCO1FBM0IxRSxTQUFJLEdBQWMsR0FBRyxDQUFDO1FBR3RCLGlCQUFZLEdBQUcsS0FBSyxDQUFDO1FBR3JCLFlBQU8sR0FBRyxLQUFLLENBQUM7UUFHaEIsZ0JBQVcsR0FBZ0MsSUFBSSxDQUFDO1FBWWhELFlBQU8sR0FBRyxJQUFJLENBQUM7UUFFRyxZQUFPLEdBQUcsV0FBVyxDQUFDO0lBT3hDLENBQUM7SUFFRCxJQUFJLFVBQVU7UUFDWixPQUFPLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUN0QyxDQUFDO0lBRUQsSUFBSSxPQUFPO1FBQ1QsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUM1QixDQUFDO0lBRUQsSUFBSSxZQUFZO1FBQ2QsT0FBTyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVELElBQUksT0FBTztRQUNULE9BQU8sc0JBQXNCLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUMvRCxDQUFDOztpSEFoRFUsb0JBQW9CLGtCQTRCckIsUUFBUSxhQUNSLFVBQVU7cUdBN0JULG9CQUFvQiw2UkN2QmpDLDh3QkF3QkEsOHhEREhZLFlBQVk7MkZBRVgsb0JBQW9CO2tCQVJoQyxTQUFTOytCQUNFLGNBQWMsbUJBR1AsdUJBQXVCLENBQUMsTUFBTSxjQUNuQyxJQUFJLFdBQ1AsQ0FBQyxZQUFZLENBQUM7OzBCQThCcEIsTUFBTTsyQkFBQyxRQUFROzswQkFDZixNQUFNOzJCQUFDLFVBQVU7NENBM0JwQixJQUFJO3NCQURILEtBQUs7Z0JBSU4sWUFBWTtzQkFEWCxLQUFLO2dCQUlOLE9BQU87c0JBRE4sS0FBSztnQkFJTixXQUFXO3NCQURWLEtBQUs7Z0JBSUYsVUFBVTtzQkFEYixLQUFLO2dCQVVOLE9BQU87c0JBRE4sV0FBVzt1QkFBQyxnQkFBZ0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21tb25Nb2R1bGUsIERPQ1VNRU5UIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7XG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDb21wb25lbnQsXG4gIEVsZW1lbnRSZWYsXG4gIEhvc3RCaW5kaW5nLFxuICBJbmplY3QsXG4gIElucHV0LFxuICBUZW1wbGF0ZVJlZixcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBwcml6bUlzTmF0aXZlRm9jdXNlZEluIH0gZnJvbSAnLi4vLi4vdXRpbC9pcy1uYXRpdmUtZm9jdXNlZC1pbic7XG5pbXBvcnQgeyBwcml6bUJsdXJOYXRpdmVGb2N1c2VkIH0gZnJvbSAnLi4vLi4vdXRpbC9ibHVyLW5hdGl2ZS1mb2N1c2VkJztcbmltcG9ydCB7IFByaXptU2l6ZSwgcHJpem1TaXplQmlnZ2VyIH0gZnJvbSAnLi4vLi4vdXRpbC9zaXplLWJpZ2dlcic7XG5pbXBvcnQgeyBQcml6bUFic3RyYWN0VGVzdElkIH0gZnJvbSAnLi4vLi4vYWJzdHJhY3QvaW50ZXJhY3RpdmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdwcml6bS1sb2FkZXInLFxuICB0ZW1wbGF0ZVVybDogJy4vbG9hZGVyLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vbG9hZGVyLmNvbXBvbmVudC5sZXNzJ10sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICBzdGFuZGFsb25lOiB0cnVlLFxuICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlXSxcbn0pXG5leHBvcnQgY2xhc3MgUHJpem1Mb2FkZXJDb21wb25lbnQgZXh0ZW5kcyBQcml6bUFic3RyYWN0VGVzdElkIHtcbiAgQElucHV0KClcbiAgc2l6ZTogUHJpem1TaXplID0gJ3MnO1xuXG4gIEBJbnB1dCgpXG4gIGluaGVyaXRDb2xvciA9IGZhbHNlO1xuXG4gIEBJbnB1dCgpXG4gIG92ZXJsYXkgPSBmYWxzZTtcblxuICBASW5wdXQoKVxuICB0ZXh0Q29udGVudDogVGVtcGxhdGVSZWY8dW5rbm93bj4gfCBudWxsID0gbnVsbDtcblxuICBASW5wdXQoKVxuICBzZXQgc2hvd0xvYWRlcih2YWx1ZTogYm9vbGVhbikge1xuICAgIGlmICh2YWx1ZSAmJiB0aGlzLmZvY3VzZWQpIHtcbiAgICAgIHByaXptQmx1ck5hdGl2ZUZvY3VzZWQodGhpcy5kb2N1bWVudFJlZik7XG4gICAgfVxuXG4gICAgdGhpcy5sb2FkaW5nID0gdmFsdWU7XG4gIH1cblxuICBASG9zdEJpbmRpbmcoJ2NsYXNzLl9sb2FkaW5nJylcbiAgbG9hZGluZyA9IHRydWU7XG5cbiAgb3ZlcnJpZGUgcmVhZG9ubHkgdGVzdElkXyA9ICd1aV9sb2FkZXInO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIEBJbmplY3QoRE9DVU1FTlQpIHByaXZhdGUgcmVhZG9ubHkgZG9jdW1lbnRSZWY6IERvY3VtZW50LFxuICAgIEBJbmplY3QoRWxlbWVudFJlZikgcHJpdmF0ZSByZWFkb25seSBlbGVtZW50UmVmOiBFbGVtZW50UmVmPEhUTUxFbGVtZW50PlxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgZ2V0IGhhc092ZXJsYXkoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMub3ZlcmxheSAmJiB0aGlzLmxvYWRpbmc7XG4gIH1cblxuICBnZXQgaGFzVGV4dCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLnRleHRDb250ZW50O1xuICB9XG5cbiAgZ2V0IGlzSG9yaXpvbnRhbCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIXByaXptU2l6ZUJpZ2dlcih0aGlzLnNpemUpO1xuICB9XG5cbiAgZ2V0IGZvY3VzZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHByaXptSXNOYXRpdmVGb2N1c2VkSW4odGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpO1xuICB9XG59XG4iLCI8ZmllbGRzZXRcbiAgY2xhc3M9XCJ6LWNvbnRlbnRcIlxuICBbY2xhc3Muei1jb250ZW50X2hhcy1vdmVybGF5XT1cImhhc092ZXJsYXlcIlxuICBbY2xhc3Muei1jb250ZW50X2xvYWRpbmddPVwibG9hZGluZ1wiXG4gIFtkaXNhYmxlZF09XCJsb2FkaW5nXCJcbj5cbiAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuPC9maWVsZHNldD5cblxuPGRpdlxuICBjbGFzcz1cInotbG9hZGVyXCJcbiAgKm5nSWY9XCJsb2FkaW5nXCJcbiAgW2NsYXNzLnotbG9hZGVyX2hvcml6b250YWxdPVwiaXNIb3Jpem9udGFsXCJcbiAgW2NsYXNzLnotbG9hZGVyX2luaGVyaXQtY29sb3JdPVwiaW5oZXJpdENvbG9yXCJcbiAgW2F0dHIuZGF0YS1wcml6bS1lbGVtZW50LXNpemVdPVwic2l6ZVwiXG4+XG4gIDxzdmcgY2xhc3M9XCJ6LWljb25cIiBmb2N1c2FibGU9XCJmYWxzZVwiIHZpZXdCb3g9XCIwIDAgMTAwIDEwMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICA8Y2lyY2xlIGNsYXNzPVwiei1jaXJjbGVcIiBjeD1cIjUwXCIgY3k9XCI1MFwiIHI9XCI1MFwiIHN0cm9rZS1kYXNoYXJyYXk9XCIzMTRcIj48L2NpcmNsZT5cbiAgPC9zdmc+XG5cbiAgPGRpdiBjbGFzcz1cInotdGV4dFwiICpuZ0lmPVwiaGFzVGV4dFwiIFtjbGFzcy56LXRleHRfaG9yaXpvbnRhbF09XCJpc0hvcml6b250YWxcIj5cbiAgICA8bmctY29udGFpbmVyIFtuZ1RlbXBsYXRlT3V0bGV0XT1cInRleHRDb250ZW50XCI+PC9uZy1jb250YWluZXI+XG4gIDwvZGl2PlxuPC9kaXY+XG4iXX0=