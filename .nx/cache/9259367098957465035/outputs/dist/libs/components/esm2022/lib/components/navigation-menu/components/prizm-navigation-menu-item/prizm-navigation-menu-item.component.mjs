import { ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, Input, Output, TemplateRef, } from '@angular/core';
import { PrizmAbstractTestId } from '@prizm-ui/core';
import { PrizmIconsSvgModule } from '@prizm-ui/icons';
import { NgIf, NgTemplateOutlet } from '@angular/common';
import { PrizmInputCommonModule } from '../../../input/common/input-common.module';
import { PrizmHoveredModule } from '../../../../directives/hovered';
import { PrizmHintDirective } from '../../../../directives';
import { PrizmButtonComponent } from '../../../button';
import { prizmIsTextOverflow } from '../../../../util';
import * as i0 from "@angular/core";
import * as i1 from "@prizm-ui/icons";
import * as i2 from "../../../../directives/hovered/hovered.directive";
export class PrizmNavigationMenuItemComponent extends PrizmAbstractTestId {
    get expandButtonVisible() {
        return this.mode === 'rubricator' ? !!this.item.isRubricator : this.isExpandable;
    }
    get goToButtonsVisible() {
        this.item.breadcrumbs = this.item.breadcrumbs ?? [];
        return this.mode === 'folder' && this.item.breadcrumbs.length > 1;
    }
    constructor(cdr) {
        super();
        this.cdr = cdr;
        this.interaction = new EventEmitter();
        this.toggleExpanded = new EventEmitter();
        this.goToParentItem = new EventEmitter();
        this.goToRootItem = new EventEmitter();
        this.prizmIsTextOverflow = prizmIsTextOverflow;
        this.isHovered = false;
        this.testId_ = 'ui_navigation_menu_item';
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.8", ngImport: i0, type: PrizmNavigationMenuItemComponent, deps: [{ token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.8", type: PrizmNavigationMenuItemComponent, isStandalone: true, selector: "prizm-navigation-menu-item", inputs: { itemExtraTemplate: "itemExtraTemplate", isExpandable: "isExpandable", isExpanded: "isExpanded", isActive: "isActive", item: "item", mode: "mode", showGoToButtons: "showGoToButtons" }, outputs: { interaction: "interaction", toggleExpanded: "toggleExpanded", goToParentItem: "goToParentItem", goToRootItem: "goToRootItem" }, usesInheritance: true, ngImport: i0, template: "<div\n  class=\"prizm-navigation-menu-item\"\n  [class.prizm-navigation-menu-item_active]=\"isActive\"\n  [class.prizm-navigation-menu-item_hovered]=\"isHovered\"\n  [class.prizm-navigation-menu-item_expandable]=\"isExpandable\"\n  [tabindex]=\"0\"\n  [prizmHint]=\"item.text\"\n  [prizmHintCanShow]=\"prizmIsTextOverflow(elem)\"\n  (keydown.space)=\"interaction.emit(item)\"\n  (keydown.enter)=\"interaction.emit(item)\"\n  (click)=\"interaction.emit(item)\"\n  (prizmHoveredChange)=\"isHovered = $event\"\n>\n  <prizm-icons-svg\n    class=\"prizm-navigation-menu-item__icon\"\n    *ngIf=\"item.icon\"\n    [name]=\"item.icon\"\n  ></prizm-icons-svg>\n  <p class=\"prizm-navigation-menu-item__text\" #elem>\n    {{ item.text }}\n  </p>\n  <div class=\"prizm-navigation-menu-item__extra\">\n    <ng-container\n      [ngTemplateOutlet]=\"item.extraTemplate || itemExtraTemplate\"\n      [ngTemplateOutletContext]=\"{ $implicit: item, isHovered: isHovered }\"\n    ></ng-container>\n  </div>\n  <button\n    *ngIf=\"goToButtonsVisible\"\n    [size]=\"'m'\"\n    [icon]=\"'arrows-corner-left-up'\"\n    [appearance]=\"'secondary'\"\n    [appearanceType]=\"'ghost'\"\n    (click)=\"$event.stopPropagation(); goToParentItem.emit(item)\"\n    prizmIconButton\n  ></button>\n  <button\n    *ngIf=\"goToButtonsVisible\"\n    [size]=\"'m'\"\n    [icon]=\"'arrows-arrow-up-level'\"\n    [appearance]=\"'secondary'\"\n    [appearanceType]=\"'ghost'\"\n    (click)=\"$event.stopPropagation(); goToRootItem.emit(item)\"\n    prizmIconButton\n  ></button>\n  <button\n    class=\"expand-button\"\n    *ngIf=\"expandButtonVisible\"\n    [appearance]=\"'secondary'\"\n    [appearanceType]=\"'ghost'\"\n    [size]=\"'m'\"\n    [icon]=\"isExpanded ? 'chevrons-down' : 'chevrons-right'\"\n    [class.t-button_expanded]=\"isExpanded\"\n    (click)=\"$event.stopPropagation(); toggleExpanded.emit(item)\"\n    prizmIconButton\n  ></button>\n</div>\n", styles: [":host{width:100%}.prizm-navigation-menu-item{display:flex;align-items:center;flex:1;height:var(--prizm-navigation-menu__item-height);outline:none;padding-right:8px;padding-left:calc(4px + (var(--prizm-tree-item-indent, 24) * var(--prizm-tree-item-indent-level)) * 1px);border-left:4px solid transparent;font-size:14px;font-weight:400;line-height:16px;color:var(--prizm-v3-text-icon-secondary);cursor:pointer}.prizm-navigation-menu-item:not(.prizm-navigation-menu-item_active):hover,.prizm-navigation-menu-item:not(.prizm-navigation-menu-item_active):focus{background:var(--prizm-v3-table-fill-row-hover)}.prizm-navigation-menu-item_active{background:var(--prizm-v3-table-fill-row-active);border-left-color:var(--prizm-navigation-active-row-marker-color, var(--prizm-v3-status-info-primary-default))}.prizm-navigation-menu-item__icon{flex-basis:24px;padding-left:8px}.prizm-navigation-menu-item__text{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;flex:1;padding:0 4px;font-weight:400;font-size:14px;line-height:16px;margin:0}.prizm-navigation-menu-item .expand-button{transition-property:transform;transition-duration:var(--prizm-duration, .3s);transition-timing-function:ease-in-out}.prizm-navigation-menu-item .expand-button_expanded{transform:rotate(90deg)}\n"], dependencies: [{ kind: "ngmodule", type: PrizmIconsSvgModule }, { kind: "component", type: i1.PrizmIconsSvgComponent, selector: "prizm-icons-svg", inputs: ["name", "color", "size"] }, { kind: "ngmodule", type: PrizmHoveredModule }, { kind: "directive", type: i2.PrizmHoveredDirective, selector: "[prizmHoveredChange]", outputs: ["prizmHoveredChange"] }, { kind: "directive", type: NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "ngmodule", type: PrizmInputCommonModule }, { kind: "component", type: PrizmButtonComponent, selector: "button[prizmButton], button[prizmIconButton], a[prizmButton], a[prizmIconButton]", inputs: ["size", "icon", "iconRight", "appearance", "appearanceType", "disabled", "showLoader"] }, { kind: "directive", type: PrizmHintDirective, selector: "[prizmHint]:not(ng-container)", inputs: ["prizmAutoReposition", "prizmHintDirection", "prizmHintId", "prizmHintTheme", "prizmHintShowDelay", "prizmHintHideDelay", "prizmHintHost", "prizmHintContext", "prizmHintCanShow", "prizmHint"], outputs: ["prizmHintShowed"], exportAs: ["prizmHint"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.8", ngImport: i0, type: PrizmNavigationMenuItemComponent, decorators: [{
            type: Component,
            args: [{ selector: 'prizm-navigation-menu-item', changeDetection: ChangeDetectionStrategy.OnPush, standalone: true, imports: [
                        PrizmIconsSvgModule,
                        PrizmHoveredModule,
                        NgIf,
                        NgTemplateOutlet,
                        PrizmInputCommonModule,
                        PrizmButtonComponent,
                        PrizmHintDirective,
                    ], template: "<div\n  class=\"prizm-navigation-menu-item\"\n  [class.prizm-navigation-menu-item_active]=\"isActive\"\n  [class.prizm-navigation-menu-item_hovered]=\"isHovered\"\n  [class.prizm-navigation-menu-item_expandable]=\"isExpandable\"\n  [tabindex]=\"0\"\n  [prizmHint]=\"item.text\"\n  [prizmHintCanShow]=\"prizmIsTextOverflow(elem)\"\n  (keydown.space)=\"interaction.emit(item)\"\n  (keydown.enter)=\"interaction.emit(item)\"\n  (click)=\"interaction.emit(item)\"\n  (prizmHoveredChange)=\"isHovered = $event\"\n>\n  <prizm-icons-svg\n    class=\"prizm-navigation-menu-item__icon\"\n    *ngIf=\"item.icon\"\n    [name]=\"item.icon\"\n  ></prizm-icons-svg>\n  <p class=\"prizm-navigation-menu-item__text\" #elem>\n    {{ item.text }}\n  </p>\n  <div class=\"prizm-navigation-menu-item__extra\">\n    <ng-container\n      [ngTemplateOutlet]=\"item.extraTemplate || itemExtraTemplate\"\n      [ngTemplateOutletContext]=\"{ $implicit: item, isHovered: isHovered }\"\n    ></ng-container>\n  </div>\n  <button\n    *ngIf=\"goToButtonsVisible\"\n    [size]=\"'m'\"\n    [icon]=\"'arrows-corner-left-up'\"\n    [appearance]=\"'secondary'\"\n    [appearanceType]=\"'ghost'\"\n    (click)=\"$event.stopPropagation(); goToParentItem.emit(item)\"\n    prizmIconButton\n  ></button>\n  <button\n    *ngIf=\"goToButtonsVisible\"\n    [size]=\"'m'\"\n    [icon]=\"'arrows-arrow-up-level'\"\n    [appearance]=\"'secondary'\"\n    [appearanceType]=\"'ghost'\"\n    (click)=\"$event.stopPropagation(); goToRootItem.emit(item)\"\n    prizmIconButton\n  ></button>\n  <button\n    class=\"expand-button\"\n    *ngIf=\"expandButtonVisible\"\n    [appearance]=\"'secondary'\"\n    [appearanceType]=\"'ghost'\"\n    [size]=\"'m'\"\n    [icon]=\"isExpanded ? 'chevrons-down' : 'chevrons-right'\"\n    [class.t-button_expanded]=\"isExpanded\"\n    (click)=\"$event.stopPropagation(); toggleExpanded.emit(item)\"\n    prizmIconButton\n  ></button>\n</div>\n", styles: [":host{width:100%}.prizm-navigation-menu-item{display:flex;align-items:center;flex:1;height:var(--prizm-navigation-menu__item-height);outline:none;padding-right:8px;padding-left:calc(4px + (var(--prizm-tree-item-indent, 24) * var(--prizm-tree-item-indent-level)) * 1px);border-left:4px solid transparent;font-size:14px;font-weight:400;line-height:16px;color:var(--prizm-v3-text-icon-secondary);cursor:pointer}.prizm-navigation-menu-item:not(.prizm-navigation-menu-item_active):hover,.prizm-navigation-menu-item:not(.prizm-navigation-menu-item_active):focus{background:var(--prizm-v3-table-fill-row-hover)}.prizm-navigation-menu-item_active{background:var(--prizm-v3-table-fill-row-active);border-left-color:var(--prizm-navigation-active-row-marker-color, var(--prizm-v3-status-info-primary-default))}.prizm-navigation-menu-item__icon{flex-basis:24px;padding-left:8px}.prizm-navigation-menu-item__text{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;flex:1;padding:0 4px;font-weight:400;font-size:14px;line-height:16px;margin:0}.prizm-navigation-menu-item .expand-button{transition-property:transform;transition-duration:var(--prizm-duration, .3s);transition-timing-function:ease-in-out}.prizm-navigation-menu-item .expand-button_expanded{transform:rotate(90deg)}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }]; }, propDecorators: { interaction: [{
                type: Output
            }], toggleExpanded: [{
                type: Output
            }], goToParentItem: [{
                type: Output
            }], goToRootItem: [{
                type: Output
            }], itemExtraTemplate: [{
                type: Input
            }], isExpandable: [{
                type: Input
            }], isExpanded: [{
                type: Input
            }], isActive: [{
                type: Input
            }], item: [{
                type: Input
            }], mode: [{
                type: Input
            }], showGoToButtons: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJpem0tbmF2aWdhdGlvbi1tZW51LWl0ZW0uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9jb21wb25lbnRzL3NyYy9saWIvY29tcG9uZW50cy9uYXZpZ2F0aW9uLW1lbnUvY29tcG9uZW50cy9wcml6bS1uYXZpZ2F0aW9uLW1lbnUtaXRlbS9wcml6bS1uYXZpZ2F0aW9uLW1lbnUtaXRlbS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2NvbXBvbmVudHMvc3JjL2xpYi9jb21wb25lbnRzL25hdmlnYXRpb24tbWVudS9jb21wb25lbnRzL3ByaXptLW5hdmlnYXRpb24tbWVudS1pdGVtL3ByaXptLW5hdmlnYXRpb24tbWVudS1pdGVtLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCx1QkFBdUIsRUFDdkIsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxZQUFZLEVBQ1osS0FBSyxFQUNMLE1BQU0sRUFDTixXQUFXLEdBQ1osTUFBTSxlQUFlLENBQUM7QUFFdkIsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDckQsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdEQsT0FBTyxFQUFFLElBQUksRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLDJDQUEyQyxDQUFDO0FBQ25GLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBQ3BFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQzVELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLGtCQUFrQixDQUFDOzs7O0FBa0J2RCxNQUFNLE9BQU8sZ0NBQW9DLFNBQVEsbUJBQW1CO0lBaUIxRSxJQUFJLG1CQUFtQjtRQUNyQixPQUFPLElBQUksQ0FBQyxJQUFJLEtBQUssWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUM7SUFDbkYsQ0FBQztJQUVELElBQUksa0JBQWtCO1FBQ3BCLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxJQUFJLEVBQUUsQ0FBQztRQUNwRCxPQUFPLElBQUksQ0FBQyxJQUFJLEtBQUssUUFBUSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDcEUsQ0FBQztJQUdELFlBQW1CLEdBQXNCO1FBQ3ZDLEtBQUssRUFBRSxDQUFDO1FBRFMsUUFBRyxHQUFILEdBQUcsQ0FBbUI7UUExQi9CLGdCQUFXLEdBQUcsSUFBSSxZQUFZLEVBQXNDLENBQUM7UUFDckUsbUJBQWMsR0FBRyxJQUFJLFlBQVksRUFBc0MsQ0FBQztRQUN4RSxtQkFBYyxHQUFHLElBQUksWUFBWSxFQUFzQyxDQUFDO1FBQ3hFLGlCQUFZLEdBQUcsSUFBSSxZQUFZLEVBQXNDLENBQUM7UUFVaEUsd0JBQW1CLEdBQUcsbUJBQW1CLENBQUM7UUFDbkQsY0FBUyxHQUFHLEtBQUssQ0FBQztRQVVQLFlBQU8sR0FBRyx5QkFBeUIsQ0FBQztJQUl0RCxDQUFDOzhHQTdCVSxnQ0FBZ0M7a0dBQWhDLGdDQUFnQywwYkNuQzdDLDA0REF5REEsa3pDRC9CSSxtQkFBbUIsc0pBQ25CLGtCQUFrQix5SkFDbEIsSUFBSSw2RkFDSixnQkFBZ0IsbUpBQ2hCLHNCQUFzQiwrQkFDdEIsb0JBQW9CLDhOQUNwQixrQkFBa0I7OzJGQUdULGdDQUFnQztrQkFoQjVDLFNBQVM7K0JBQ0UsNEJBQTRCLG1CQUdyQix1QkFBdUIsQ0FBQyxNQUFNLGNBQ25DLElBQUksV0FDUDt3QkFDUCxtQkFBbUI7d0JBQ25CLGtCQUFrQjt3QkFDbEIsSUFBSTt3QkFDSixnQkFBZ0I7d0JBQ2hCLHNCQUFzQjt3QkFDdEIsb0JBQW9CO3dCQUNwQixrQkFBa0I7cUJBQ25CO3dHQUdTLFdBQVc7c0JBQXBCLE1BQU07Z0JBQ0csY0FBYztzQkFBdkIsTUFBTTtnQkFDRyxjQUFjO3NCQUF2QixNQUFNO2dCQUNHLFlBQVk7c0JBQXJCLE1BQU07Z0JBRUUsaUJBQWlCO3NCQUF6QixLQUFLO2dCQUNHLFlBQVk7c0JBQXBCLEtBQUs7Z0JBQ0csVUFBVTtzQkFBbEIsS0FBSztnQkFDRyxRQUFRO3NCQUFoQixLQUFLO2dCQUNHLElBQUk7c0JBQVosS0FBSztnQkFDRyxJQUFJO3NCQUFaLEtBQUs7Z0JBQ0csZUFBZTtzQkFBdkIsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgQ29tcG9uZW50LFxuICBFdmVudEVtaXR0ZXIsXG4gIElucHV0LFxuICBPdXRwdXQsXG4gIFRlbXBsYXRlUmVmLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEludGVybmFsUHJpem1OYXZpZ2F0aW9uTWVudUl0ZW0sIFZpZXdNb2RlIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBQcml6bUFic3RyYWN0VGVzdElkIH0gZnJvbSAnQHByaXptLXVpL2NvcmUnO1xuaW1wb3J0IHsgUHJpem1JY29uc1N2Z01vZHVsZSB9IGZyb20gJ0Bwcml6bS11aS9pY29ucyc7XG5pbXBvcnQgeyBOZ0lmLCBOZ1RlbXBsYXRlT3V0bGV0IH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IFByaXptSW5wdXRDb21tb25Nb2R1bGUgfSBmcm9tICcuLi8uLi8uLi9pbnB1dC9jb21tb24vaW5wdXQtY29tbW9uLm1vZHVsZSc7XG5pbXBvcnQgeyBQcml6bUhvdmVyZWRNb2R1bGUgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXJlY3RpdmVzL2hvdmVyZWQnO1xuaW1wb3J0IHsgUHJpem1IaW50RGlyZWN0aXZlIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlyZWN0aXZlcyc7XG5pbXBvcnQgeyBQcml6bUJ1dHRvbkNvbXBvbmVudCB9IGZyb20gJy4uLy4uLy4uL2J1dHRvbic7XG5pbXBvcnQgeyBwcml6bUlzVGV4dE92ZXJmbG93IH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3ByaXptLW5hdmlnYXRpb24tbWVudS1pdGVtJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3ByaXptLW5hdmlnYXRpb24tbWVudS1pdGVtLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vcHJpem0tbmF2aWdhdGlvbi1tZW51LWl0ZW0uY29tcG9uZW50Lmxlc3MnXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtcbiAgICBQcml6bUljb25zU3ZnTW9kdWxlLFxuICAgIFByaXptSG92ZXJlZE1vZHVsZSxcbiAgICBOZ0lmLFxuICAgIE5nVGVtcGxhdGVPdXRsZXQsXG4gICAgUHJpem1JbnB1dENvbW1vbk1vZHVsZSxcbiAgICBQcml6bUJ1dHRvbkNvbXBvbmVudCxcbiAgICBQcml6bUhpbnREaXJlY3RpdmUsXG4gIF0sXG59KVxuZXhwb3J0IGNsYXNzIFByaXptTmF2aWdhdGlvbk1lbnVJdGVtQ29tcG9uZW50PFQ+IGV4dGVuZHMgUHJpem1BYnN0cmFjdFRlc3RJZCB7XG4gIEBPdXRwdXQoKSBpbnRlcmFjdGlvbiA9IG5ldyBFdmVudEVtaXR0ZXI8SW50ZXJuYWxQcml6bU5hdmlnYXRpb25NZW51SXRlbTxUPj4oKTtcbiAgQE91dHB1dCgpIHRvZ2dsZUV4cGFuZGVkID0gbmV3IEV2ZW50RW1pdHRlcjxJbnRlcm5hbFByaXptTmF2aWdhdGlvbk1lbnVJdGVtPFQ+PigpO1xuICBAT3V0cHV0KCkgZ29Ub1BhcmVudEl0ZW0gPSBuZXcgRXZlbnRFbWl0dGVyPEludGVybmFsUHJpem1OYXZpZ2F0aW9uTWVudUl0ZW08VD4+KCk7XG4gIEBPdXRwdXQoKSBnb1RvUm9vdEl0ZW0gPSBuZXcgRXZlbnRFbWl0dGVyPEludGVybmFsUHJpem1OYXZpZ2F0aW9uTWVudUl0ZW08VD4+KCk7XG5cbiAgQElucHV0KCkgaXRlbUV4dHJhVGVtcGxhdGUhOiBUZW1wbGF0ZVJlZjx1bmtub3duPjtcbiAgQElucHV0KCkgaXNFeHBhbmRhYmxlITogYm9vbGVhbjtcbiAgQElucHV0KCkgaXNFeHBhbmRlZCE6IGJvb2xlYW47XG4gIEBJbnB1dCgpIGlzQWN0aXZlITogYm9vbGVhbjtcbiAgQElucHV0KCkgaXRlbSE6IEludGVybmFsUHJpem1OYXZpZ2F0aW9uTWVudUl0ZW08VD47XG4gIEBJbnB1dCgpIG1vZGUhOiBWaWV3TW9kZTtcbiAgQElucHV0KCkgc2hvd0dvVG9CdXR0b25zITogYm9vbGVhbjtcblxuICBwdWJsaWMgcmVhZG9ubHkgcHJpem1Jc1RleHRPdmVyZmxvdyA9IHByaXptSXNUZXh0T3ZlcmZsb3c7XG4gIHB1YmxpYyBpc0hvdmVyZWQgPSBmYWxzZTtcblxuICBnZXQgZXhwYW5kQnV0dG9uVmlzaWJsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5tb2RlID09PSAncnVicmljYXRvcicgPyAhIXRoaXMuaXRlbS5pc1J1YnJpY2F0b3IgOiB0aGlzLmlzRXhwYW5kYWJsZTtcbiAgfVxuXG4gIGdldCBnb1RvQnV0dG9uc1Zpc2libGUoKTogYm9vbGVhbiB7XG4gICAgdGhpcy5pdGVtLmJyZWFkY3J1bWJzID0gdGhpcy5pdGVtLmJyZWFkY3J1bWJzID8/IFtdO1xuICAgIHJldHVybiB0aGlzLm1vZGUgPT09ICdmb2xkZXInICYmIHRoaXMuaXRlbS5icmVhZGNydW1icy5sZW5ndGggPiAxO1xuICB9XG4gIG92ZXJyaWRlIHJlYWRvbmx5IHRlc3RJZF8gPSAndWlfbmF2aWdhdGlvbl9tZW51X2l0ZW0nO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBjZHI6IENoYW5nZURldGVjdG9yUmVmKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxufVxuIiwiPGRpdlxuICBjbGFzcz1cInByaXptLW5hdmlnYXRpb24tbWVudS1pdGVtXCJcbiAgW2NsYXNzLnByaXptLW5hdmlnYXRpb24tbWVudS1pdGVtX2FjdGl2ZV09XCJpc0FjdGl2ZVwiXG4gIFtjbGFzcy5wcml6bS1uYXZpZ2F0aW9uLW1lbnUtaXRlbV9ob3ZlcmVkXT1cImlzSG92ZXJlZFwiXG4gIFtjbGFzcy5wcml6bS1uYXZpZ2F0aW9uLW1lbnUtaXRlbV9leHBhbmRhYmxlXT1cImlzRXhwYW5kYWJsZVwiXG4gIFt0YWJpbmRleF09XCIwXCJcbiAgW3ByaXptSGludF09XCJpdGVtLnRleHRcIlxuICBbcHJpem1IaW50Q2FuU2hvd109XCJwcml6bUlzVGV4dE92ZXJmbG93KGVsZW0pXCJcbiAgKGtleWRvd24uc3BhY2UpPVwiaW50ZXJhY3Rpb24uZW1pdChpdGVtKVwiXG4gIChrZXlkb3duLmVudGVyKT1cImludGVyYWN0aW9uLmVtaXQoaXRlbSlcIlxuICAoY2xpY2spPVwiaW50ZXJhY3Rpb24uZW1pdChpdGVtKVwiXG4gIChwcml6bUhvdmVyZWRDaGFuZ2UpPVwiaXNIb3ZlcmVkID0gJGV2ZW50XCJcbj5cbiAgPHByaXptLWljb25zLXN2Z1xuICAgIGNsYXNzPVwicHJpem0tbmF2aWdhdGlvbi1tZW51LWl0ZW1fX2ljb25cIlxuICAgICpuZ0lmPVwiaXRlbS5pY29uXCJcbiAgICBbbmFtZV09XCJpdGVtLmljb25cIlxuICA+PC9wcml6bS1pY29ucy1zdmc+XG4gIDxwIGNsYXNzPVwicHJpem0tbmF2aWdhdGlvbi1tZW51LWl0ZW1fX3RleHRcIiAjZWxlbT5cbiAgICB7eyBpdGVtLnRleHQgfX1cbiAgPC9wPlxuICA8ZGl2IGNsYXNzPVwicHJpem0tbmF2aWdhdGlvbi1tZW51LWl0ZW1fX2V4dHJhXCI+XG4gICAgPG5nLWNvbnRhaW5lclxuICAgICAgW25nVGVtcGxhdGVPdXRsZXRdPVwiaXRlbS5leHRyYVRlbXBsYXRlIHx8IGl0ZW1FeHRyYVRlbXBsYXRlXCJcbiAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7ICRpbXBsaWNpdDogaXRlbSwgaXNIb3ZlcmVkOiBpc0hvdmVyZWQgfVwiXG4gICAgPjwvbmctY29udGFpbmVyPlxuICA8L2Rpdj5cbiAgPGJ1dHRvblxuICAgICpuZ0lmPVwiZ29Ub0J1dHRvbnNWaXNpYmxlXCJcbiAgICBbc2l6ZV09XCInbSdcIlxuICAgIFtpY29uXT1cIidhcnJvd3MtY29ybmVyLWxlZnQtdXAnXCJcbiAgICBbYXBwZWFyYW5jZV09XCInc2Vjb25kYXJ5J1wiXG4gICAgW2FwcGVhcmFuY2VUeXBlXT1cIidnaG9zdCdcIlxuICAgIChjbGljayk9XCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IGdvVG9QYXJlbnRJdGVtLmVtaXQoaXRlbSlcIlxuICAgIHByaXptSWNvbkJ1dHRvblxuICA+PC9idXR0b24+XG4gIDxidXR0b25cbiAgICAqbmdJZj1cImdvVG9CdXR0b25zVmlzaWJsZVwiXG4gICAgW3NpemVdPVwiJ20nXCJcbiAgICBbaWNvbl09XCInYXJyb3dzLWFycm93LXVwLWxldmVsJ1wiXG4gICAgW2FwcGVhcmFuY2VdPVwiJ3NlY29uZGFyeSdcIlxuICAgIFthcHBlYXJhbmNlVHlwZV09XCInZ2hvc3QnXCJcbiAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyBnb1RvUm9vdEl0ZW0uZW1pdChpdGVtKVwiXG4gICAgcHJpem1JY29uQnV0dG9uXG4gID48L2J1dHRvbj5cbiAgPGJ1dHRvblxuICAgIGNsYXNzPVwiZXhwYW5kLWJ1dHRvblwiXG4gICAgKm5nSWY9XCJleHBhbmRCdXR0b25WaXNpYmxlXCJcbiAgICBbYXBwZWFyYW5jZV09XCInc2Vjb25kYXJ5J1wiXG4gICAgW2FwcGVhcmFuY2VUeXBlXT1cIidnaG9zdCdcIlxuICAgIFtzaXplXT1cIidtJ1wiXG4gICAgW2ljb25dPVwiaXNFeHBhbmRlZCA/ICdjaGV2cm9ucy1kb3duJyA6ICdjaGV2cm9ucy1yaWdodCdcIlxuICAgIFtjbGFzcy50LWJ1dHRvbl9leHBhbmRlZF09XCJpc0V4cGFuZGVkXCJcbiAgICAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyB0b2dnbGVFeHBhbmRlZC5lbWl0KGl0ZW0pXCJcbiAgICBwcml6bUljb25CdXR0b25cbiAgPjwvYnV0dG9uPlxuPC9kaXY+XG4iXX0=