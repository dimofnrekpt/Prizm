import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ContentChildren, ElementRef, EventEmitter, HostBinding, Input, Output, QueryList, TemplateRef, ViewChild, } from '@angular/core';
import { animationFrameScheduler, Subject, Subscription } from 'rxjs';
import { debounceTime, observeOn, takeUntil, tap } from 'rxjs/operators';
import { PrizmTabsService } from './tabs.service';
import { PrizmTabComponent } from './components/tab.component';
import { PrizmTabMenuItemDirective } from './tab-menu-item.directive';
import { PrizmDropdownHostComponent } from '../dropdowns/dropdown-host';
import { PrizmCallFuncPipe, PrizmDestroyService, prizmEmptyQueryList, PrizmLetDirective, } from '@prizm-ui/helpers';
import { PrizmAbstractTestId } from '../../abstract/interactive';
import { CommonModule } from '@angular/common';
import { PolymorphOutletDirective, PrizmDropdownControllerModule, PrizmHintDirective, PrizmLifecycleModule, } from '../../directives';
import { PrizmButtonModule } from '../button';
import { PrizmDataListComponent } from '../data-list';
import { PrizmListingItemComponent } from '../listing-item';
import { PrizmCounterComponent } from '../counter';
import { PrizmIconModule } from '../icon';
import { PrizmIconTabsPipe } from './pipes/icon-tabs.pipe';
import { prizmIsTextOverflow$ } from '../../util';
import * as i0 from "@angular/core";
import * as i1 from "@prizm-ui/helpers";
import * as i2 from "./tabs.service";
import * as i3 from "@angular/common";
import * as i4 from "../../directives/lifecycle/lifecycle.directive";
import * as i5 from "../button/button.component";
import * as i6 from "../icon/icon.component";
export class PrizmTabsComponent extends PrizmAbstractTestId {
    set activeTabIndex(idx) {
        if (idx === this.tabsService.activeTabIdx)
            return;
        this.tabsService.updateActiveTab(idx);
    }
    get activeTabIndex() {
        return this.tabsService.activeTabIdx;
    }
    set canOpen(func) {
        this.tabsService.canOpenTab = func;
    }
    get canOpen() {
        return this.tabsService.canOpenTab;
    }
    constructor(cdRef, elRef, destroy$, tabsService) {
        super();
        this.cdRef = cdRef;
        this.elRef = elRef;
        this.destroy$ = destroy$;
        this.tabsService = tabsService;
        this.size = 'adaptive';
        this.canShowMenu = true;
        this.activeTabIndexChange = new EventEmitter();
        this.tabElements = prizmEmptyQueryList();
        this.menuElements = prizmEmptyQueryList();
        this.testId_ = 'ui_tabs';
        this.openLeft = false;
        this.openRight = false;
        this.isLeftBtnActive = false;
        this.isRightBtnActive = false;
        this.prizmIsTextOverflow$ = prizmIsTextOverflow$;
        this.mutationDetector$ = new Subject();
        this.subscription = new Subscription();
    }
    ngOnInit() {
        this.tabsService.initObservingTabsParent(this.tabsContainer.nativeElement);
        this.mutationObserver = new MutationObserver(() => this.mutationDetector$.next());
        this.resizeObserver = new ResizeObserver(() => this.mutationDetector$.next());
        this.mutationObserver.observe(this.tabsContainer.nativeElement, {
            attributes: true,
            characterData: true,
            childList: true,
        });
        this.resizeObserver.observe(this.tabsContainer.nativeElement);
        this.initTabClickListener();
        this.subscription.add(this.mutationDetector$
            .pipe(debounceTime(200), observeOn(animationFrameScheduler))
            .subscribe(() => this.overflowChecker()));
    }
    initTabClickListener() {
        this.tabsService.activeTabIdx$
            .pipe(tap(idx => {
            this.tabClickHandler(idx);
        }), takeUntil(this.destroy$))
            .subscribe();
    }
    ngOnDestroy() {
        this.mutationObserver.disconnect();
        this.resizeObserver.disconnect();
        this.mutationDetector$.complete();
        this.subscription.unsubscribe();
    }
    tabClickHandler(idx) {
        this.activeTabIndex = idx;
        this.activeTabIndexChange.emit(this.activeTabIndex);
        this.focusTabByIdx(idx);
    }
    increase() {
        const tabsContainerElement = this.tabsContainer.nativeElement;
        const scrollLeft = tabsContainerElement.scrollLeft + (1.5 * tabsContainerElement.offsetWidth) / this.tabsService.tabs.size;
        this.calculateControlsState(scrollLeft);
        tabsContainerElement.scrollLeft = scrollLeft;
    }
    decrease() {
        const tabsContainerElement = this.tabsContainer.nativeElement;
        const scrollLeft = tabsContainerElement.scrollLeft - (1.5 * tabsContainerElement.offsetWidth) / this.tabsService.tabs.size;
        this.calculateControlsState(scrollLeft);
        tabsContainerElement.scrollLeft = scrollLeft;
    }
    calculateControlsState(scrollLeft) {
        const tabsContainerElement = this.tabsContainer.nativeElement;
        const scrollWidth = tabsContainerElement.scrollWidth;
        const offsetWidth = tabsContainerElement.offsetWidth;
        this.isLeftBtnActive = scrollLeft > 20;
        this.isRightBtnActive = scrollWidth - offsetWidth - scrollLeft > 20;
    }
    overflowChecker() {
        if (!this.tabElements?.length)
            return;
        let tabsWidth = 0;
        const tabContainerElement = this.tabsContainer.nativeElement;
        this.tabElements.forEach(item => {
            tabsWidth += item?.el.nativeElement.clientWidth;
        });
        if (tabsWidth > tabContainerElement.clientWidth) {
            const scrollLeft = tabContainerElement.scrollLeft;
            if (scrollLeft === 0) {
                this.isRightBtnActive = true;
            }
            else {
                this.calculateControlsState(scrollLeft);
            }
        }
        else {
            this.isRightBtnActive = false;
            this.isLeftBtnActive = false;
            this.openLeft = false;
            this.openRight = false;
        }
        this.cdRef.markForCheck();
    }
    focusTabByIdx(idx) {
        if (!this.tabElements?.length)
            return;
        const selectedTabElement = this.tabElements.find((item, index) => index === idx)?.el.nativeElement;
        if (!selectedTabElement)
            return;
        this.tabsContainer.nativeElement.scrollLeft =
            selectedTabElement.offsetLeft -
                this.tabsContainer.nativeElement.offsetWidth / 2 +
                selectedTabElement.offsetWidth / 2;
        this.mutationDetector$.next();
    }
    reCalculatePositions() {
        (this.tabsDropdown ?? this.tabsMoreDropdown)?.reCalculatePositions();
    }
    closeTab(idx) {
        this.tabsService.getTabByIdx(idx)?.closeTab.emit();
        this.reCalculatePositions();
    }
    clickTab(index) {
        this.openLeft = this.openRight = false;
        this.tabClickHandler(index);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.8", ngImport: i0, type: PrizmTabsComponent, deps: [{ token: i0.ChangeDetectorRef }, { token: i0.ElementRef }, { token: i1.PrizmDestroyService }, { token: i2.PrizmTabsService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.8", type: PrizmTabsComponent, isStandalone: true, selector: "prizm-tabs", inputs: { size: "size", activeTabIndex: "activeTabIndex", canShowMenu: "canShowMenu", canOpen: "canOpen" }, outputs: { activeTabIndexChange: "activeTabIndexChange" }, host: { properties: { "attr.data-size": "this.size" } }, providers: [PrizmTabsService, PrizmDestroyService], queries: [{ propertyName: "tabElements", predicate: PrizmTabComponent, descendants: true }, { propertyName: "menuElements", predicate: PrizmTabMenuItemDirective, descendants: true, read: TemplateRef }], viewQueries: [{ propertyName: "tabsContainer", first: true, predicate: ["tabsContainer"], descendants: true, static: true }, { propertyName: "tabsDropdown", first: true, predicate: ["tabsDropdown"], descendants: true, static: true }], usesInheritance: true, ngImport: i0, template: "<div class=\"container\">\n  <div class=\"control\" [class.control_active]=\"isLeftBtnActive\">\n    <button\n      [icon]=\"'arrows-chevron-left'\"\n      (click)=\"decrease()\"\n      prizmIconButton\n      appearanceType=\"ghost\"\n      appearance=\"secondary\"\n      size=\"m\"\n    ></button>\n    <prizm-dropdown-host\n      class=\"dropdown-host\"\n      #dropdownMore=\"prizm-dropdown-host\"\n      *ngIf=\"canShowMenu && !isRightBtnActive\"\n      [(isOpen)]=\"openLeft\"\n      [content]=\"dropdown\"\n      (prizmAfterViewInit)=\"tabsMoreDropdown = dropdownMore\"\n      prizmDropdownHostWidth=\"auto\"\n    >\n      <button\n        [icon]=\"'settings-more-vert'\"\n        (click)=\"openLeft = !openLeft\"\n        prizmIconButton\n        appearanceType=\"ghost\"\n        appearance=\"secondary\"\n        size=\"m\"\n      ></button>\n    </prizm-dropdown-host>\n  </div>\n\n  <div class=\"tabs\" #tabsContainer>\n    <ng-content></ng-content>\n  </div>\n\n  <div class=\"control\" *ngIf=\"canShowMenu\" [class.control_active]=\"isRightBtnActive\">\n    <prizm-dropdown-host\n      class=\"dropdown-host\"\n      #tabsDropdown\n      [(isOpen)]=\"openRight\"\n      [content]=\"dropdown\"\n      (prizmAfterViewInit)=\"tabsMoreDropdown = tabsDropdown\"\n      prizmDropdownHostWidth=\"auto\"\n    >\n      <button\n        [icon]=\"'settings-more-vert'\"\n        (click)=\"openRight = !openRight\"\n        prizmIconButton\n        appearanceType=\"ghost\"\n        appearance=\"secondary\"\n        size=\"m\"\n      ></button>\n    </prizm-dropdown-host>\n    <button\n      [icon]=\"'arrows-chevron-right'\"\n      (click)=\"increase()\"\n      prizmIconButton\n      appearanceType=\"ghost\"\n      appearance=\"secondary\"\n      size=\"m\"\n    ></button>\n  </div>\n\n  <ng-template #dropdown>\n    <prizm-data-list>\n      <div class=\"tabs-column prizm-tab-menu-container\" *prizmLet=\"tabElements | prizmIconTabs as hasIcons\">\n        <ng-container *ngFor=\"let tabElement of tabElements; let i = index\">\n          <ng-container *ngIf=\"tabElement as tab\">\n            <prizm-listing-item\n              [disabled]=\"$any(tab.disabled)\"\n              [selected]=\"activeTabIndex === i\"\n              (click)=\"clickTab(i)\"\n            >\n              <ng-container *ngIf=\"tab.icon || hasIcons\" leftBox>\n                <ng-container *ngIf=\"tab.icon as icon; else placeholder\">\n                  <ng-container *polymorphOutlet=\"icon; context: $any({ idx: i, tab: tab })\">\n                    <prizm-icon class=\"icon icon__mark\" [size]=\"16\" [iconClass]=\"$any(icon)\"> </prizm-icon>\n                  </ng-container>\n                </ng-container>\n                <ng-template #placeholder>\n                  <div class=\"icon-placeholder\"></div>\n                </ng-template>\n              </ng-container>\n\n              <ng-container>\n                <div\n                  class=\"tab-content\"\n                  #elem\n                  [prizmHint]=\"tab.content\"\n                  [prizmHintCanShow]=\"$any(elem | prizmCallFunc : prizmIsTextOverflow$ | async)\"\n                >\n                  {{ tab.content }}\n                </div>\n              </ng-container>\n\n              <ng-container rightBox>\n                <prizm-counter\n                  *ngIf=\"tab.count\"\n                  [value]=\"tab.count\"\n                  [status]=\"tab._counterOptions.status\"\n                  [disabled]=\"tab._counterOptions.disabled\"\n                  [maxValue]=\"tab._counterOptions.maxValue\"\n                ></prizm-counter>\n                <prizm-icon\n                  class=\"icon\"\n                  [class.hidden]=\"!tab.closable\"\n                  [iconClass]=\"'cancel-close'\"\n                  [size]=\"16\"\n                  (click)=\"closeTab($any(tabElement.idx))\"\n                ></prizm-icon>\n              </ng-container>\n            </prizm-listing-item>\n          </ng-container>\n        </ng-container>\n      </div>\n    </prizm-data-list>\n  </ng-template>\n</div>\n", styles: [":host{width:100%;display:flex;align-items:flex-end;isolation:isolate}:host .container{height:100%;width:100%;display:flex;align-items:center;position:relative;overflow:hidden}:host .container .tabs{height:100%;display:flex;overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth}:host .container .tabs::-webkit-scrollbar{display:none}:host .container .control{height:100%;padding:8px;display:flex;align-items:center;gap:8px;background:var(--prizm-v3-background-fill-primary);position:absolute;opacity:0;z-index:100;pointer-events:none;transition:.2s}:host .container .control:first-child{left:0;border-right:1px solid var(--prizm-v3-background-stroke)}:host .container .control:last-child{right:0;border-left:1px solid var(--prizm-v3-background-stroke)}:host .container .control_active{opacity:1;pointer-events:auto;transition:.2s}.tabs-column{max-width:var(--prizm-tabs-dropdown-max-width, 360px);--prizm-listing-item-row-instruments-hover: var(--prizm-v3-table-fill-row-active);padding:8px 0;display:flex;flex-direction:column;background:var(--prizm-v3-background-fill-primary)}.tabs-column prizm-listing-item{max-width:100%}.tabs-column .tab-content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.hidden{visibility:hidden}.icon{color:var(--prizm-v3-button-secondary-solid-default)}.icon-placeholder{width:16px;height:16px}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i3.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "pipe", type: i3.AsyncPipe, name: "async" }, { kind: "directive", type: PolymorphOutletDirective, selector: "[polymorphOutlet]", inputs: ["polymorphOutlet", "polymorphOutletContext", "polymorphOutletInjector"] }, { kind: "ngmodule", type: PrizmLifecycleModule }, { kind: "directive", type: i4.PrizmLifecycleDirective, selector: "[prizmLifecycle], [prizmAfterViewInit], [prizmAfterContentInit], [prizmOnInit], [prizmOnDestroy]", outputs: ["prizmAfterViewInit", "prizmOnInit", "prizmAfterContentInit", "prizmOnDestroy"], exportAs: ["prizmLifecycle"] }, { kind: "component", type: PrizmDropdownHostComponent, selector: "prizm-dropdown-host", inputs: ["content", "prizmDropdownHostId", "prizmDropdownCustomContext", "delay", "canOpen", "closeByEsc", "closeOnOutsideClick", "prizmDropdownHost", "prizmDropdownHostWidth", "autoReposition", "placement", "isOpen", "dropdownStyles", "dropdownClasses"], outputs: ["isOpenChange"], exportAs: ["prizm-dropdown-host"] }, { kind: "pipe", type: PrizmCallFuncPipe, name: "prizmCallFunc" }, { kind: "directive", type: PrizmLetDirective, selector: "[prizmLet]", inputs: ["prizmLet"], exportAs: ["prizmLet"] }, { kind: "ngmodule", type: PrizmButtonModule }, { kind: "component", type: i5.PrizmButtonComponent, selector: "button[prizmButton], button[prizmIconButton], a[prizmButton], a[prizmIconButton]", inputs: ["size", "icon", "iconRight", "appearance", "appearanceType", "disabled", "showLoader"] }, { kind: "ngmodule", type: PrizmDropdownControllerModule }, { kind: "component", type: PrizmDataListComponent, selector: "prizm-data-list", inputs: ["defaultStyle", "iconOff", "content", "scroll"] }, { kind: "component", type: PrizmListingItemComponent, selector: "prizm-listing-item", inputs: ["disabled", "selected"] }, { kind: "component", type: PrizmCounterComponent, selector: "prizm-counter", inputs: ["disabled", "class", "maxValue", "status", "value"] }, { kind: "ngmodule", type: PrizmIconModule }, { kind: "component", type: i6.PrizmIconComponent, selector: "prizm-icon", inputs: ["iconClass", "size"] }, { kind: "pipe", type: PrizmIconTabsPipe, name: "prizmIconTabs" }, { kind: "directive", type: PrizmHintDirective, selector: "[prizmHint]:not(ng-container)", inputs: ["prizmAutoReposition", "prizmHintDirection", "prizmHintId", "prizmHintTheme", "prizmHintShowDelay", "prizmHintHideDelay", "prizmHintHost", "prizmHintContext", "prizmHintCanShow", "prizmHint"], outputs: ["prizmHintShowed"], exportAs: ["prizmHint"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.8", ngImport: i0, type: PrizmTabsComponent, decorators: [{
            type: Component,
            args: [{ selector: 'prizm-tabs', changeDetection: ChangeDetectionStrategy.OnPush, providers: [PrizmTabsService, PrizmDestroyService], standalone: true, imports: [
                        CommonModule,
                        PolymorphOutletDirective,
                        PrizmLifecycleModule,
                        PrizmDropdownHostComponent,
                        PrizmCallFuncPipe,
                        PrizmLetDirective,
                        PrizmButtonModule,
                        PrizmDropdownControllerModule,
                        PrizmDataListComponent,
                        PrizmTabComponent,
                        PrizmListingItemComponent,
                        PrizmCounterComponent,
                        PrizmIconModule,
                        PrizmIconTabsPipe,
                        PrizmHintDirective,
                    ], template: "<div class=\"container\">\n  <div class=\"control\" [class.control_active]=\"isLeftBtnActive\">\n    <button\n      [icon]=\"'arrows-chevron-left'\"\n      (click)=\"decrease()\"\n      prizmIconButton\n      appearanceType=\"ghost\"\n      appearance=\"secondary\"\n      size=\"m\"\n    ></button>\n    <prizm-dropdown-host\n      class=\"dropdown-host\"\n      #dropdownMore=\"prizm-dropdown-host\"\n      *ngIf=\"canShowMenu && !isRightBtnActive\"\n      [(isOpen)]=\"openLeft\"\n      [content]=\"dropdown\"\n      (prizmAfterViewInit)=\"tabsMoreDropdown = dropdownMore\"\n      prizmDropdownHostWidth=\"auto\"\n    >\n      <button\n        [icon]=\"'settings-more-vert'\"\n        (click)=\"openLeft = !openLeft\"\n        prizmIconButton\n        appearanceType=\"ghost\"\n        appearance=\"secondary\"\n        size=\"m\"\n      ></button>\n    </prizm-dropdown-host>\n  </div>\n\n  <div class=\"tabs\" #tabsContainer>\n    <ng-content></ng-content>\n  </div>\n\n  <div class=\"control\" *ngIf=\"canShowMenu\" [class.control_active]=\"isRightBtnActive\">\n    <prizm-dropdown-host\n      class=\"dropdown-host\"\n      #tabsDropdown\n      [(isOpen)]=\"openRight\"\n      [content]=\"dropdown\"\n      (prizmAfterViewInit)=\"tabsMoreDropdown = tabsDropdown\"\n      prizmDropdownHostWidth=\"auto\"\n    >\n      <button\n        [icon]=\"'settings-more-vert'\"\n        (click)=\"openRight = !openRight\"\n        prizmIconButton\n        appearanceType=\"ghost\"\n        appearance=\"secondary\"\n        size=\"m\"\n      ></button>\n    </prizm-dropdown-host>\n    <button\n      [icon]=\"'arrows-chevron-right'\"\n      (click)=\"increase()\"\n      prizmIconButton\n      appearanceType=\"ghost\"\n      appearance=\"secondary\"\n      size=\"m\"\n    ></button>\n  </div>\n\n  <ng-template #dropdown>\n    <prizm-data-list>\n      <div class=\"tabs-column prizm-tab-menu-container\" *prizmLet=\"tabElements | prizmIconTabs as hasIcons\">\n        <ng-container *ngFor=\"let tabElement of tabElements; let i = index\">\n          <ng-container *ngIf=\"tabElement as tab\">\n            <prizm-listing-item\n              [disabled]=\"$any(tab.disabled)\"\n              [selected]=\"activeTabIndex === i\"\n              (click)=\"clickTab(i)\"\n            >\n              <ng-container *ngIf=\"tab.icon || hasIcons\" leftBox>\n                <ng-container *ngIf=\"tab.icon as icon; else placeholder\">\n                  <ng-container *polymorphOutlet=\"icon; context: $any({ idx: i, tab: tab })\">\n                    <prizm-icon class=\"icon icon__mark\" [size]=\"16\" [iconClass]=\"$any(icon)\"> </prizm-icon>\n                  </ng-container>\n                </ng-container>\n                <ng-template #placeholder>\n                  <div class=\"icon-placeholder\"></div>\n                </ng-template>\n              </ng-container>\n\n              <ng-container>\n                <div\n                  class=\"tab-content\"\n                  #elem\n                  [prizmHint]=\"tab.content\"\n                  [prizmHintCanShow]=\"$any(elem | prizmCallFunc : prizmIsTextOverflow$ | async)\"\n                >\n                  {{ tab.content }}\n                </div>\n              </ng-container>\n\n              <ng-container rightBox>\n                <prizm-counter\n                  *ngIf=\"tab.count\"\n                  [value]=\"tab.count\"\n                  [status]=\"tab._counterOptions.status\"\n                  [disabled]=\"tab._counterOptions.disabled\"\n                  [maxValue]=\"tab._counterOptions.maxValue\"\n                ></prizm-counter>\n                <prizm-icon\n                  class=\"icon\"\n                  [class.hidden]=\"!tab.closable\"\n                  [iconClass]=\"'cancel-close'\"\n                  [size]=\"16\"\n                  (click)=\"closeTab($any(tabElement.idx))\"\n                ></prizm-icon>\n              </ng-container>\n            </prizm-listing-item>\n          </ng-container>\n        </ng-container>\n      </div>\n    </prizm-data-list>\n  </ng-template>\n</div>\n", styles: [":host{width:100%;display:flex;align-items:flex-end;isolation:isolate}:host .container{height:100%;width:100%;display:flex;align-items:center;position:relative;overflow:hidden}:host .container .tabs{height:100%;display:flex;overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth}:host .container .tabs::-webkit-scrollbar{display:none}:host .container .control{height:100%;padding:8px;display:flex;align-items:center;gap:8px;background:var(--prizm-v3-background-fill-primary);position:absolute;opacity:0;z-index:100;pointer-events:none;transition:.2s}:host .container .control:first-child{left:0;border-right:1px solid var(--prizm-v3-background-stroke)}:host .container .control:last-child{right:0;border-left:1px solid var(--prizm-v3-background-stroke)}:host .container .control_active{opacity:1;pointer-events:auto;transition:.2s}.tabs-column{max-width:var(--prizm-tabs-dropdown-max-width, 360px);--prizm-listing-item-row-instruments-hover: var(--prizm-v3-table-fill-row-active);padding:8px 0;display:flex;flex-direction:column;background:var(--prizm-v3-background-fill-primary)}.tabs-column prizm-listing-item{max-width:100%}.tabs-column .tab-content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.hidden{visibility:hidden}.icon{color:var(--prizm-v3-button-secondary-solid-default)}.icon-placeholder{width:16px;height:16px}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }, { type: i0.ElementRef }, { type: i1.PrizmDestroyService }, { type: i2.PrizmTabsService }]; }, propDecorators: { size: [{
                type: Input
            }, {
                type: HostBinding,
                args: ['attr.data-size']
            }], activeTabIndex: [{
                type: Input
            }], canShowMenu: [{
                type: Input
            }], canOpen: [{
                type: Input
            }], activeTabIndexChange: [{
                type: Output
            }], tabsContainer: [{
                type: ViewChild,
                args: ['tabsContainer', { static: true }]
            }], tabsDropdown: [{
                type: ViewChild,
                args: ['tabsDropdown', { static: true }]
            }], tabElements: [{
                type: ContentChildren,
                args: [PrizmTabComponent, { descendants: true }]
            }], menuElements: [{
                type: ContentChildren,
                args: [PrizmTabMenuItemDirective, { read: TemplateRef, descendants: true }]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFicy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2NvbXBvbmVudHMvc3JjL2xpYi9jb21wb25lbnRzL3RhYnMvdGFicy5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2NvbXBvbmVudHMvc3JjL2xpYi9jb21wb25lbnRzL3RhYnMvdGFicy5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLGlCQUFpQixFQUNqQixTQUFTLEVBQ1QsZUFBZSxFQUNmLFVBQVUsRUFDVixZQUFZLEVBQ1osV0FBVyxFQUNYLEtBQUssRUFHTCxNQUFNLEVBQ04sU0FBUyxFQUNULFdBQVcsRUFDWCxTQUFTLEdBQ1YsTUFBTSxlQUFlLENBQUM7QUFFdkIsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDdEUsT0FBTyxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3pFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2xELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQy9ELE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ3RFLE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ3hFLE9BQU8sRUFDTCxpQkFBaUIsRUFDakIsbUJBQW1CLEVBQ25CLG1CQUFtQixFQUNuQixpQkFBaUIsR0FDbEIsTUFBTSxtQkFBbUIsQ0FBQztBQUUzQixPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUNqRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7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LG1CQUdMLHVCQUF1QixDQUFDLE1BQU0sYUFDcEMsQ0FBQyxnQkFBZ0IsRUFBRSxtQkFBbUIsQ0FBQyxjQUN0QyxJQUFJLFdBQ1A7d0JBQ1AsWUFBWTt3QkFDWix3QkFBd0I7d0JBQ3hCLG9CQUFvQjt3QkFDcEIsMEJBQTBCO3dCQUMxQixpQkFBaUI7d0JBQ2pCLGlCQUFpQjt3QkFDakIsaUJBQWlCO3dCQUNqQiw2QkFBNkI7d0JBQzdCLHNCQUFzQjt3QkFDdEIsaUJBQWlCO3dCQUNqQix5QkFBeUI7d0JBQ3pCLHFCQUFxQjt3QkFDckIsZUFBZTt3QkFDZixpQkFBaUI7d0JBQ2pCLGtCQUFrQjtxQkFDbkI7a01BRzhDLElBQUk7c0JBQWxELEtBQUs7O3NCQUFJLFdBQVc7dUJBQUMsZ0JBQWdCO2dCQUNsQixjQUFjO3NCQUFqQyxLQUFLO2dCQU9HLFdBQVc7c0JBQW5CLEtBQUs7Z0JBQ08sT0FBTztzQkFBbkIsS0FBSztnQkFNYSxvQkFBb0I7c0JBQXRDLE1BQU07Z0JBQzhDLGFBQWE7c0JBQWpFLFNBQVM7dUJBQUMsZUFBZSxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTtnQkFDUSxZQUFZO3NCQUEvRCxTQUFTO3VCQUFDLGNBQWMsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7Z0JBSXBDLFdBQVc7c0JBRGpCLGVBQWU7dUJBQUMsaUJBQWlCLEVBQUUsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFO2dCQUlsRCxZQUFZO3NCQURsQixlQUFlO3VCQUFDLHlCQUF5QixFQUFFLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBDb21wb25lbnQsXG4gIENvbnRlbnRDaGlsZHJlbixcbiAgRWxlbWVudFJlZixcbiAgRXZlbnRFbWl0dGVyLFxuICBIb3N0QmluZGluZyxcbiAgSW5wdXQsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG4gIFF1ZXJ5TGlzdCxcbiAgVGVtcGxhdGVSZWYsXG4gIFZpZXdDaGlsZCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBQcml6bVRhYlNpemUgfSBmcm9tICcuL3RhYnMuaW50ZXJmYWNlJztcbmltcG9ydCB7IGFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyLCBTdWJqZWN0LCBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRlYm91bmNlVGltZSwgb2JzZXJ2ZU9uLCB0YWtlVW50aWwsIHRhcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFByaXptVGFic1NlcnZpY2UgfSBmcm9tICcuL3RhYnMuc2VydmljZSc7XG5pbXBvcnQgeyBQcml6bVRhYkNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy90YWIuY29tcG9uZW50JztcbmltcG9ydCB7IFByaXptVGFiTWVudUl0ZW1EaXJlY3RpdmUgfSBmcm9tICcuL3RhYi1tZW51LWl0ZW0uZGlyZWN0aXZlJztcbmltcG9ydCB7IFByaXptRHJvcGRvd25Ib3N0Q29tcG9uZW50IH0gZnJvbSAnLi4vZHJvcGRvd25zL2Ryb3Bkb3duLWhvc3QnO1xuaW1wb3J0IHtcbiAgUHJpem1DYWxsRnVuY1BpcGUsXG4gIFByaXptRGVzdHJveVNlcnZpY2UsXG4gIHByaXptRW1wdHlRdWVyeUxpc3QsXG4gIFByaXptTGV0RGlyZWN0aXZlLFxufSBmcm9tICdAcHJpem0tdWkvaGVscGVycyc7XG5pbXBvcnQgeyBQcml6bVRhYkNhbk9wZW4gfSBmcm9tICcuL3RhYnMubW9kZWwnO1xuaW1wb3J0IHsgUHJpem1BYnN0cmFjdFRlc3RJZCB9IGZyb20gJy4uLy4uL2Fic3RyYWN0L2ludGVyYWN0aXZlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge1xuICBQb2x5bW9ycGhPdXRsZXREaXJlY3RpdmUsXG4gIFByaXptRHJvcGRvd25Db250cm9sbGVyTW9kdWxlLFxuICBQcml6bUhpbnREaXJlY3RpdmUsXG4gIFByaXptTGlmZWN5Y2xlTW9kdWxlLFxufSBmcm9tICcuLi8uLi9kaXJlY3RpdmVzJztcbmltcG9ydCB7IFByaXptQnV0dG9uTW9kdWxlIH0gZnJvbSAnLi4vYnV0dG9uJztcbmltcG9ydCB7IFByaXptRGF0YUxpc3RDb21wb25lbnQgfSBmcm9tICcuLi9kYXRhLWxpc3QnO1xuaW1wb3J0IHsgUHJpem1MaXN0aW5nSXRlbUNvbXBvbmVudCB9IGZyb20gJy4uL2xpc3RpbmctaXRlbSc7XG5pbXBvcnQgeyBQcml6bUNvdW50ZXJDb21wb25lbnQgfSBmcm9tICcuLi9jb3VudGVyJztcbmltcG9ydCB7IFByaXptSWNvbk1vZHVsZSB9IGZyb20gJy4uL2ljb24nO1xuaW1wb3J0IHsgUHJpem1JY29uVGFic1BpcGUgfSBmcm9tICcuL3BpcGVzL2ljb24tdGFicy5waXBlJztcbmltcG9ydCB7IHByaXptSXNUZXh0T3ZlcmZsb3ckIH0gZnJvbSAnLi4vLi4vdXRpbCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3ByaXptLXRhYnMnLFxuICB0ZW1wbGF0ZVVybDogJy4vdGFicy5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3RhYnMuY29tcG9uZW50Lmxlc3MnXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIHByb3ZpZGVyczogW1ByaXptVGFic1NlcnZpY2UsIFByaXptRGVzdHJveVNlcnZpY2VdLFxuICBzdGFuZGFsb25lOiB0cnVlLFxuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlLFxuICAgIFBvbHltb3JwaE91dGxldERpcmVjdGl2ZSxcbiAgICBQcml6bUxpZmVjeWNsZU1vZHVsZSxcbiAgICBQcml6bURyb3Bkb3duSG9zdENvbXBvbmVudCxcbiAgICBQcml6bUNhbGxGdW5jUGlwZSxcbiAgICBQcml6bUxldERpcmVjdGl2ZSxcbiAgICBQcml6bUJ1dHRvbk1vZHVsZSxcbiAgICBQcml6bURyb3Bkb3duQ29udHJvbGxlck1vZHVsZSxcbiAgICBQcml6bURhdGFMaXN0Q29tcG9uZW50LFxuICAgIFByaXptVGFiQ29tcG9uZW50LFxuICAgIFByaXptTGlzdGluZ0l0ZW1Db21wb25lbnQsXG4gICAgUHJpem1Db3VudGVyQ29tcG9uZW50LFxuICAgIFByaXptSWNvbk1vZHVsZSxcbiAgICBQcml6bUljb25UYWJzUGlwZSxcbiAgICBQcml6bUhpbnREaXJlY3RpdmUsXG4gIF0sXG59KVxuZXhwb3J0IGNsYXNzIFByaXptVGFic0NvbXBvbmVudCBleHRlbmRzIFByaXptQWJzdHJhY3RUZXN0SWQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIEBJbnB1dCgpIEBIb3N0QmluZGluZygnYXR0ci5kYXRhLXNpemUnKSBwdWJsaWMgc2l6ZTogUHJpem1UYWJTaXplID0gJ2FkYXB0aXZlJztcbiAgQElucHV0KCkgcHVibGljIHNldCBhY3RpdmVUYWJJbmRleChpZHg6IG51bWJlcikge1xuICAgIGlmIChpZHggPT09IHRoaXMudGFic1NlcnZpY2UuYWN0aXZlVGFiSWR4KSByZXR1cm47XG4gICAgdGhpcy50YWJzU2VydmljZS51cGRhdGVBY3RpdmVUYWIoaWR4KTtcbiAgfVxuICBnZXQgYWN0aXZlVGFiSW5kZXgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy50YWJzU2VydmljZS5hY3RpdmVUYWJJZHg7XG4gIH1cbiAgQElucHV0KCkgY2FuU2hvd01lbnUgPSB0cnVlO1xuICBASW5wdXQoKSBzZXQgY2FuT3BlbihmdW5jOiBQcml6bVRhYkNhbk9wZW4gfCBudWxsKSB7XG4gICAgdGhpcy50YWJzU2VydmljZS5jYW5PcGVuVGFiID0gZnVuYztcbiAgfVxuICBnZXQgY2FuT3BlbigpIHtcbiAgICByZXR1cm4gdGhpcy50YWJzU2VydmljZS5jYW5PcGVuVGFiO1xuICB9XG4gIEBPdXRwdXQoKSByZWFkb25seSBhY3RpdmVUYWJJbmRleENoYW5nZTogRXZlbnRFbWl0dGVyPG51bWJlcj4gPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlcj4oKTtcbiAgQFZpZXdDaGlsZCgndGFic0NvbnRhaW5lcicsIHsgc3RhdGljOiB0cnVlIH0pIHB1YmxpYyB0YWJzQ29udGFpbmVyITogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgndGFic0Ryb3Bkb3duJywgeyBzdGF0aWM6IHRydWUgfSkgcHVibGljIHRhYnNEcm9wZG93biE6IFByaXptRHJvcGRvd25Ib3N0Q29tcG9uZW50O1xuICBwdWJsaWMgdGFic01vcmVEcm9wZG93biE6IFByaXptRHJvcGRvd25Ib3N0Q29tcG9uZW50O1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oUHJpem1UYWJDb21wb25lbnQsIHsgZGVzY2VuZGFudHM6IHRydWUgfSlcbiAgcHVibGljIHRhYkVsZW1lbnRzOiBRdWVyeUxpc3Q8UHJpem1UYWJDb21wb25lbnQ+ID0gcHJpem1FbXB0eVF1ZXJ5TGlzdCgpO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oUHJpem1UYWJNZW51SXRlbURpcmVjdGl2ZSwgeyByZWFkOiBUZW1wbGF0ZVJlZiwgZGVzY2VuZGFudHM6IHRydWUgfSlcbiAgcHVibGljIG1lbnVFbGVtZW50czogUXVlcnlMaXN0PFRlbXBsYXRlUmVmPFByaXptVGFiQ29tcG9uZW50Pj4gPSBwcml6bUVtcHR5UXVlcnlMaXN0KCk7XG5cbiAgb3ZlcnJpZGUgcmVhZG9ubHkgdGVzdElkXyA9ICd1aV90YWJzJztcblxuICBwdWJsaWMgb3BlbkxlZnQgPSBmYWxzZTtcbiAgcHVibGljIG9wZW5SaWdodCA9IGZhbHNlO1xuXG4gIHB1YmxpYyBpc0xlZnRCdG5BY3RpdmUgPSBmYWxzZTtcbiAgcHVibGljIGlzUmlnaHRCdG5BY3RpdmUgPSBmYWxzZTtcblxuICByZWFkb25seSBwcml6bUlzVGV4dE92ZXJmbG93JCA9IHByaXptSXNUZXh0T3ZlcmZsb3ckO1xuXG4gIHByaXZhdGUgbXV0YXRpb25PYnNlcnZlciE6IE11dGF0aW9uT2JzZXJ2ZXI7XG4gIHByaXZhdGUgcmVzaXplT2JzZXJ2ZXIhOiBSZXNpemVPYnNlcnZlcjtcbiAgcHJpdmF0ZSBtdXRhdGlvbkRldGVjdG9yJDogU3ViamVjdDx2b2lkPiA9IG5ldyBTdWJqZWN0PHZvaWQ+KCk7XG4gIHByaXZhdGUgc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSBjZFJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgcHJpdmF0ZSByZWFkb25seSBlbFJlZjogRWxlbWVudFJlZixcbiAgICBwcml2YXRlIHJlYWRvbmx5IGRlc3Ryb3kkOiBQcml6bURlc3Ryb3lTZXJ2aWNlLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgdGFic1NlcnZpY2U6IFByaXptVGFic1NlcnZpY2VcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHB1YmxpYyBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLnRhYnNTZXJ2aWNlLmluaXRPYnNlcnZpbmdUYWJzUGFyZW50KHRoaXMudGFic0NvbnRhaW5lci5uYXRpdmVFbGVtZW50KTtcbiAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB0aGlzLm11dGF0aW9uRGV0ZWN0b3IkLm5leHQoKSk7XG4gICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiB0aGlzLm11dGF0aW9uRGV0ZWN0b3IkLm5leHQoKSk7XG4gICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLm9ic2VydmUodGhpcy50YWJzQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQsIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgIH0pO1xuICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnRhYnNDb250YWluZXIubmF0aXZlRWxlbWVudCk7XG4gICAgdGhpcy5pbml0VGFiQ2xpY2tMaXN0ZW5lcigpO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb24uYWRkKFxuICAgICAgdGhpcy5tdXRhdGlvbkRldGVjdG9yJFxuICAgICAgICAucGlwZShkZWJvdW5jZVRpbWUoMjAwKSwgb2JzZXJ2ZU9uKGFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyKSlcbiAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB0aGlzLm92ZXJmbG93Q2hlY2tlcigpKVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGluaXRUYWJDbGlja0xpc3RlbmVyKCk6IHZvaWQge1xuICAgIHRoaXMudGFic1NlcnZpY2UuYWN0aXZlVGFiSWR4JFxuICAgICAgLnBpcGUoXG4gICAgICAgIHRhcChpZHggPT4ge1xuICAgICAgICAgIHRoaXMudGFiQ2xpY2tIYW5kbGVyKGlkeCk7XG4gICAgICAgIH0pLFxuICAgICAgICB0YWtlVW50aWwodGhpcy5kZXN0cm95JClcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKTtcbiAgfVxuXG4gIHB1YmxpYyBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIHRoaXMubXV0YXRpb25EZXRlY3RvciQuY29tcGxldGUoKTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgcHVibGljIHRhYkNsaWNrSGFuZGxlcihpZHg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuYWN0aXZlVGFiSW5kZXggPSBpZHg7XG4gICAgdGhpcy5hY3RpdmVUYWJJbmRleENoYW5nZS5lbWl0KHRoaXMuYWN0aXZlVGFiSW5kZXgpO1xuICAgIHRoaXMuZm9jdXNUYWJCeUlkeChpZHgpO1xuICB9XG5cbiAgcHVibGljIGluY3JlYXNlKCk6IHZvaWQge1xuICAgIGNvbnN0IHRhYnNDb250YWluZXJFbGVtZW50OiBIVE1MRWxlbWVudCA9IHRoaXMudGFic0NvbnRhaW5lci5uYXRpdmVFbGVtZW50O1xuICAgIGNvbnN0IHNjcm9sbExlZnQgPVxuICAgICAgdGFic0NvbnRhaW5lckVsZW1lbnQuc2Nyb2xsTGVmdCArICgxLjUgKiB0YWJzQ29udGFpbmVyRWxlbWVudC5vZmZzZXRXaWR0aCkgLyB0aGlzLnRhYnNTZXJ2aWNlLnRhYnMuc2l6ZTtcbiAgICB0aGlzLmNhbGN1bGF0ZUNvbnRyb2xzU3RhdGUoc2Nyb2xsTGVmdCk7XG4gICAgdGFic0NvbnRhaW5lckVsZW1lbnQuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XG4gIH1cblxuICBwdWJsaWMgZGVjcmVhc2UoKTogdm9pZCB7XG4gICAgY29uc3QgdGFic0NvbnRhaW5lckVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gdGhpcy50YWJzQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQ7XG4gICAgY29uc3Qgc2Nyb2xsTGVmdCA9XG4gICAgICB0YWJzQ29udGFpbmVyRWxlbWVudC5zY3JvbGxMZWZ0IC0gKDEuNSAqIHRhYnNDb250YWluZXJFbGVtZW50Lm9mZnNldFdpZHRoKSAvIHRoaXMudGFic1NlcnZpY2UudGFicy5zaXplO1xuICAgIHRoaXMuY2FsY3VsYXRlQ29udHJvbHNTdGF0ZShzY3JvbGxMZWZ0KTtcbiAgICB0YWJzQ29udGFpbmVyRWxlbWVudC5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgfVxuXG4gIHByaXZhdGUgY2FsY3VsYXRlQ29udHJvbHNTdGF0ZShzY3JvbGxMZWZ0OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCB0YWJzQ29udGFpbmVyRWxlbWVudDogSFRNTEVsZW1lbnQgPSB0aGlzLnRhYnNDb250YWluZXIubmF0aXZlRWxlbWVudDtcbiAgICBjb25zdCBzY3JvbGxXaWR0aCA9IHRhYnNDb250YWluZXJFbGVtZW50LnNjcm9sbFdpZHRoO1xuICAgIGNvbnN0IG9mZnNldFdpZHRoID0gdGFic0NvbnRhaW5lckVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgdGhpcy5pc0xlZnRCdG5BY3RpdmUgPSBzY3JvbGxMZWZ0ID4gMjA7XG4gICAgdGhpcy5pc1JpZ2h0QnRuQWN0aXZlID0gc2Nyb2xsV2lkdGggLSBvZmZzZXRXaWR0aCAtIHNjcm9sbExlZnQgPiAyMDtcbiAgfVxuXG4gIHByaXZhdGUgb3ZlcmZsb3dDaGVja2VyKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy50YWJFbGVtZW50cz8ubGVuZ3RoKSByZXR1cm47XG4gICAgbGV0IHRhYnNXaWR0aCA9IDA7XG4gICAgY29uc3QgdGFiQ29udGFpbmVyRWxlbWVudCA9IHRoaXMudGFic0NvbnRhaW5lci5uYXRpdmVFbGVtZW50O1xuICAgIHRoaXMudGFiRWxlbWVudHMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIHRhYnNXaWR0aCArPSBpdGVtPy5lbC5uYXRpdmVFbGVtZW50LmNsaWVudFdpZHRoO1xuICAgIH0pO1xuXG4gICAgaWYgKHRhYnNXaWR0aCA+IHRhYkNvbnRhaW5lckVsZW1lbnQuY2xpZW50V2lkdGgpIHtcbiAgICAgIGNvbnN0IHNjcm9sbExlZnQgPSB0YWJDb250YWluZXJFbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgICBpZiAoc2Nyb2xsTGVmdCA9PT0gMCkge1xuICAgICAgICB0aGlzLmlzUmlnaHRCdG5BY3RpdmUgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVDb250cm9sc1N0YXRlKHNjcm9sbExlZnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmlzUmlnaHRCdG5BY3RpdmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuaXNMZWZ0QnRuQWN0aXZlID0gZmFsc2U7XG4gICAgICB0aGlzLm9wZW5MZWZ0ID0gZmFsc2U7XG4gICAgICB0aGlzLm9wZW5SaWdodCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuY2RSZWYubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICBwcml2YXRlIGZvY3VzVGFiQnlJZHgoaWR4OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMudGFiRWxlbWVudHM/Lmxlbmd0aCkgcmV0dXJuO1xuICAgIGNvbnN0IHNlbGVjdGVkVGFiRWxlbWVudCA9IHRoaXMudGFiRWxlbWVudHMuZmluZCgoaXRlbSwgaW5kZXgpID0+IGluZGV4ID09PSBpZHgpPy5lbC5uYXRpdmVFbGVtZW50O1xuICAgIGlmICghc2VsZWN0ZWRUYWJFbGVtZW50KSByZXR1cm47XG4gICAgdGhpcy50YWJzQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQuc2Nyb2xsTGVmdCA9XG4gICAgICBzZWxlY3RlZFRhYkVsZW1lbnQub2Zmc2V0TGVmdCAtXG4gICAgICB0aGlzLnRhYnNDb250YWluZXIubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aCAvIDIgK1xuICAgICAgc2VsZWN0ZWRUYWJFbGVtZW50Lm9mZnNldFdpZHRoIC8gMjtcbiAgICB0aGlzLm11dGF0aW9uRGV0ZWN0b3IkLm5leHQoKTtcbiAgfVxuXG4gIHB1YmxpYyByZUNhbGN1bGF0ZVBvc2l0aW9ucygpOiB2b2lkIHtcbiAgICAodGhpcy50YWJzRHJvcGRvd24gPz8gdGhpcy50YWJzTW9yZURyb3Bkb3duKT8ucmVDYWxjdWxhdGVQb3NpdGlvbnMoKTtcbiAgfVxuXG4gIHB1YmxpYyBjbG9zZVRhYihpZHg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMudGFic1NlcnZpY2UuZ2V0VGFiQnlJZHgoaWR4KT8uY2xvc2VUYWIuZW1pdCgpO1xuICAgIHRoaXMucmVDYWxjdWxhdGVQb3NpdGlvbnMoKTtcbiAgfVxuXG4gIHB1YmxpYyBjbGlja1RhYihpbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5vcGVuTGVmdCA9IHRoaXMub3BlblJpZ2h0ID0gZmFsc2U7XG4gICAgdGhpcy50YWJDbGlja0hhbmRsZXIoaW5kZXgpO1xuICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XG4gIDxkaXYgY2xhc3M9XCJjb250cm9sXCIgW2NsYXNzLmNvbnRyb2xfYWN0aXZlXT1cImlzTGVmdEJ0bkFjdGl2ZVwiPlxuICAgIDxidXR0b25cbiAgICAgIFtpY29uXT1cIidhcnJvd3MtY2hldnJvbi1sZWZ0J1wiXG4gICAgICAoY2xpY2spPVwiZGVjcmVhc2UoKVwiXG4gICAgICBwcml6bUljb25CdXR0b25cbiAgICAgIGFwcGVhcmFuY2VUeXBlPVwiZ2hvc3RcIlxuICAgICAgYXBwZWFyYW5jZT1cInNlY29uZGFyeVwiXG4gICAgICBzaXplPVwibVwiXG4gICAgPjwvYnV0dG9uPlxuICAgIDxwcml6bS1kcm9wZG93bi1ob3N0XG4gICAgICBjbGFzcz1cImRyb3Bkb3duLWhvc3RcIlxuICAgICAgI2Ryb3Bkb3duTW9yZT1cInByaXptLWRyb3Bkb3duLWhvc3RcIlxuICAgICAgKm5nSWY9XCJjYW5TaG93TWVudSAmJiAhaXNSaWdodEJ0bkFjdGl2ZVwiXG4gICAgICBbKGlzT3BlbildPVwib3BlbkxlZnRcIlxuICAgICAgW2NvbnRlbnRdPVwiZHJvcGRvd25cIlxuICAgICAgKHByaXptQWZ0ZXJWaWV3SW5pdCk9XCJ0YWJzTW9yZURyb3Bkb3duID0gZHJvcGRvd25Nb3JlXCJcbiAgICAgIHByaXptRHJvcGRvd25Ib3N0V2lkdGg9XCJhdXRvXCJcbiAgICA+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIFtpY29uXT1cIidzZXR0aW5ncy1tb3JlLXZlcnQnXCJcbiAgICAgICAgKGNsaWNrKT1cIm9wZW5MZWZ0ID0gIW9wZW5MZWZ0XCJcbiAgICAgICAgcHJpem1JY29uQnV0dG9uXG4gICAgICAgIGFwcGVhcmFuY2VUeXBlPVwiZ2hvc3RcIlxuICAgICAgICBhcHBlYXJhbmNlPVwic2Vjb25kYXJ5XCJcbiAgICAgICAgc2l6ZT1cIm1cIlxuICAgICAgPjwvYnV0dG9uPlxuICAgIDwvcHJpem0tZHJvcGRvd24taG9zdD5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cInRhYnNcIiAjdGFic0NvbnRhaW5lcj5cbiAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG4gIDwvZGl2PlxuXG4gIDxkaXYgY2xhc3M9XCJjb250cm9sXCIgKm5nSWY9XCJjYW5TaG93TWVudVwiIFtjbGFzcy5jb250cm9sX2FjdGl2ZV09XCJpc1JpZ2h0QnRuQWN0aXZlXCI+XG4gICAgPHByaXptLWRyb3Bkb3duLWhvc3RcbiAgICAgIGNsYXNzPVwiZHJvcGRvd24taG9zdFwiXG4gICAgICAjdGFic0Ryb3Bkb3duXG4gICAgICBbKGlzT3BlbildPVwib3BlblJpZ2h0XCJcbiAgICAgIFtjb250ZW50XT1cImRyb3Bkb3duXCJcbiAgICAgIChwcml6bUFmdGVyVmlld0luaXQpPVwidGFic01vcmVEcm9wZG93biA9IHRhYnNEcm9wZG93blwiXG4gICAgICBwcml6bURyb3Bkb3duSG9zdFdpZHRoPVwiYXV0b1wiXG4gICAgPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBbaWNvbl09XCInc2V0dGluZ3MtbW9yZS12ZXJ0J1wiXG4gICAgICAgIChjbGljayk9XCJvcGVuUmlnaHQgPSAhb3BlblJpZ2h0XCJcbiAgICAgICAgcHJpem1JY29uQnV0dG9uXG4gICAgICAgIGFwcGVhcmFuY2VUeXBlPVwiZ2hvc3RcIlxuICAgICAgICBhcHBlYXJhbmNlPVwic2Vjb25kYXJ5XCJcbiAgICAgICAgc2l6ZT1cIm1cIlxuICAgICAgPjwvYnV0dG9uPlxuICAgIDwvcHJpem0tZHJvcGRvd24taG9zdD5cbiAgICA8YnV0dG9uXG4gICAgICBbaWNvbl09XCInYXJyb3dzLWNoZXZyb24tcmlnaHQnXCJcbiAgICAgIChjbGljayk9XCJpbmNyZWFzZSgpXCJcbiAgICAgIHByaXptSWNvbkJ1dHRvblxuICAgICAgYXBwZWFyYW5jZVR5cGU9XCJnaG9zdFwiXG4gICAgICBhcHBlYXJhbmNlPVwic2Vjb25kYXJ5XCJcbiAgICAgIHNpemU9XCJtXCJcbiAgICA+PC9idXR0b24+XG4gIDwvZGl2PlxuXG4gIDxuZy10ZW1wbGF0ZSAjZHJvcGRvd24+XG4gICAgPHByaXptLWRhdGEtbGlzdD5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0YWJzLWNvbHVtbiBwcml6bS10YWItbWVudS1jb250YWluZXJcIiAqcHJpem1MZXQ9XCJ0YWJFbGVtZW50cyB8IHByaXptSWNvblRhYnMgYXMgaGFzSWNvbnNcIj5cbiAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgdGFiRWxlbWVudCBvZiB0YWJFbGVtZW50czsgbGV0IGkgPSBpbmRleFwiPlxuICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJ0YWJFbGVtZW50IGFzIHRhYlwiPlxuICAgICAgICAgICAgPHByaXptLWxpc3RpbmctaXRlbVxuICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwiJGFueSh0YWIuZGlzYWJsZWQpXCJcbiAgICAgICAgICAgICAgW3NlbGVjdGVkXT1cImFjdGl2ZVRhYkluZGV4ID09PSBpXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cImNsaWNrVGFiKGkpXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInRhYi5pY29uIHx8IGhhc0ljb25zXCIgbGVmdEJveD5cbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwidGFiLmljb24gYXMgaWNvbjsgZWxzZSBwbGFjZWhvbGRlclwiPlxuICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqcG9seW1vcnBoT3V0bGV0PVwiaWNvbjsgY29udGV4dDogJGFueSh7IGlkeDogaSwgdGFiOiB0YWIgfSlcIj5cbiAgICAgICAgICAgICAgICAgICAgPHByaXptLWljb24gY2xhc3M9XCJpY29uIGljb25fX21hcmtcIiBbc2l6ZV09XCIxNlwiIFtpY29uQ2xhc3NdPVwiJGFueShpY29uKVwiPiA8L3ByaXptLWljb24+XG4gICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgI3BsYWNlaG9sZGVyPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImljb24tcGxhY2Vob2xkZXJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cblxuICAgICAgICAgICAgICA8bmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGFiLWNvbnRlbnRcIlxuICAgICAgICAgICAgICAgICAgI2VsZW1cbiAgICAgICAgICAgICAgICAgIFtwcml6bUhpbnRdPVwidGFiLmNvbnRlbnRcIlxuICAgICAgICAgICAgICAgICAgW3ByaXptSGludENhblNob3ddPVwiJGFueShlbGVtIHwgcHJpem1DYWxsRnVuYyA6IHByaXptSXNUZXh0T3ZlcmZsb3ckIHwgYXN5bmMpXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7eyB0YWIuY29udGVudCB9fVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cblxuICAgICAgICAgICAgICA8bmctY29udGFpbmVyIHJpZ2h0Qm94PlxuICAgICAgICAgICAgICAgIDxwcml6bS1jb3VudGVyXG4gICAgICAgICAgICAgICAgICAqbmdJZj1cInRhYi5jb3VudFwiXG4gICAgICAgICAgICAgICAgICBbdmFsdWVdPVwidGFiLmNvdW50XCJcbiAgICAgICAgICAgICAgICAgIFtzdGF0dXNdPVwidGFiLl9jb3VudGVyT3B0aW9ucy5zdGF0dXNcIlxuICAgICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cInRhYi5fY291bnRlck9wdGlvbnMuZGlzYWJsZWRcIlxuICAgICAgICAgICAgICAgICAgW21heFZhbHVlXT1cInRhYi5fY291bnRlck9wdGlvbnMubWF4VmFsdWVcIlxuICAgICAgICAgICAgICAgID48L3ByaXptLWNvdW50ZXI+XG4gICAgICAgICAgICAgICAgPHByaXptLWljb25cbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwiaWNvblwiXG4gICAgICAgICAgICAgICAgICBbY2xhc3MuaGlkZGVuXT1cIiF0YWIuY2xvc2FibGVcIlxuICAgICAgICAgICAgICAgICAgW2ljb25DbGFzc109XCInY2FuY2VsLWNsb3NlJ1wiXG4gICAgICAgICAgICAgICAgICBbc2l6ZV09XCIxNlwiXG4gICAgICAgICAgICAgICAgICAoY2xpY2spPVwiY2xvc2VUYWIoJGFueSh0YWJFbGVtZW50LmlkeCkpXCJcbiAgICAgICAgICAgICAgICA+PC9wcml6bS1pY29uPlxuICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgIDwvcHJpem0tbGlzdGluZy1pdGVtPlxuICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgIDwvZGl2PlxuICAgIDwvcHJpem0tZGF0YS1saXN0PlxuICA8L25nLXRlbXBsYXRlPlxuPC9kaXY+XG4iXX0=