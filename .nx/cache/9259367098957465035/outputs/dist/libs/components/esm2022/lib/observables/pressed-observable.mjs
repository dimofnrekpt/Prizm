import { filter, mapTo, startWith, switchMapTo, take } from 'rxjs/operators';
import { PrizmOwnerDocumentException } from '../exceptions/owner-document.exception';
import { prizmMouseDragFinishFrom } from './mouse-drag-finish-from';
import { prizmTypedFromEvent } from './typed-from-event';
export function prizmPressedObservable(element, { onlyTrusted } = { onlyTrusted: true }) {
    const { ownerDocument } = element;
    if (!ownerDocument) {
        throw new PrizmOwnerDocumentException();
    }
    return prizmTypedFromEvent(element, 'mousedown').pipe(filter(({ isTrusted }) => isTrusted || !onlyTrusted), switchMapTo(prizmMouseDragFinishFrom(ownerDocument).pipe(mapTo(false), take(1), startWith(true))));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlc3NlZC1vYnNlcnZhYmxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9jb21wb25lbnRzL3NyYy9saWIvb2JzZXJ2YWJsZXMvcHJlc3NlZC1vYnNlcnZhYmxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDN0UsT0FBTyxFQUFFLDJCQUEyQixFQUFFLE1BQU0sd0NBQXdDLENBQUM7QUFFckYsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDcEUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFNekQsTUFBTSxVQUFVLHNCQUFzQixDQUNwQyxPQUFnQixFQUNoQixFQUFFLFdBQVcsS0FBb0MsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFO0lBRXRFLE1BQU0sRUFBRSxhQUFhLEVBQUUsR0FBRyxPQUFPLENBQUM7SUFFbEMsSUFBSSxDQUFDLGFBQWEsRUFBRTtRQUNsQixNQUFNLElBQUksMkJBQTJCLEVBQUUsQ0FBQztLQUN6QztJQUVELE9BQU8sbUJBQW1CLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FDbkQsTUFBTSxDQUFDLENBQUMsRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsU0FBUyxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQ3BELFdBQVcsQ0FBQyx3QkFBd0IsQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUNsRyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGZpbHRlciwgbWFwVG8sIHN0YXJ0V2l0aCwgc3dpdGNoTWFwVG8sIHRha2UgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBQcml6bU93bmVyRG9jdW1lbnRFeGNlcHRpb24gfSBmcm9tICcuLi9leGNlcHRpb25zL293bmVyLWRvY3VtZW50LmV4Y2VwdGlvbic7XG5cbmltcG9ydCB7IHByaXptTW91c2VEcmFnRmluaXNoRnJvbSB9IGZyb20gJy4vbW91c2UtZHJhZy1maW5pc2gtZnJvbSc7XG5pbXBvcnQgeyBwcml6bVR5cGVkRnJvbUV2ZW50IH0gZnJvbSAnLi90eXBlZC1mcm9tLWV2ZW50JztcblxuZXhwb3J0IGludGVyZmFjZSBQcml6bVByZXNzZWRPYnNlcnZhYmxlT3B0aW9ucyB7XG4gIG9ubHlUcnVzdGVkOiBib29sZWFuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJpem1QcmVzc2VkT2JzZXJ2YWJsZShcbiAgZWxlbWVudDogRWxlbWVudCxcbiAgeyBvbmx5VHJ1c3RlZCB9OiBQcml6bVByZXNzZWRPYnNlcnZhYmxlT3B0aW9ucyA9IHsgb25seVRydXN0ZWQ6IHRydWUgfVxuKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gIGNvbnN0IHsgb3duZXJEb2N1bWVudCB9ID0gZWxlbWVudDtcblxuICBpZiAoIW93bmVyRG9jdW1lbnQpIHtcbiAgICB0aHJvdyBuZXcgUHJpem1Pd25lckRvY3VtZW50RXhjZXB0aW9uKCk7XG4gIH1cblxuICByZXR1cm4gcHJpem1UeXBlZEZyb21FdmVudChlbGVtZW50LCAnbW91c2Vkb3duJykucGlwZShcbiAgICBmaWx0ZXIoKHsgaXNUcnVzdGVkIH0pID0+IGlzVHJ1c3RlZCB8fCAhb25seVRydXN0ZWQpLFxuICAgIHN3aXRjaE1hcFRvKHByaXptTW91c2VEcmFnRmluaXNoRnJvbShvd25lckRvY3VtZW50KS5waXBlKG1hcFRvKGZhbHNlKSwgdGFrZSgxKSwgc3RhcnRXaXRoKHRydWUpKSlcbiAgKTtcbn1cbiJdfQ==