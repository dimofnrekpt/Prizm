import { __decorate, __metadata } from "tslib";
import { ChangeDetectionStrategy, Component, EventEmitter, HostBinding, Inject, Input, Output, } from '@angular/core';
import { PrizmAbstractTestId, prizmDefaultProp, prizmPure } from '@prizm-ui/core';
import { Observable } from 'rxjs';
import { PrizmDay } from '../../@core/date-time/day';
import { PRIZM_FIRST_DAY, PRIZM_LAST_DAY } from '../../@core/date-time/days.const';
import { PrizmMonth } from '../../@core/date-time/month';
import { PrizmMonthRange } from '../../@core/date-time/month-range';
import { PrizmYear } from '../../@core/date-time/year';
import { PRIZM_ALWAYS_FALSE_HANDLER } from '../../constants/always-false-handler';
import { PrizmInteractiveState } from '../../directives/wrapper/wrapper.component';
import { PRIZM_CALENDAR_MONTHS } from '../../tokens/i18n';
import { prizmNullableSame } from '../../util/common/nullable-same';
import { prizmI18nInitWithKey } from '../../services';
import { CommonModule } from '@angular/common';
import { PrizmFocusableModule, PrizmHoveredDirective, PrizmPressedModule, PrizmStopPropagationModule, } from '../../directives';
import { PrizmPrimitiveSpinButtonModule, PrizmPrimitiveYearPickerComponent } from '../internal';
import { PrizmScrollbarComponent } from '../scrollbar';
import { PrizmLetDirective } from '@prizm-ui/helpers';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "../../directives/stop-propagation/stop-propagation.directive";
import * as i3 from "../internal/primitive-spin-button/primitive-spin-button.component";
import * as i4 from "../../directives/pressed/pressed.directive";
import * as i5 from "../../directives/focusable/focusable.directive";
import * as i6 from "rxjs";
const TODAY = PrizmDay.currentLocal();
export class PrizmCalendarMonthComponent extends PrizmAbstractTestId {
    constructor(months$) {
        super();
        this.months$ = months$;
        this.value = null;
        this.year = TODAY;
        this.disabledItemHandler = PRIZM_ALWAYS_FALSE_HANDLER;
        this.min = PRIZM_FIRST_DAY;
        this.max = PRIZM_LAST_DAY;
        this.monthClick = new EventEmitter();
        this.hoveredItemChange = new EventEmitter();
        this.yearChange = new EventEmitter();
        this.isYearPickerShown = false;
        this.hoveredItem = null;
        this.pressedItem = null;
        this.testId_ = 'ui_calendar_month';
    }
    get isSingle() {
        return this.value !== null && (this.value instanceof PrizmMonth || this.value.isSingleMonth);
    }
    get previousYearDisabled() {
        return this.year.yearSameOrBefore(this.min);
    }
    get nextYearDisabled() {
        return this.year.yearSameOrAfter(this.max);
    }
    getItemState(item) {
        const { disabledItemHandlerWithMinMax, pressedItem, hoveredItem } = this;
        if (disabledItemHandlerWithMinMax(item)) {
            return PrizmInteractiveState.Disabled;
        }
        // if (pressedItem?.monthSame(item)) {
        //     return PrizmInteractiveState.Active;
        // }
        //
        // if (hoveredItem?.monthSame(item)) {
        //     return PrizmInteractiveState.Hover;
        // }
        return null;
    }
    getItemRange(item) {
        const { value, hoveredItem } = this;
        if (value === null) {
            return null;
        }
        if (value instanceof PrizmMonth) {
            return value.monthSame(item) ? "single" /* PrizmRangeState.Single */ : null;
        }
        const theFirstOfRange = value.from.monthSame(item) && !value.isSingleMonth;
        const hoveredItemAfterFrom = hoveredItem?.monthAfter(value.from) && value.from.monthSame(item) && value.isSingleMonth;
        const hoveredItemIsCandidateToBeFrom = hoveredItem?.monthSame(item) && hoveredItem?.monthBefore(value.from) && value.isSingleMonth;
        if (theFirstOfRange || hoveredItemAfterFrom || hoveredItemIsCandidateToBeFrom) {
            return "start" /* PrizmRangeState.Start */;
        }
        const theLastOfRange = value.to.monthSame(item) && !value.isSingleMonth;
        const hoveredItemBeforeTo = value.to.monthSame(item) && hoveredItem?.monthBefore(value.to) && value.isSingleMonth;
        const hoveredItemIsCandidateToBeTo = hoveredItem?.monthSame(item) && hoveredItem?.monthAfter(value.from) && value.isSingleMonth;
        if (theLastOfRange || hoveredItemBeforeTo || hoveredItemIsCandidateToBeTo) {
            return "end" /* PrizmRangeState.End */;
        }
        return value.isSingleMonth && value.from.monthSame(item) ? "single" /* PrizmRangeState.Single */ : null;
    }
    getPrizmMonth(monthNumber, yearNumber) {
        return new PrizmMonth(yearNumber, monthNumber);
    }
    isItemToday(item) {
        return TODAY.monthSame(item);
    }
    isItemInsideRange(month) {
        const { value, hoveredItem } = this;
        if (value === null || value instanceof PrizmMonth) {
            return false;
        }
        if (!value.isSingleMonth) {
            return value.from.monthSameOrBefore(month) && value.to.monthAfter(month);
        }
        if (hoveredItem === null) {
            return false;
        }
        const range = PrizmMonthRange.sort(value.from, hoveredItem);
        return range.from.monthSameOrBefore(month) && range.to.monthAfter(month);
    }
    onPickerYearClick(year) {
        this.isYearPickerShown = false;
        if (this.year.yearSame(year)) {
            return;
        }
        this.updateActiveYear(year);
    }
    onItemClick(month) {
        if (this.disabledItemHandlerWithMinMax(month)) {
            return;
        }
        this.monthClick.emit(month);
    }
    onYearClick() {
        this.isYearPickerShown = true;
    }
    onNextYear() {
        this.updateActiveYear(this.year.append({ year: 1 }));
    }
    onPreviousYear() {
        this.updateActiveYear(this.year.append({ year: -1 }));
    }
    onItemHovered(hovered, item) {
        this.updateHoveredItem(hovered ? item : null);
    }
    onItemPressed(pressed, item) {
        this.updatePressedItem(pressed ? item : null);
    }
    calculateDisabledItemHandlerWithMinMax(disabledItemHandler, value, min, max) {
        return (item) => item.monthBefore(min) || item.monthAfter(max) || disabledItemHandler(item, { value });
    }
    get disabledItemHandlerWithMinMax() {
        return this.calculateDisabledItemHandlerWithMinMax(this.disabledItemHandler, this.value, this.min, this.max);
    }
    updateHoveredItem(month) {
        if (prizmNullableSame(this.hoveredItem, month, (a, b) => a.monthSame(b))) {
            return;
        }
        this.hoveredItem = month;
        this.hoveredItemChange.emit(month);
    }
    updatePressedItem(item) {
        this.pressedItem = item;
    }
    updateActiveYear(year) {
        this.year = year;
        this.yearChange.emit(year);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.8", ngImport: i0, type: PrizmCalendarMonthComponent, deps: [{ token: PRIZM_CALENDAR_MONTHS }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.8", type: PrizmCalendarMonthComponent, isStandalone: true, selector: "prizm-calendar-month", inputs: { value: "value", year: "year", disabledItemHandler: "disabledItemHandler", min: "min", max: "max" }, outputs: { monthClick: "monthClick", yearChange: "yearChange" }, host: { properties: { "class._single": "this.isSingle" } }, providers: [...prizmI18nInitWithKey(PRIZM_CALENDAR_MONTHS, 'shortCalendarMonths')], usesInheritance: true, ngImport: i0, template: "<prizm-scrollbar class=\"z-scrollbar\" *ngIf=\"isYearPickerShown; else monthSelect\">\n  <prizm-primitive-year-picker\n    [min]=\"min\"\n    [max]=\"max\"\n    [initialItem]=\"year\"\n    [value]=\"value\"\n    (yearClick)=\"onPickerYearClick($event)\"\n  ></prizm-primitive-year-picker>\n</prizm-scrollbar>\n<ng-template #monthSelect>\n  <prizm-primitive-spin-button\n    [focusable]=\"false\"\n    [leftDisabled]=\"previousYearDisabled\"\n    [rightDisabled]=\"nextYearDisabled\"\n    (leftClick)=\"onPreviousYear()\"\n    (rightClick)=\"onNextYear()\"\n    prizmStopPropagation=\"mousedown\"\n  >\n    <button\n      class=\"year-btn\"\n      [prizmFocusable]=\"false\"\n      (click)=\"onYearClick()\"\n      automation-id=\"prizm-calendar-month__active-year\"\n    >\n      {{ year.formattedYear }}\n    </button>\n  </prizm-primitive-spin-button>\n  <div class=\"z-row\">\n    <ng-container *ngFor=\"let month of months$ | async; let index = index\">\n      <div\n        class=\"z-cell\"\n        *prizmLet=\"getPrizmMonth(index, year.year) as item\"\n        [class.z-cell_today]=\"isItemToday(item)\"\n        [class.z-cell_interval]=\"isItemInsideRange(item)\"\n        [attr.data-range]=\"getItemRange(item)\"\n        [attr.data-state]=\"getItemState(item)\"\n        (prizmHoveredChange)=\"onItemHovered($event, item)\"\n        (prizmPressedChange)=\"onItemHovered($event, item)\"\n        (click)=\"onItemClick(item)\"\n      >\n        <div class=\"z-item\">{{ month }}</div>\n      </div>\n    </ng-container>\n  </div>\n</ng-template>\n", styles: [":host{display:block;font:var(--prizm-font-text-m)}.z-row{position:relative;z-index:0;display:flex;justify-content:space-between;height:2.25rem}.z-item{position:relative;flex:1;line-height:2rem;border-radius:2px;color:var(--prizm-v3-text-icon-secondary);font-weight:600}.z-item:before,.z-item:after{content:\"\";position:absolute;inset:0;z-index:-1;border-radius:2px}.z-cell{position:relative;display:flex;align-items:center;justify-content:center;width:3.6875rem;text-align:center;outline:none;cursor:pointer;background-clip:content-box;box-sizing:border-box;border:2px solid transparent}.z-cell_today{border-radius:2px}.z-cell_today[data-state=hovered]>.z-item{border-color:var(--prizm-v3-button-primary-solid-hover);color:var(--prizm-v3-button-primary-solid-hover);background-color:var(--prizm-v3-button-ghost-hover)}.z-cell_today .z-item{border:1px solid var(--prizm-v3-button-primary-solid-default);color:var(--prizm-v3-button-primary-solid-default)}.z-cell_today .z-item_unavailable{color:var(--prizm-v3-text-icon-disable)}.z-cell:before{content:\"\";position:absolute;inset:0;z-index:-1;border-radius:2px}.z-cell_interval:before{background:var(--prizm-v3-button-primary-ghost-active)}:host._single .z-cell_interval:before{background-color:var(--prizm-v3-button-primary-ghost-active)}.z-cell_interval:not(:last-child):before{right:-3.6875rem}.z-cell_interval:last-child:first-child:before{right:0}.z-cell_interval:first-child>.z-item{border-top-left-radius:2px;border-bottom-left-radius:2px}.z-cell_interval:last-child>.z-item{border-top-right-radius:2px;border-bottom-right-radius:2px}.z-cell_interval>.z-item{border-radius:0;color:var(--prizm-v3-button-primary-solid-default)}.z-cell[data-range]:not([data-state=\"hovered\"])>.z-item{color:var(--prizm-v3-text-icon-exception)}.z-cell[data-range]:not([data-state=\"hovered\"])>.z-item:before,.z-cell[data-range]:not([data-state=\"hovered\"])>.z-item:after{background-color:var(--prizm-v3-button-primary-solid-default)}.z-cell[data-range][data-state=hovered]>.z-item{background-color:var(--prizm-v3-button-ghost-hover);color:var(--prizm-v3-button-primary-solid-hover)}.z-cell[data-range][data-state=hovered]>.z-item:before,.z-cell[data-range][data-state=hovered]>.z-item:after{background-color:var(--prizm-v3-button-ghost-hover);color:var(--prizm-v3-button-primary-solid-hover)}.z-cell[data-range][data-state=pressed]>.z-item:before,.z-cell[data-range][data-state=pressed]>.z-item:after{background-color:var(--prizm-v3-button-primary-solid-default)}.z-cell[data-state=disabled]{pointer-events:none;cursor:not-allowed}.z-cell[data-state=disabled]>.z-item{text-decoration:line-through;opacity:.3}.z-cell[data-state=hovered]:not([data-range]):not(.z-cell_today)>.z-item{background-color:var(--prizm-v3-button-ghost-hover);color:var(--prizm-v3-button-primary-solid-hover)}.z-cell[data-state=pressed]:hover:not([data-range])>.z-item{background-color:var(--prizm-v3-button-primary-solid-default);border-radius:2px;color:var(--prizm-v3-text-icon-exception)}:host{display:block;height:13.625rem;width:15.75rem;padding:1.125rem;box-sizing:content-box}:host .year-btn{border:none;background:none;outline:none;display:flex;gap:4px;padding:8px;text-align:left;cursor:pointer;font-family:Inter;font-size:14px;font-weight:400;color:var(--prizm-v3-text-icon-secondary)}:host .year-btn:hover:not(.active):not(:active){background-color:var(--prizm-v3-button-ghost-hover);border-radius:2px}:host .year-btn:active,:host .year-btn.active{color:var(--prizm-v3-button-primary-solid-active)}.z-row{flex-wrap:wrap;margin-top:1.4375rem}.z-cell{box-sizing:content-box}.z-cell:nth-child(n + 5){margin-top:1.75rem}.z-cell:not([data-range=\"start\"]):not([data-range=\"single\"]):not([data-range=\"end\"]):hover{background-color:var(--prizm-v3-button-ghost-hover)}.z-cell:not([data-range=\"start\"]):not([data-range=\"single\"]):not([data-range=\"end\"]):hover .z-item{color:var(--prizm-v3-button-primary-solid-hover)!important}.z-cell_interval:nth-child(4n):before{right:0}.z-scrollbar{height:inherit;width:inherit}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "pipe", type: i1.AsyncPipe, name: "async" }, { kind: "ngmodule", type: PrizmStopPropagationModule }, { kind: "directive", type: i2.PrizmStopPropagationDirective, selector: "[prizmStopPropagation]" }, { kind: "component", type: PrizmPrimitiveYearPickerComponent, selector: "prizm-primitive-year-picker", inputs: ["value", "initialItem", "min", "max", "disabledItemHandler"], outputs: ["yearClick"] }, { kind: "ngmodule", type: PrizmPrimitiveSpinButtonModule }, { kind: "component", type: i3.PrizmPrimitiveSpinButtonComponent, selector: "prizm-primitive-spin-button", inputs: ["disabled", "mode", "leftDisabled", "rightDisabled"], outputs: ["leftClick", "rightClick"] }, { kind: "component", type: PrizmScrollbarComponent, selector: "prizm-scrollbar", inputs: ["visibility"] }, { kind: "directive", type: PrizmLetDirective, selector: "[prizmLet]", inputs: ["prizmLet"], exportAs: ["prizmLet"] }, { kind: "directive", type: PrizmHoveredDirective, selector: "[prizmHoveredChange]", outputs: ["prizmHoveredChange"] }, { kind: "ngmodule", type: PrizmPressedModule }, { kind: "directive", type: i4.PrizmPressedDirective, selector: "[prizmPressedChange]", outputs: ["prizmPressedChange"] }, { kind: "ngmodule", type: PrizmFocusableModule }, { kind: "directive", type: i5.PrizmFocusableDirective, selector: "[prizmFocusable]", inputs: ["prizmFocusable"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Object)
], PrizmCalendarMonthComponent.prototype, "value", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", PrizmYear)
], PrizmCalendarMonthComponent.prototype, "year", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Function)
], PrizmCalendarMonthComponent.prototype, "disabledItemHandler", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", PrizmMonth)
], PrizmCalendarMonthComponent.prototype, "min", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", PrizmMonth)
], PrizmCalendarMonthComponent.prototype, "max", void 0);
__decorate([
    prizmPure,
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Function, Object, PrizmMonth,
        PrizmMonth]),
    __metadata("design:returntype", Function)
], PrizmCalendarMonthComponent.prototype, "calculateDisabledItemHandlerWithMinMax", null);
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.8", ngImport: i0, type: PrizmCalendarMonthComponent, decorators: [{
            type: Component,
            args: [{ selector: `prizm-calendar-month`, standalone: true, imports: [
                        CommonModule,
                        PrizmStopPropagationModule,
                        PrizmPrimitiveYearPickerComponent,
                        PrizmPrimitiveSpinButtonModule,
                        PrizmScrollbarComponent,
                        PrizmLetDirective,
                        PrizmHoveredDirective,
                        PrizmPressedModule,
                        PrizmFocusableModule,
                    ], changeDetection: ChangeDetectionStrategy.OnPush, providers: [...prizmI18nInitWithKey(PRIZM_CALENDAR_MONTHS, 'shortCalendarMonths')], template: "<prizm-scrollbar class=\"z-scrollbar\" *ngIf=\"isYearPickerShown; else monthSelect\">\n  <prizm-primitive-year-picker\n    [min]=\"min\"\n    [max]=\"max\"\n    [initialItem]=\"year\"\n    [value]=\"value\"\n    (yearClick)=\"onPickerYearClick($event)\"\n  ></prizm-primitive-year-picker>\n</prizm-scrollbar>\n<ng-template #monthSelect>\n  <prizm-primitive-spin-button\n    [focusable]=\"false\"\n    [leftDisabled]=\"previousYearDisabled\"\n    [rightDisabled]=\"nextYearDisabled\"\n    (leftClick)=\"onPreviousYear()\"\n    (rightClick)=\"onNextYear()\"\n    prizmStopPropagation=\"mousedown\"\n  >\n    <button\n      class=\"year-btn\"\n      [prizmFocusable]=\"false\"\n      (click)=\"onYearClick()\"\n      automation-id=\"prizm-calendar-month__active-year\"\n    >\n      {{ year.formattedYear }}\n    </button>\n  </prizm-primitive-spin-button>\n  <div class=\"z-row\">\n    <ng-container *ngFor=\"let month of months$ | async; let index = index\">\n      <div\n        class=\"z-cell\"\n        *prizmLet=\"getPrizmMonth(index, year.year) as item\"\n        [class.z-cell_today]=\"isItemToday(item)\"\n        [class.z-cell_interval]=\"isItemInsideRange(item)\"\n        [attr.data-range]=\"getItemRange(item)\"\n        [attr.data-state]=\"getItemState(item)\"\n        (prizmHoveredChange)=\"onItemHovered($event, item)\"\n        (prizmPressedChange)=\"onItemHovered($event, item)\"\n        (click)=\"onItemClick(item)\"\n      >\n        <div class=\"z-item\">{{ month }}</div>\n      </div>\n    </ng-container>\n  </div>\n</ng-template>\n", styles: [":host{display:block;font:var(--prizm-font-text-m)}.z-row{position:relative;z-index:0;display:flex;justify-content:space-between;height:2.25rem}.z-item{position:relative;flex:1;line-height:2rem;border-radius:2px;color:var(--prizm-v3-text-icon-secondary);font-weight:600}.z-item:before,.z-item:after{content:\"\";position:absolute;inset:0;z-index:-1;border-radius:2px}.z-cell{position:relative;display:flex;align-items:center;justify-content:center;width:3.6875rem;text-align:center;outline:none;cursor:pointer;background-clip:content-box;box-sizing:border-box;border:2px solid transparent}.z-cell_today{border-radius:2px}.z-cell_today[data-state=hovered]>.z-item{border-color:var(--prizm-v3-button-primary-solid-hover);color:var(--prizm-v3-button-primary-solid-hover);background-color:var(--prizm-v3-button-ghost-hover)}.z-cell_today .z-item{border:1px solid var(--prizm-v3-button-primary-solid-default);color:var(--prizm-v3-button-primary-solid-default)}.z-cell_today .z-item_unavailable{color:var(--prizm-v3-text-icon-disable)}.z-cell:before{content:\"\";position:absolute;inset:0;z-index:-1;border-radius:2px}.z-cell_interval:before{background:var(--prizm-v3-button-primary-ghost-active)}:host._single .z-cell_interval:before{background-color:var(--prizm-v3-button-primary-ghost-active)}.z-cell_interval:not(:last-child):before{right:-3.6875rem}.z-cell_interval:last-child:first-child:before{right:0}.z-cell_interval:first-child>.z-item{border-top-left-radius:2px;border-bottom-left-radius:2px}.z-cell_interval:last-child>.z-item{border-top-right-radius:2px;border-bottom-right-radius:2px}.z-cell_interval>.z-item{border-radius:0;color:var(--prizm-v3-button-primary-solid-default)}.z-cell[data-range]:not([data-state=\"hovered\"])>.z-item{color:var(--prizm-v3-text-icon-exception)}.z-cell[data-range]:not([data-state=\"hovered\"])>.z-item:before,.z-cell[data-range]:not([data-state=\"hovered\"])>.z-item:after{background-color:var(--prizm-v3-button-primary-solid-default)}.z-cell[data-range][data-state=hovered]>.z-item{background-color:var(--prizm-v3-button-ghost-hover);color:var(--prizm-v3-button-primary-solid-hover)}.z-cell[data-range][data-state=hovered]>.z-item:before,.z-cell[data-range][data-state=hovered]>.z-item:after{background-color:var(--prizm-v3-button-ghost-hover);color:var(--prizm-v3-button-primary-solid-hover)}.z-cell[data-range][data-state=pressed]>.z-item:before,.z-cell[data-range][data-state=pressed]>.z-item:after{background-color:var(--prizm-v3-button-primary-solid-default)}.z-cell[data-state=disabled]{pointer-events:none;cursor:not-allowed}.z-cell[data-state=disabled]>.z-item{text-decoration:line-through;opacity:.3}.z-cell[data-state=hovered]:not([data-range]):not(.z-cell_today)>.z-item{background-color:var(--prizm-v3-button-ghost-hover);color:var(--prizm-v3-button-primary-solid-hover)}.z-cell[data-state=pressed]:hover:not([data-range])>.z-item{background-color:var(--prizm-v3-button-primary-solid-default);border-radius:2px;color:var(--prizm-v3-text-icon-exception)}:host{display:block;height:13.625rem;width:15.75rem;padding:1.125rem;box-sizing:content-box}:host .year-btn{border:none;background:none;outline:none;display:flex;gap:4px;padding:8px;text-align:left;cursor:pointer;font-family:Inter;font-size:14px;font-weight:400;color:var(--prizm-v3-text-icon-secondary)}:host .year-btn:hover:not(.active):not(:active){background-color:var(--prizm-v3-button-ghost-hover);border-radius:2px}:host .year-btn:active,:host .year-btn.active{color:var(--prizm-v3-button-primary-solid-active)}.z-row{flex-wrap:wrap;margin-top:1.4375rem}.z-cell{box-sizing:content-box}.z-cell:nth-child(n + 5){margin-top:1.75rem}.z-cell:not([data-range=\"start\"]):not([data-range=\"single\"]):not([data-range=\"end\"]):hover{background-color:var(--prizm-v3-button-ghost-hover)}.z-cell:not([data-range=\"start\"]):not([data-range=\"single\"]):not([data-range=\"end\"]):hover .z-item{color:var(--prizm-v3-button-primary-solid-hover)!important}.z-cell_interval:nth-child(4n):before{right:0}.z-scrollbar{height:inherit;width:inherit}\n"] }]
        }], ctorParameters: function () { return [{ type: i6.Observable, decorators: [{
                    type: Inject,
                    args: [PRIZM_CALENDAR_MONTHS]
                }] }]; }, propDecorators: { value: [{
                type: Input
            }], year: [{
                type: Input
            }], disabledItemHandler: [{
                type: Input
            }], min: [{
                type: Input
            }], max: [{
                type: Input
            }], monthClick: [{
                type: Output
            }], yearChange: [{
                type: Output
            }], isSingle: [{
                type: HostBinding,
                args: [`class._single`]
            }], calculateDisabledItemHandlerWithMinMax: [] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsZW5kYXItbW9udGguY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9jb21wb25lbnRzL3NyYy9saWIvY29tcG9uZW50cy9jYWxlbmRhci1tb250aC9jYWxlbmRhci1tb250aC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2NvbXBvbmVudHMvc3JjL2xpYi9jb21wb25lbnRzL2NhbGVuZGFyLW1vbnRoL2NhbGVuZGFyLW1vbnRoLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxZQUFZLEVBQ1osV0FBVyxFQUNYLE1BQU0sRUFDTixLQUFLLEVBQ0wsTUFBTSxHQUNQLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxnQkFBZ0IsRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNsRixPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ2xDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUNyRCxPQUFPLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxNQUFNLGtDQUFrQyxDQUFDO0FBQ25GLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUV6RCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFDcEUsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBRXZELE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBQ2xGLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDRDQUE0QyxDQUFDO0FBQ25GLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBSTFELE9BQU8sRUFBRSxpQkFBaUIs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QixFQUFFOzt3RUFFVTtBQUk3QjtJQURDLGdCQUFnQixFQUFFOzhCQUNkLFVBQVU7d0RBQW1CO0FBSWxDO0lBREMsZ0JBQWdCLEVBQUU7OEJBQ2QsVUFBVTt3REFBa0I7QUF3SnpCO0lBRFAsU0FBUzs7dURBSUgsVUFBVTtRQUNWLFVBQVU7O3lGQUloQjsyRkF2TFUsMkJBQTJCO2tCQW5CdkMsU0FBUzsrQkFDRSxzQkFBc0IsY0FHcEIsSUFBSSxXQUNQO3dCQUNQLFlBQVk7d0JBQ1osMEJBQTBCO3dCQUMxQixpQ0FBaUM7d0JBQ2pDLDhCQUE4Qjt3QkFDOUIsdUJBQXVCO3dCQUN2QixpQkFBaUI7d0JBQ2pCLHFCQUFxQjt3QkFDckIsa0JBQWtCO3dCQUNsQixvQkFBb0I7cUJBQ3JCLG1CQUNnQix1QkFBdUIsQ0FBQyxNQUFNLGFBQ3BDLENBQUMsR0FBRyxvQkFBb0IsQ0FBQyxxQkFBcUIsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDOzswQkF5Q3JFLE1BQU07MkJBQUMscUJBQXFCOzRDQWpDekMsS0FBSztzQkFGSixLQUFLO2dCQU1OLElBQUk7c0JBRkgsS0FBSztnQkFNTixtQkFBbUI7c0JBRmxCLEtBQUs7Z0JBT04sR0FBRztzQkFGRixLQUFLO2dCQU1OLEdBQUc7c0JBRkYsS0FBSztnQkFLRyxVQUFVO3NCQURsQixNQUFNO2dCQU1FLFVBQVU7c0JBRGxCLE1BQU07Z0JBY0gsUUFBUTtzQkFEWCxXQUFXO3VCQUFDLGVBQWU7Z0JBb0lwQixzQ0FBc0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ29tcG9uZW50LFxuICBFdmVudEVtaXR0ZXIsXG4gIEhvc3RCaW5kaW5nLFxuICBJbmplY3QsXG4gIElucHV0LFxuICBPdXRwdXQsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUHJpem1BYnN0cmFjdFRlc3RJZCwgcHJpem1EZWZhdWx0UHJvcCwgcHJpem1QdXJlIH0gZnJvbSAnQHByaXptLXVpL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgUHJpem1EYXkgfSBmcm9tICcuLi8uLi9AY29yZS9kYXRlLXRpbWUvZGF5JztcbmltcG9ydCB7IFBSSVpNX0ZJUlNUX0RBWSwgUFJJWk1fTEFTVF9EQVkgfSBmcm9tICcuLi8uLi9AY29yZS9kYXRlLXRpbWUvZGF5cy5jb25zdCc7XG5pbXBvcnQgeyBQcml6bU1vbnRoIH0gZnJvbSAnLi4vLi4vQGNvcmUvZGF0ZS10aW1lL21vbnRoJztcbmltcG9ydCB7IFByaXptTW9udGhDb250ZXh0IH0gZnJvbSAnLi4vLi4vQGNvcmUvZGF0ZS10aW1lL21vbnRoLWNvbnRleHQnO1xuaW1wb3J0IHsgUHJpem1Nb250aFJhbmdlIH0gZnJvbSAnLi4vLi4vQGNvcmUvZGF0ZS10aW1lL21vbnRoLXJhbmdlJztcbmltcG9ydCB7IFByaXptWWVhciB9IGZyb20gJy4uLy4uL0Bjb3JlL2RhdGUtdGltZS95ZWFyJztcbmltcG9ydCB7IFByaXptUmFuZ2VTdGF0ZSB9IGZyb20gJy4uLy4uL0Bjb3JlL2VudW1zL3JhbmdlLXN0YXRlJztcbmltcG9ydCB7IFBSSVpNX0FMV0FZU19GQUxTRV9IQU5ETEVSIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL2Fsd2F5cy1mYWxzZS1oYW5kbGVyJztcbmltcG9ydCB7IFByaXptSW50ZXJhY3RpdmVTdGF0ZSB9IGZyb20gJy4uLy4uL2RpcmVjdGl2ZXMvd3JhcHBlci93cmFwcGVyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBQUklaTV9DQUxFTkRBUl9NT05USFMgfSBmcm9tICcuLi8uLi90b2tlbnMvaTE4bic7XG5pbXBvcnQgeyBQcml6bUJvb2xlYW5IYW5kbGVyIH0gZnJvbSAnLi4vLi4vdHlwZXMvaGFuZGxlcic7XG5pbXBvcnQgeyBQcml6bUJvb2xlYW5IYW5kbGVyV2l0aENvbnRleHQgfSBmcm9tICcuLi8uLi90eXBlcy9oYW5kbGVyLXdpdGgtY29udGV4dCc7XG5pbXBvcnQgeyBQcml6bVdpdGhPcHRpb25hbE1pbk1heCB9IGZyb20gJy4uLy4uL3R5cGVzL3dpdGgtb3B0aW9uYWwtbWluLW1heCc7XG5pbXBvcnQgeyBwcml6bU51bGxhYmxlU2FtZSB9IGZyb20gJy4uLy4uL3V0aWwvY29tbW9uL251bGxhYmxlLXNhbWUnO1xuaW1wb3J0IHsgcHJpem1JMThuSW5pdFdpdGhLZXkgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcyc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtcbiAgUHJpem1Gb2N1c2FibGVNb2R1bGUsXG4gIFByaXptSG92ZXJlZERpcmVjdGl2ZSxcbiAgUHJpem1Ib3ZlcmVkTW9kdWxlLFxuICBQcml6bVByZXNzZWRNb2R1bGUsXG4gIFByaXptU3RvcFByb3BhZ2F0aW9uTW9kdWxlLFxufSBmcm9tICcuLi8uLi9kaXJlY3RpdmVzJztcbmltcG9ydCB7IFByaXptUHJpbWl0aXZlU3BpbkJ1dHRvbk1vZHVsZSwgUHJpem1QcmltaXRpdmVZZWFyUGlja2VyQ29tcG9uZW50IH0gZnJvbSAnLi4vaW50ZXJuYWwnO1xuaW1wb3J0IHsgUHJpem1TY3JvbGxiYXJDb21wb25lbnQgfSBmcm9tICcuLi9zY3JvbGxiYXInO1xuaW1wb3J0IHsgUHJpem1MZXREaXJlY3RpdmUgfSBmcm9tICdAcHJpem0tdWkvaGVscGVycyc7XG5cbmNvbnN0IFRPREFZID0gUHJpem1EYXkuY3VycmVudExvY2FsKCk7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogYHByaXptLWNhbGVuZGFyLW1vbnRoYCxcbiAgdGVtcGxhdGVVcmw6IGAuL2NhbGVuZGFyLW1vbnRoLmNvbXBvbmVudC5odG1sYCxcbiAgc3R5bGVVcmxzOiBbYC4vY2FsZW5kYXItbW9udGguY29tcG9uZW50Lmxlc3NgXSxcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgaW1wb3J0czogW1xuICAgIENvbW1vbk1vZHVsZSxcbiAgICBQcml6bVN0b3BQcm9wYWdhdGlvbk1vZHVsZSxcbiAgICBQcml6bVByaW1pdGl2ZVllYXJQaWNrZXJDb21wb25lbnQsXG4gICAgUHJpem1QcmltaXRpdmVTcGluQnV0dG9uTW9kdWxlLFxuICAgIFByaXptU2Nyb2xsYmFyQ29tcG9uZW50LFxuICAgIFByaXptTGV0RGlyZWN0aXZlLFxuICAgIFByaXptSG92ZXJlZERpcmVjdGl2ZSxcbiAgICBQcml6bVByZXNzZWRNb2R1bGUsXG4gICAgUHJpem1Gb2N1c2FibGVNb2R1bGUsXG4gIF0sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICBwcm92aWRlcnM6IFsuLi5wcml6bUkxOG5Jbml0V2l0aEtleShQUklaTV9DQUxFTkRBUl9NT05USFMsICdzaG9ydENhbGVuZGFyTW9udGhzJyldLFxufSlcbmV4cG9ydCBjbGFzcyBQcml6bUNhbGVuZGFyTW9udGhDb21wb25lbnRcbiAgZXh0ZW5kcyBQcml6bUFic3RyYWN0VGVzdElkXG4gIGltcGxlbWVudHMgUHJpem1XaXRoT3B0aW9uYWxNaW5NYXg8UHJpem1Nb250aD5cbntcbiAgQElucHV0KClcbiAgQHByaXptRGVmYXVsdFByb3AoKVxuICB2YWx1ZTogUHJpem1Nb250aFJhbmdlIHwgUHJpem1Nb250aCB8IG51bGwgPSBudWxsO1xuXG4gIEBJbnB1dCgpXG4gIEBwcml6bURlZmF1bHRQcm9wKClcbiAgeWVhcjogUHJpem1ZZWFyID0gVE9EQVk7XG5cbiAgQElucHV0KClcbiAgQHByaXptRGVmYXVsdFByb3AoKVxuICBkaXNhYmxlZEl0ZW1IYW5kbGVyOiBQcml6bUJvb2xlYW5IYW5kbGVyV2l0aENvbnRleHQ8UHJpem1Nb250aCwgUHJpem1Nb250aENvbnRleHQ+ID1cbiAgICBQUklaTV9BTFdBWVNfRkFMU0VfSEFORExFUjtcblxuICBASW5wdXQoKVxuICBAcHJpem1EZWZhdWx0UHJvcCgpXG4gIG1pbjogUHJpem1Nb250aCA9IFBSSVpNX0ZJUlNUX0RBWTtcblxuICBASW5wdXQoKVxuICBAcHJpem1EZWZhdWx0UHJvcCgpXG4gIG1heDogUHJpem1Nb250aCA9IFBSSVpNX0xBU1RfREFZO1xuXG4gIEBPdXRwdXQoKVxuICByZWFkb25seSBtb250aENsaWNrID0gbmV3IEV2ZW50RW1pdHRlcjxQcml6bU1vbnRoPigpO1xuXG4gIHJlYWRvbmx5IGhvdmVyZWRJdGVtQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxQcml6bU1vbnRoIHwgbnVsbD4oKTtcblxuICBAT3V0cHV0KClcbiAgcmVhZG9ubHkgeWVhckNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8UHJpem1ZZWFyPigpO1xuXG4gIGlzWWVhclBpY2tlclNob3duID0gZmFsc2U7XG5cbiAgaG92ZXJlZEl0ZW06IFByaXptTW9udGggfCBudWxsID0gbnVsbDtcbiAgcHJlc3NlZEl0ZW06IFByaXptTW9udGggfCBudWxsID0gbnVsbDtcbiAgb3ZlcnJpZGUgcmVhZG9ubHkgdGVzdElkXyA9ICd1aV9jYWxlbmRhcl9tb250aCc7XG5cbiAgY29uc3RydWN0b3IoQEluamVjdChQUklaTV9DQUxFTkRBUl9NT05USFMpIHJlYWRvbmx5IG1vbnRocyQ6IE9ic2VydmFibGU8cmVhZG9ubHkgc3RyaW5nW10+KSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIEBIb3N0QmluZGluZyhgY2xhc3MuX3NpbmdsZWApXG4gIGdldCBpc1NpbmdsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZSAhPT0gbnVsbCAmJiAodGhpcy52YWx1ZSBpbnN0YW5jZW9mIFByaXptTW9udGggfHwgdGhpcy52YWx1ZS5pc1NpbmdsZU1vbnRoKTtcbiAgfVxuXG4gIGdldCBwcmV2aW91c1llYXJEaXNhYmxlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy55ZWFyLnllYXJTYW1lT3JCZWZvcmUodGhpcy5taW4pO1xuICB9XG5cbiAgZ2V0IG5leHRZZWFyRGlzYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMueWVhci55ZWFyU2FtZU9yQWZ0ZXIodGhpcy5tYXgpO1xuICB9XG5cbiAgcHVibGljIGdldEl0ZW1TdGF0ZShpdGVtOiBQcml6bU1vbnRoKTogUHJpem1JbnRlcmFjdGl2ZVN0YXRlIHwgbnVsbCB7XG4gICAgY29uc3QgeyBkaXNhYmxlZEl0ZW1IYW5kbGVyV2l0aE1pbk1heCwgcHJlc3NlZEl0ZW0sIGhvdmVyZWRJdGVtIH0gPSB0aGlzO1xuXG4gICAgaWYgKGRpc2FibGVkSXRlbUhhbmRsZXJXaXRoTWluTWF4KGl0ZW0pKSB7XG4gICAgICByZXR1cm4gUHJpem1JbnRlcmFjdGl2ZVN0YXRlLkRpc2FibGVkO1xuICAgIH1cblxuICAgIC8vIGlmIChwcmVzc2VkSXRlbT8ubW9udGhTYW1lKGl0ZW0pKSB7XG4gICAgLy8gICAgIHJldHVybiBQcml6bUludGVyYWN0aXZlU3RhdGUuQWN0aXZlO1xuICAgIC8vIH1cbiAgICAvL1xuICAgIC8vIGlmIChob3ZlcmVkSXRlbT8ubW9udGhTYW1lKGl0ZW0pKSB7XG4gICAgLy8gICAgIHJldHVybiBQcml6bUludGVyYWN0aXZlU3RhdGUuSG92ZXI7XG4gICAgLy8gfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBwdWJsaWMgZ2V0SXRlbVJhbmdlKGl0ZW06IFByaXptTW9udGgpOiBQcml6bVJhbmdlU3RhdGUgfCBudWxsIHtcbiAgICBjb25zdCB7IHZhbHVlLCBob3ZlcmVkSXRlbSB9ID0gdGhpcztcblxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUHJpem1Nb250aCkge1xuICAgICAgcmV0dXJuIHZhbHVlLm1vbnRoU2FtZShpdGVtKSA/IFByaXptUmFuZ2VTdGF0ZS5TaW5nbGUgOiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHRoZUZpcnN0T2ZSYW5nZSA9IHZhbHVlLmZyb20ubW9udGhTYW1lKGl0ZW0pICYmICF2YWx1ZS5pc1NpbmdsZU1vbnRoO1xuICAgIGNvbnN0IGhvdmVyZWRJdGVtQWZ0ZXJGcm9tID1cbiAgICAgIGhvdmVyZWRJdGVtPy5tb250aEFmdGVyKHZhbHVlLmZyb20pICYmIHZhbHVlLmZyb20ubW9udGhTYW1lKGl0ZW0pICYmIHZhbHVlLmlzU2luZ2xlTW9udGg7XG4gICAgY29uc3QgaG92ZXJlZEl0ZW1Jc0NhbmRpZGF0ZVRvQmVGcm9tID1cbiAgICAgIGhvdmVyZWRJdGVtPy5tb250aFNhbWUoaXRlbSkgJiYgaG92ZXJlZEl0ZW0/Lm1vbnRoQmVmb3JlKHZhbHVlLmZyb20pICYmIHZhbHVlLmlzU2luZ2xlTW9udGg7XG5cbiAgICBpZiAodGhlRmlyc3RPZlJhbmdlIHx8IGhvdmVyZWRJdGVtQWZ0ZXJGcm9tIHx8IGhvdmVyZWRJdGVtSXNDYW5kaWRhdGVUb0JlRnJvbSkge1xuICAgICAgcmV0dXJuIFByaXptUmFuZ2VTdGF0ZS5TdGFydDtcbiAgICB9XG5cbiAgICBjb25zdCB0aGVMYXN0T2ZSYW5nZSA9IHZhbHVlLnRvLm1vbnRoU2FtZShpdGVtKSAmJiAhdmFsdWUuaXNTaW5nbGVNb250aDtcbiAgICBjb25zdCBob3ZlcmVkSXRlbUJlZm9yZVRvID1cbiAgICAgIHZhbHVlLnRvLm1vbnRoU2FtZShpdGVtKSAmJiBob3ZlcmVkSXRlbT8ubW9udGhCZWZvcmUodmFsdWUudG8pICYmIHZhbHVlLmlzU2luZ2xlTW9udGg7XG4gICAgY29uc3QgaG92ZXJlZEl0ZW1Jc0NhbmRpZGF0ZVRvQmVUbyA9XG4gICAgICBob3ZlcmVkSXRlbT8ubW9udGhTYW1lKGl0ZW0pICYmIGhvdmVyZWRJdGVtPy5tb250aEFmdGVyKHZhbHVlLmZyb20pICYmIHZhbHVlLmlzU2luZ2xlTW9udGg7XG5cbiAgICBpZiAodGhlTGFzdE9mUmFuZ2UgfHwgaG92ZXJlZEl0ZW1CZWZvcmVUbyB8fCBob3ZlcmVkSXRlbUlzQ2FuZGlkYXRlVG9CZVRvKSB7XG4gICAgICByZXR1cm4gUHJpem1SYW5nZVN0YXRlLkVuZDtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWUuaXNTaW5nbGVNb250aCAmJiB2YWx1ZS5mcm9tLm1vbnRoU2FtZShpdGVtKSA/IFByaXptUmFuZ2VTdGF0ZS5TaW5nbGUgOiBudWxsO1xuICB9XG5cbiAgcHVibGljIGdldFByaXptTW9udGgobW9udGhOdW1iZXI6IG51bWJlciwgeWVhck51bWJlcjogbnVtYmVyKTogUHJpem1Nb250aCB7XG4gICAgcmV0dXJuIG5ldyBQcml6bU1vbnRoKHllYXJOdW1iZXIsIG1vbnRoTnVtYmVyKTtcbiAgfVxuXG4gIHB1YmxpYyBpc0l0ZW1Ub2RheShpdGVtOiBQcml6bU1vbnRoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIFRPREFZLm1vbnRoU2FtZShpdGVtKTtcbiAgfVxuXG4gIHB1YmxpYyBpc0l0ZW1JbnNpZGVSYW5nZShtb250aDogUHJpem1Nb250aCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHsgdmFsdWUsIGhvdmVyZWRJdGVtIH0gPSB0aGlzO1xuXG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlIGluc3RhbmNlb2YgUHJpem1Nb250aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghdmFsdWUuaXNTaW5nbGVNb250aCkge1xuICAgICAgcmV0dXJuIHZhbHVlLmZyb20ubW9udGhTYW1lT3JCZWZvcmUobW9udGgpICYmIHZhbHVlLnRvLm1vbnRoQWZ0ZXIobW9udGgpO1xuICAgIH1cblxuICAgIGlmIChob3ZlcmVkSXRlbSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHJhbmdlID0gUHJpem1Nb250aFJhbmdlLnNvcnQodmFsdWUuZnJvbSwgaG92ZXJlZEl0ZW0pO1xuXG4gICAgcmV0dXJuIHJhbmdlLmZyb20ubW9udGhTYW1lT3JCZWZvcmUobW9udGgpICYmIHJhbmdlLnRvLm1vbnRoQWZ0ZXIobW9udGgpO1xuICB9XG5cbiAgcHVibGljIG9uUGlja2VyWWVhckNsaWNrKHllYXI6IFByaXptWWVhcik6IHZvaWQge1xuICAgIHRoaXMuaXNZZWFyUGlja2VyU2hvd24gPSBmYWxzZTtcblxuICAgIGlmICh0aGlzLnllYXIueWVhclNhbWUoeWVhcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZUFjdGl2ZVllYXIoeWVhcik7XG4gIH1cblxuICBwdWJsaWMgb25JdGVtQ2xpY2sobW9udGg6IFByaXptTW9udGgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZEl0ZW1IYW5kbGVyV2l0aE1pbk1heChtb250aCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLm1vbnRoQ2xpY2suZW1pdChtb250aCk7XG4gIH1cblxuICBwdWJsaWMgb25ZZWFyQ2xpY2soKTogdm9pZCB7XG4gICAgdGhpcy5pc1llYXJQaWNrZXJTaG93biA9IHRydWU7XG4gIH1cblxuICBwdWJsaWMgb25OZXh0WWVhcigpOiB2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZUFjdGl2ZVllYXIodGhpcy55ZWFyLmFwcGVuZCh7IHllYXI6IDEgfSkpO1xuICB9XG5cbiAgcHVibGljIG9uUHJldmlvdXNZZWFyKCk6IHZvaWQge1xuICAgIHRoaXMudXBkYXRlQWN0aXZlWWVhcih0aGlzLnllYXIuYXBwZW5kKHsgeWVhcjogLTEgfSkpO1xuICB9XG5cbiAgcHVibGljIG9uSXRlbUhvdmVyZWQoaG92ZXJlZDogYm9vbGVhbiwgaXRlbTogUHJpem1Nb250aCk6IHZvaWQge1xuICAgIHRoaXMudXBkYXRlSG92ZXJlZEl0ZW0oaG92ZXJlZCA/IGl0ZW0gOiBudWxsKTtcbiAgfVxuXG4gIHB1YmxpYyBvbkl0ZW1QcmVzc2VkKHByZXNzZWQ6IGJvb2xlYW4sIGl0ZW06IFByaXptTW9udGgpOiB2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZVByZXNzZWRJdGVtKHByZXNzZWQgPyBpdGVtIDogbnVsbCk7XG4gIH1cblxuICBAcHJpem1QdXJlXG4gIHByaXZhdGUgY2FsY3VsYXRlRGlzYWJsZWRJdGVtSGFuZGxlcldpdGhNaW5NYXgoXG4gICAgZGlzYWJsZWRJdGVtSGFuZGxlcjogUHJpem1Cb29sZWFuSGFuZGxlcldpdGhDb250ZXh0PFByaXptTW9udGgsIFByaXptTW9udGhDb250ZXh0PixcbiAgICB2YWx1ZTogUHJpem1Nb250aCB8IFByaXptTW9udGhSYW5nZSB8IG51bGwsXG4gICAgbWluOiBQcml6bU1vbnRoLFxuICAgIG1heDogUHJpem1Nb250aFxuICApOiBQcml6bUJvb2xlYW5IYW5kbGVyPFByaXptTW9udGg+IHtcbiAgICByZXR1cm4gKGl0ZW0pOiBib29sZWFuID0+XG4gICAgICBpdGVtLm1vbnRoQmVmb3JlKG1pbikgfHwgaXRlbS5tb250aEFmdGVyKG1heCkgfHwgZGlzYWJsZWRJdGVtSGFuZGxlcihpdGVtLCB7IHZhbHVlIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgZGlzYWJsZWRJdGVtSGFuZGxlcldpdGhNaW5NYXgoKTogUHJpem1Cb29sZWFuSGFuZGxlcjxQcml6bU1vbnRoPiB7XG4gICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlRGlzYWJsZWRJdGVtSGFuZGxlcldpdGhNaW5NYXgoXG4gICAgICB0aGlzLmRpc2FibGVkSXRlbUhhbmRsZXIsXG4gICAgICB0aGlzLnZhbHVlLFxuICAgICAgdGhpcy5taW4sXG4gICAgICB0aGlzLm1heFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUhvdmVyZWRJdGVtKG1vbnRoOiBQcml6bU1vbnRoIHwgbnVsbCk6IHZvaWQge1xuICAgIGlmIChwcml6bU51bGxhYmxlU2FtZSh0aGlzLmhvdmVyZWRJdGVtLCBtb250aCwgKGEsIGIpID0+IGEubW9udGhTYW1lKGIpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaG92ZXJlZEl0ZW0gPSBtb250aDtcbiAgICB0aGlzLmhvdmVyZWRJdGVtQ2hhbmdlLmVtaXQobW9udGgpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVQcmVzc2VkSXRlbShpdGVtOiBQcml6bU1vbnRoIHwgbnVsbCk6IHZvaWQge1xuICAgIHRoaXMucHJlc3NlZEl0ZW0gPSBpdGVtO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVBY3RpdmVZZWFyKHllYXI6IFByaXptWWVhcik6IHZvaWQge1xuICAgIHRoaXMueWVhciA9IHllYXI7XG4gICAgdGhpcy55ZWFyQ2hhbmdlLmVtaXQoeWVhcik7XG4gIH1cbn1cbiIsIjxwcml6bS1zY3JvbGxiYXIgY2xhc3M9XCJ6LXNjcm9sbGJhclwiICpuZ0lmPVwiaXNZZWFyUGlja2VyU2hvd247IGVsc2UgbW9udGhTZWxlY3RcIj5cbiAgPHByaXptLXByaW1pdGl2ZS15ZWFyLXBpY2tlclxuICAgIFttaW5dPVwibWluXCJcbiAgICBbbWF4XT1cIm1heFwiXG4gICAgW2luaXRpYWxJdGVtXT1cInllYXJcIlxuICAgIFt2YWx1ZV09XCJ2YWx1ZVwiXG4gICAgKHllYXJDbGljayk9XCJvblBpY2tlclllYXJDbGljaygkZXZlbnQpXCJcbiAgPjwvcHJpem0tcHJpbWl0aXZlLXllYXItcGlja2VyPlxuPC9wcml6bS1zY3JvbGxiYXI+XG48bmctdGVtcGxhdGUgI21vbnRoU2VsZWN0PlxuICA8cHJpem0tcHJpbWl0aXZlLXNwaW4tYnV0dG9uXG4gICAgW2ZvY3VzYWJsZV09XCJmYWxzZVwiXG4gICAgW2xlZnREaXNhYmxlZF09XCJwcmV2aW91c1llYXJEaXNhYmxlZFwiXG4gICAgW3JpZ2h0RGlzYWJsZWRdPVwibmV4dFllYXJEaXNhYmxlZFwiXG4gICAgKGxlZnRDbGljayk9XCJvblByZXZpb3VzWWVhcigpXCJcbiAgICAocmlnaHRDbGljayk9XCJvbk5leHRZZWFyKClcIlxuICAgIHByaXptU3RvcFByb3BhZ2F0aW9uPVwibW91c2Vkb3duXCJcbiAgPlxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzPVwieWVhci1idG5cIlxuICAgICAgW3ByaXptRm9jdXNhYmxlXT1cImZhbHNlXCJcbiAgICAgIChjbGljayk9XCJvblllYXJDbGljaygpXCJcbiAgICAgIGF1dG9tYXRpb24taWQ9XCJwcml6bS1jYWxlbmRhci1tb250aF9fYWN0aXZlLXllYXJcIlxuICAgID5cbiAgICAgIHt7IHllYXIuZm9ybWF0dGVkWWVhciB9fVxuICAgIDwvYnV0dG9uPlxuICA8L3ByaXptLXByaW1pdGl2ZS1zcGluLWJ1dHRvbj5cbiAgPGRpdiBjbGFzcz1cInotcm93XCI+XG4gICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgbW9udGggb2YgbW9udGhzJCB8IGFzeW5jOyBsZXQgaW5kZXggPSBpbmRleFwiPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzcz1cInotY2VsbFwiXG4gICAgICAgICpwcml6bUxldD1cImdldFByaXptTW9udGgoaW5kZXgsIHllYXIueWVhcikgYXMgaXRlbVwiXG4gICAgICAgIFtjbGFzcy56LWNlbGxfdG9kYXldPVwiaXNJdGVtVG9kYXkoaXRlbSlcIlxuICAgICAgICBbY2xhc3Muei1jZWxsX2ludGVydmFsXT1cImlzSXRlbUluc2lkZVJhbmdlKGl0ZW0pXCJcbiAgICAgICAgW2F0dHIuZGF0YS1yYW5nZV09XCJnZXRJdGVtUmFuZ2UoaXRlbSlcIlxuICAgICAgICBbYXR0ci5kYXRhLXN0YXRlXT1cImdldEl0ZW1TdGF0ZShpdGVtKVwiXG4gICAgICAgIChwcml6bUhvdmVyZWRDaGFuZ2UpPVwib25JdGVtSG92ZXJlZCgkZXZlbnQsIGl0ZW0pXCJcbiAgICAgICAgKHByaXptUHJlc3NlZENoYW5nZSk9XCJvbkl0ZW1Ib3ZlcmVkKCRldmVudCwgaXRlbSlcIlxuICAgICAgICAoY2xpY2spPVwib25JdGVtQ2xpY2soaXRlbSlcIlxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiei1pdGVtXCI+e3sgbW9udGggfX08L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbmctY29udGFpbmVyPlxuICA8L2Rpdj5cbjwvbmctdGVtcGxhdGU+XG4iXX0=