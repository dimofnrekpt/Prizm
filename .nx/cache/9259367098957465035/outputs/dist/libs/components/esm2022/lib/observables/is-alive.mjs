import { pipe, timer } from 'rxjs';
import { distinctUntilChanged, mapTo, startWith, switchMapTo } from 'rxjs/operators';
/**
 * Operator to set lifespan after which current value is considered obsolete
 */
export function prizmIsAlive(lifespan = 0) {
    return pipe(switchMapTo(timer(lifespan).pipe(mapTo(false), startWith(true))), distinctUntilChanged());
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXMtYWxpdmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWJzL2NvbXBvbmVudHMvc3JjL2xpYi9vYnNlcnZhYmxlcy9pcy1hbGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQW9CLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDckQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFckY7O0dBRUc7QUFDSCxNQUFNLFVBQVUsWUFBWSxDQUFDLFFBQVEsR0FBRyxDQUFDO0lBQ3ZDLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLG9CQUFvQixFQUFFLENBQUMsQ0FBQztBQUN4RyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgcGlwZSwgdGltZXIgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRpc3RpbmN0VW50aWxDaGFuZ2VkLCBtYXBUbywgc3RhcnRXaXRoLCBzd2l0Y2hNYXBUbyB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuLyoqXG4gKiBPcGVyYXRvciB0byBzZXQgbGlmZXNwYW4gYWZ0ZXIgd2hpY2ggY3VycmVudCB2YWx1ZSBpcyBjb25zaWRlcmVkIG9ic29sZXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcml6bUlzQWxpdmUobGlmZXNwYW4gPSAwKTogT3BlcmF0b3JGdW5jdGlvbjxhbnksIGJvb2xlYW4+IHtcbiAgcmV0dXJuIHBpcGUoc3dpdGNoTWFwVG8odGltZXIobGlmZXNwYW4pLnBpcGUobWFwVG8oZmFsc2UpLCBzdGFydFdpdGgodHJ1ZSkpKSwgZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG59XG4iXX0=