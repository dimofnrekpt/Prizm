import { __decorate, __metadata } from "tslib";
import { ChangeDetectorRef, Component, ContentChild, forwardRef, Inject, Injector, Input, Optional, TemplateRef, ViewChild, } from '@angular/core';
import { FormsModule, NG_VALUE_ACCESSOR } from '@angular/forms';
import { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';
import { PrizmDayRange } from '../../../@core/date-time/day-range';
import { PrizmDay } from '../../../@core/date-time/day';
import { prizmDefaultProp } from '@prizm-ui/core';
import { PRIZM_ALWAYS_FALSE_HANDLER } from '../../../constants/always-false-handler';
import { PRIZM_DEFAULT_MARKER_HANDLER } from '../../../constants/default-marker-handler';
import { PrizmMonth } from '../../../@core/date-time/month';
import { PRIZM_FIRST_DAY, PRIZM_LAST_DAY } from '../../../@core/date-time/days.const';
import { PRIZM_DATE_SEPARATOR } from '../../../@core/date-time/date-separator';
import { PrizmDialogService } from '../../dialogs/dialog/dialog.service';
import { PRIZM_DATE_FORMAT } from '../../../@core/date-time/date-format';
import { PRIZM_DATE_TEXTS, PRIZM_TIME_TEXTS } from '../../../tokens/i18n';
import { PRIZM_DATE_RANGE_VALUE_TRANSFORMER } from '../../../tokens/date-inputs-value-transformers';
import { prizmNullableSame } from '../../../util/common/nullable-same';
import { filterTruthy, PrizmDestroyService, PrizmLetDirective } from '@prizm-ui/helpers';
import { PrizmInputControl } from '../common/base/input-control.class';
import { PrizmInputNgControl } from '../common/base/input-ng-control.class';
import { debounceTime, delay, distinctUntilChanged, map, share, takeUntil, tap } from 'rxjs/operators';
import { prizmCreateDateNgxMask, PrizmDateTime, PrizmDateTimeRange, PrizmTime, PrizmTimeRange, } from '../../../@core';
import { PrizmInputZoneDirective, PrizmInputZoneModule } from '../../../directives/input-zone';
import { prizmCreateTimeNgxMask } from '../../../@core/mask/create-time-mask';
import { PRIZM_DATE_RIGHT_BUTTONS } from '../../../tokens';
import { prizmI18nInitWithKeys } from '../../../services';
import { CommonModule } from '@angular/common';
import { PrizmMaskModule } from '../../../modules';
import { PolymorphOutletDirective, PrizmLifecycleModule, PrizmValueAccessorModule, } from '../../../directives';
import { PrizmDataListComponent } from '../../data-list';
import { PrizmInputLayoutTimeModule } from '../input-time';
import { PrizmInputTextModule } from '../input-text';
import { PrizmIconComponent } from '../../icon';
import { PrizmDropdownHostComponent } from '../../dropdowns/dropdown-host';
import { PrizmCalendarRangeComponent } from '../../calendar-range';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "ngx-mask";
import * as i3 from "../../../directives/input-zone/input-zone.directive";
import * as i4 from "../../../directives/input-zone/input-in-zone.directive";
import * as i5 from "../../../directives/lifecycle/lifecycle.directive";
import * as i6 from "../input-time/input-layout-time.component";
import * as i7 from "../common/input-layout/input-layout.component";
import * as i8 from "../common/input-icon-button/input-icon-button.component";
import * as i9 from "../common/input-layout/input-layout-right.directive";
import * as i10 from "../input-text/input-text.component";
import * as i11 from "@angular/forms";
import * as i12 from "../../dialogs/dialog/dialog.service";
import * as i13 from "rxjs";
export class PrizmInputLayoutDateTimeRangeComponent extends PrizmInputNgControl {
    get interactive() {
        return !this.disabled;
    }
    get calendarMinDay() {
        return this.getDayFromMinMax(this.min);
    }
    get calendarMaxDay() {
        return this.getDayFromMinMax(this.max);
    }
    get empty() {
        return this.empty$;
    }
    constructor(changeDetectorRef, injector, dialogService, dateFormat, dateSeparator, dateTexts$, valueTransformer) {
        super(injector);
        this.dialogService = dialogService;
        this.dateFormat = dateFormat;
        this.dateSeparator = dateSeparator;
        this.dateTexts$ = dateTexts$;
        this.valueTransformer = valueTransformer;
        this.hasClearButton = true;
        this.nativeElementType = 'input-layout-date-range';
        this.disabledItemHandler = PRIZM_ALWAYS_FALSE_HANDLER;
        this.markerHandler = PRIZM_DEFAULT_MARKER_HANDLER;
        this.defaultViewedMonth = PrizmMonth.currentLocal();
        this.items = [];
        this.placeholder = '';
        this.min = PRIZM_FIRST_DAY;
        this.max = PRIZM_LAST_DAY;
        this.timeStrict = false;
        this.minLength = null;
        this.maxLength = null;
        this.open = false;
        // TODO: finish
        // openTimeTemplate = false;
        this.timeMode = 'HH:MM';
        this.timeItems = new Array(24).fill(null).map((_, i) => new PrizmTime(i, 0, 0, 0));
        this.extraButtonInjector = this.injector;
        this.testId_ = 'ui_input_date_time_range';
        this.testRange = new PrizmDayRange(new PrizmDay(2010, 1, 1), new PrizmDay(2010, 2, 2));
        this.nativeValueTimeFrom$$ = new BehaviorSubject('');
        this.nativeValueTimeTo$$ = new BehaviorSubject('');
        this.nativeValueFrom$$ = new BehaviorSubject('');
        this.nativeValueTo$$ = new BehaviorSubject('');
        this.nativeValue$$ = combineLatest([
            this.nativeValueFrom$$.pipe(distinctUntilChanged()),
            this.nativeValueTimeFrom$$.pipe(distinctUntilChanged()),
            this.nativeValueTo$$.pipe(distinctUntilChanged()),
            this.nativeValueTimeTo$$.pipe(distinctUntilChanged()),
        ]).pipe(debounceTime(0), map(([from, fromTime, to, toTime]) => {
            return {
                timeRange: [fromTime, toTime],
                dayRange: [from, to],
            };
        }));
        this.hasNativeValue$ = this.nativeValue$$.pipe(map(value => {
            return hasValueInArray(value?.timeRange) || hasValueInArray(value?.dayRange);
        }), share());
        this.empty$ = combineLatest([this.value$, this.nativeValue$$]).pipe(map(([value, nativeValue]) => {
            return (emptyValue(value?.dayRange) &&
                emptyValue(nativeValue.dayRange) &&
                emptyValue(value?.timeRange) &&
                emptyValue(nativeValue.timeRange));
        }));
        this.closeOnOutsideClick = true;
    }
    get focused() {
        return this.focusableElement?.focused$ ?? of(false);
    }
    get canOpen() {
        return this.interactive;
    }
    get computedTimeMask() {
        return prizmCreateTimeNgxMask(this.timeMode);
    }
    get computedDateMask() {
        return prizmCreateDateNgxMask(this.dateFormat, this.dateSeparator);
    }
    get fromValue() {
        const value = this.value?.dayRange?.from?.toString() ?? '';
        if (!value) {
            return this.nativeValueFrom$$.value || '';
        }
        return value;
    }
    get fromTimeValue() {
        const val = this.timeToString(this.value?.timeRange?.from) ?? '';
        if (!val) {
            return this.nativeValueTimeFrom$$.value || '';
        }
        return val;
    }
    get toValue() {
        const value = this.value?.dayRange?.to?.toString() ?? '';
        if (!value) {
            return this.nativeValueTo$$.value || '';
        }
        return value;
    }
    get toTimeValue() {
        const val = this.timeToString(this.value?.timeRange?.to) ?? '';
        if (!val) {
            return this.nativeValueTimeTo$$.value || '';
        }
        return val;
    }
    onOpenChange(open) {
        this.open = open;
        this.changeDetectorRef.markForCheck();
    }
    completeDateIfAreNotPending() {
        const fromValue = this.nativeValueFrom$$.value;
        const toValue = this.nativeValueTo$$.value;
        const fromTimeValue = this.nativeValueTimeFrom$$.value;
        const toTimeValue = this.nativeValueTimeTo$$.value;
        // stop if empty
        if (!fromValue && !toValue && !fromTimeValue && !toTimeValue)
            return;
        // stop if started value
        if (fromValue && fromValue.length !== this.computedDateMask.length)
            return;
        if (toValue && toValue.length !== this.computedDateMask.length)
            return;
        if (fromTimeValue && fromTimeValue.length !== this.computedTimeMask.length)
            return;
        if (toTimeValue && toTimeValue.length !== this.computedTimeMask.length)
            return;
        const parsedFrom = fromValue
            ? PrizmDay.normalizeParse(fromValue, this.dateFormat)
            : new PrizmDay(new Date().getFullYear(), new Date().getMonth(), new Date().getDate());
        const parsedTo = toValue ? PrizmDay.normalizeParse(toValue, this.dateFormat) : parsedFrom.append({});
        const parsedTimeTo = PrizmTime.correctTime(toTimeValue ? PrizmTime.fromString(toTimeValue) : new PrizmTime(23, 59));
        const parsedTimeFrom = PrizmTime.correctTime(fromTimeValue ? PrizmTime.fromString(fromTimeValue) : new PrizmTime(0, 0));
        this.nativeValueTo$$.next(parsedTo.toString(this.dateFormat));
        this.nativeValueFrom$$.next(parsedFrom.toString(this.dateFormat));
        this.nativeValueTimeTo$$.next(parsedTimeTo.toString(this.timeMode));
        this.nativeValueTimeFrom$$.next(parsedTimeFrom.toString(this.timeMode));
    }
    ngAfterViewInit() {
        this.focusableElement?.blur$
            .pipe(debounceTime(0), filterTruthy(), tap(() => this.completeDateIfAreNotPending()), takeUntil(this.destroy$))
            .subscribe();
    }
    ngOnInit() {
        super.ngOnInit();
        this.rightButtons$ = this.extraButtonInjector.get(PRIZM_DATE_RIGHT_BUTTONS);
        this.nativeValue$$
            .pipe(tap(({ dayRange, timeRange }) => {
            const fromValue = dayRange[0];
            const toValue = dayRange[1];
            const fromTimeValue = timeRange[0];
            const toTimeValue = timeRange[1];
            if (!fromValue || fromValue.length !== this.computedDateMask.length)
                return;
            if (!toValue || toValue.length !== this.computedDateMask.length)
                return;
            if (!fromTimeValue || fromTimeValue.length !== this.computedTimeMask.length)
                return;
            if (!toTimeValue || toTimeValue.length !== this.computedTimeMask.length)
                return;
            if (fromValue === this.value?.dayRange?.from.toString() &&
                fromTimeValue === this.value?.timeRange?.from.toString(this.timeMode) &&
                toValue === this.value?.dayRange?.to.toString() &&
                toTimeValue === this.value?.timeRange?.to.toString(this.timeMode)) {
                return;
            }
            this.updateWithCorrectDateAndTime(
            // eslint-disable-next-line @typescript-eslint/ban-ts-comment
            // @ts-ignore
            fromValue && fromValue.length === this.computedDateMask.length && fromValue, toValue && toValue.length === this.computedDateMask.length && toValue, fromTimeValue && fromTimeValue.length === this.computedTimeMask.length && fromTimeValue, toTimeValue && toTimeValue.length === this.computedTimeMask.length && toTimeValue);
        }), takeUntil(this.destroy$))
            .subscribe();
    }
    timeToString(value) {
        return value instanceof PrizmTime ? value.toString(this.timeMode) : null;
    }
    onDateValueChange(value, isFormValue) {
        if (isFormValue && value === this.fromValue)
            return;
        if (!isFormValue && value === this.toValue)
            return;
        if (isFormValue)
            this.nativeValueFrom$$.next(value);
        else
            this.nativeValueTo$$.next(value);
        if (value == null) {
            this.onOpenChange(true);
        }
    }
    onTimeValueChange(value, isFormValue) {
        if (isFormValue && value === this.fromTimeValue)
            return;
        if (!isFormValue && value === this.toTimeValue)
            return;
        if (isFormValue)
            this.nativeValueTimeFrom$$.next(value);
        else
            this.nativeValueTimeTo$$.next(value);
        if (value == null) {
            this.onOpenChange(true);
        }
    }
    onRangeChange(range) {
        this.focusInput();
        if (!range) {
            this.nativeValueTo$$.next('');
            this.nativeValueFrom$$.next('');
        }
        if (!prizmNullableSame(this.value?.dayRange, range, (a, b) => a?.daySame(b))) {
            const newValue = new PrizmDateTimeRange(range, (this.value?.timeRange ?? null));
            this.updateValue(newValue);
            this.open = false;
        }
        this.nativeValueTo$$.next(range?.to?.toString() ?? '');
        this.nativeValueFrom$$.next(range?.from?.toString() ?? '');
        this.changeDetectorRef.markForCheck();
    }
    updateWithCorrectDateAndTime(from, to, fromTime, toTime) {
        let parsedFrom = from ? PrizmDay.normalizeParse(from, this.dateFormat) : this.value?.dayRange?.from;
        let parsedTo = to ? PrizmDay.normalizeParse(to, this.dateFormat) : this.value?.dayRange?.to;
        if (parsedFrom)
            parsedFrom = this.dayLimit(parsedFrom);
        if (parsedTo)
            parsedTo = this.dayLimit(parsedTo);
        let parsedTimeFrom = fromTime && PrizmTime.correctTime(PrizmTime.fromString(fromTime));
        let parsedTimeTo = toTime && PrizmTime.correctTime(PrizmTime.fromString(toTime));
        if (parsedTimeFrom)
            parsedTimeFrom = this.timeLimit([parsedFrom, parsedTimeFrom]);
        if (parsedTimeTo)
            parsedTimeTo = this.timeLimit([parsedTo, parsedTimeTo]);
        if (parsedTimeTo || parsedTimeFrom) {
            if (!parsedFrom) {
                parsedFrom = PrizmDay.fromLocalNativeDate(new Date());
            }
            if (!parsedTo) {
                const tomorrow = new Date();
                tomorrow.setDate(tomorrow.getDate() + 1);
                parsedTo = PrizmDay.fromLocalNativeDate(tomorrow);
            }
        }
        this.updateValue(new PrizmDateTimeRange((parsedFrom && parsedTo ? new PrizmDayRange(parsedFrom, parsedTo) : null), (parsedTimeFrom && parsedTimeTo ? new PrizmTimeRange(parsedTimeFrom, parsedTimeTo) : null)));
    }
    timeLimit(value) {
        if (!value)
            return null;
        let [, parsedTime] = value;
        if (parsedTime)
            parsedTime = parsedTime.timeLimit(this.getTimeFromMinMax(this.min), this.getTimeFromMinMax(this.max));
        return parsedTime;
    }
    getDayFromMinMax(value) {
        return Array.isArray(value) ? value[0] : value instanceof PrizmDateTime ? value.day : value;
    }
    getTimeFromMinMax(value) {
        return Array.isArray(value) ? value[1] : value instanceof PrizmDateTime ? value.time : null;
    }
    dayLimit(value) {
        return value.dayLimit(this.getDayFromMinMax(this.min), this.getDayFromMinMax(this.max));
    }
    writeValue(value) {
        super.writeValue(value);
        this.nativeValueTimeFrom$$.next(value?.timeRange?.from?.toString(this.timeMode) ?? '');
        this.nativeValueTimeTo$$.next(value?.timeRange?.to?.toString(this.timeMode) ?? '');
        this.nativeValueFrom$$.next(value?.dayRange?.from?.toString() ?? '');
        this.nativeValueTo$$.next(value?.dayRange?.to?.toString() ?? '');
    }
    toggle() {
        this.open = !this.open;
    }
    focusInput() {
        this.focusableElement?.focus(0);
    }
    clear(ev) {
        ev.stopImmediatePropagation();
        super.clear(ev);
        this.nativeValueTo$$.next('');
        this.nativeValueFrom$$.next('');
        this.nativeValueTimeFrom$$.next('');
        this.nativeValueTimeTo$$.next('');
        this.layoutComponent?.cdr.markForCheck();
    }
    updateTimeTo(value) {
        // TODO: #mz add min max
        if (value &&
            this.value?.timeRange?.to instanceof PrizmTime &&
            this.value?.timeRange?.to?.isSameTime(value))
            return;
        const range = PrizmDateTimeRange.safeUpdateTimeTo(this.value, value);
        this.updateValue(range?.copy());
    }
    updateTimeFrom(value) {
        // TODO: #mz add min max
        if (value &&
            this.value?.timeRange?.from instanceof PrizmTime &&
            this.value?.timeRange?.from?.isSameTime(value))
            return;
        // const range = PrizmDateTimeRange.safeUpdateTimeFrom(this.value, value);
        // this.updateValue(range?.copy());
        this.nativeValueTimeFrom$$.next(value.toString(this.timeMode));
    }
    referFocusToMain(referFocus = true) {
        if (!referFocus)
            return;
        // TODO create operator and rxjs functin to run sequence in event loop
        of(null)
            .pipe(delay(0), tap(() => {
            this.focusableElement?.selectionToStart();
        }))
            .subscribe();
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.8", ngImport: i0, type: PrizmInputLayoutDateTimeRangeComponent, deps: [{ token: ChangeDetectorRef }, { token: Injector }, { token: PrizmDialogService }, { token: PRIZM_DATE_FORMAT, optional: true }, { token: PRIZM_DATE_SEPARATOR }, { token: PRIZM_DATE_TEXTS }, { token: PRIZM_DATE_RANGE_VALUE_TRANSFORMER, optional: true }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.8", type: PrizmInputLayoutDateTimeRangeComponent, isStandalone: true, selector: "prizm-input-layout-date-time-range", inputs: { disabledItemHandler: "disabledItemHandler", markerHandler: "markerHandler", defaultViewedMonth: "defaultViewedMonth", items: "items", placeholder: "placeholder", min: "min", max: "max", timeStrict: "timeStrict", minLength: "minLength", maxLength: "maxLength", timeMode: "timeMode", timeItems: "timeItems", extraButtonInjector: "extraButtonInjector" }, providers: [
            ...prizmI18nInitWithKeys({
                time: PRIZM_TIME_TEXTS,
                dateTexts: PRIZM_DATE_TEXTS,
            }),
            {
                provide: NG_VALUE_ACCESSOR,
                useExisting: forwardRef(() => PrizmInputLayoutDateTimeRangeComponent),
                multi: true,
            },
            PrizmDestroyService,
            { provide: PrizmInputControl, useExisting: PrizmInputLayoutDateTimeRangeComponent },
        ], queries: [{ propertyName: "footerFromTemplate", first: true, predicate: ["footerFrom"], descendants: true, read: TemplateRef }, { propertyName: "footerToTemplate", first: true, predicate: ["footerTo"], descendants: true, read: TemplateRef }], viewQueries: [{ propertyName: "focusableElement", first: true, predicate: ["focusableElementRef"], descendants: true, read: PrizmInputZoneDirective }], usesInheritance: true, ngImport: i0, template: "<prizm-dropdown-host\n  class=\"z-hosted\"\n  [canOpen]=\"canOpen\"\n  [content]=\"dropdown\"\n  [closeByEsc]=\"true\"\n  [closeOnOutsideClick]=\"closeOnOutsideClick\"\n  [prizmDropdownHostWidth]=\"'auto'\"\n  [isOpen]=\"canOpen && !disabled && open\"\n  [prizmDropdownHost]=\"layoutComponent?.el?.nativeElement\"\n  (isOpenChange)=\"onOpenChange($event)\"\n  prizmDropdownHostWidth=\"auto\"\n>\n  <div\n    class=\"multiple-input-box\"\n    #focusableElementRef=\"prizmInputZone\"\n    [attr.data-placeholder]=\"placeholder\"\n    prizmInputZone\n  >\n    <input\n      class=\"input-main\"\n      [class.show-placeholder]=\"\n        (empty | async) && (disabled || (focusableElementRef.focused$ | async) !== true)\n      \"\n      [placeholder]=\"placeholder\"\n      [mask]=\"computedDateMask\"\n      [clearIfNotMatch]=\"false\"\n      [showMaskTyped]=\"(focusableElementRef.focused$ | async) || (hasNativeValue$ | async)\"\n      [dropSpecialCharacters]=\"false\"\n      [disabled]=\"disabled\"\n      [ngModelOptions]=\"{ standalone: true }\"\n      [ngModel]=\"fromValue\"\n      [size]=\"computedDateMask.length\"\n      [maxLength]=\"computedDateMask.length + 1\"\n      [maxSize]=\"computedDateMask.length\"\n      (click)=\"referFocusToMain(!fromValue)\"\n      (ngModelChange)=\"onDateValueChange($event || '', true)\"\n      style=\"padding: 0\"\n      prizmInput\n      prizmInputInZone\n    />\n    <input\n      class=\"input-time\"\n      [mask]=\"computedTimeMask\"\n      [dropSpecialCharacters]=\"false\"\n      [clearIfNotMatch]=\"false\"\n      [showMaskTyped]=\"(focusableElementRef.focused$ | async) || (hasNativeValue$ | async)\"\n      [disabled]=\"disabled\"\n      [ngModelOptions]=\"{ standalone: true }\"\n      [ngModel]=\"fromTimeValue\"\n      [size]=\"computedTimeMask.length\"\n      [maxLength]=\"computedTimeMask.length + 1\"\n      [maxSize]=\"computedTimeMask.length\"\n      (ngModelChange)=\"onTimeValueChange($event, true)\"\n      style=\"padding: 0\"\n      prizmInput\n      prizmInputInZone\n    />\n    <span class=\"delimiter\">-</span>\n    <input\n      class=\"input-time\"\n      [mask]=\"computedDateMask\"\n      [dropSpecialCharacters]=\"false\"\n      [clearIfNotMatch]=\"false\"\n      [showMaskTyped]=\"(focusableElementRef.focused$ | async) || (hasNativeValue$ | async)\"\n      [disabled]=\"!!disabled\"\n      [ngModelOptions]=\"{ standalone: true }\"\n      [ngModel]=\"toValue\"\n      [size]=\"computedDateMask.length\"\n      [maxLength]=\"computedDateMask.length + 1\"\n      [maxSize]=\"computedDateMask.length\"\n      (ngModelChange)=\"onDateValueChange($event || '', false)\"\n      style=\"padding: 0\"\n      prizmInput\n      prizmInputInZone\n    />\n    <input\n      class=\"input-time\"\n      [mask]=\"computedTimeMask\"\n      [dropSpecialCharacters]=\"false\"\n      [clearIfNotMatch]=\"false\"\n      [showMaskTyped]=\"(focusableElementRef.focused$ | async) || (hasNativeValue$ | async)\"\n      [disabled]=\"!!disabled\"\n      [ngModelOptions]=\"{ standalone: true }\"\n      [ngModel]=\"toTimeValue\"\n      [size]=\"computedTimeMask.length\"\n      [maxLength]=\"computedTimeMask.length + 1\"\n      [maxSize]=\"computedTimeMask.length\"\n      (ngModelChange)=\"onTimeValueChange($event, false)\"\n      style=\"padding: 0\"\n      prizmInput\n      prizmInputInZone\n    />\n  </div>\n\n  <!--  TODO add after create time range component -->\n  <!--  <ng-template #dropdownTimeTemplate>-->\n  <!--    <prizm-data-list-->\n  <!--      class=\"block\"-->\n  <!--      *ngIf=\"timeItems.length\"-->\n  <!--      [style.&#45;&#45;prizm-data-list-border]=\"0\"-->\n  <!--      (prizmAfterViewInit)=\"markAsTouched(); prizmDropdownHostComponent.reCalculatePositions()\"-->\n  <!--      (prizmOnDestroy)=\"openTimeTemplate = false\"-->\n  <!--      prizmLifecycle-->\n  <!--    >-->\n  <!--      <ng-container>-->\n  <!--        <div-->\n  <!--          class=\"time-item\"-->\n  <!--          *ngFor=\"let item of timeItems; let idx = index\"-->\n  <!--          (click)=\"$event.stopPropagation(); onTimeMenuClick(item, $event)\"-->\n  <!--        >-->\n  <!--        <span class=\"text\">-->\n  <!--          {{ item }}-->\n  <!--        </span>-->\n  <!--        </div>-->\n  <!--      </ng-container>-->\n  <!--    </prizm-data-list>-->\n  <!--  </ng-template>-->\n  <!--  -->\n  <ng-template #dropdown>\n    <prizm-calendar-range\n      [style.--prizm-input-layout-width]=\"'100%'\"\n      [style.--prizm-dropdown-host-width]=\"'100%'\"\n      [defaultViewedMonth]=\"defaultViewedMonth\"\n      [disabledItemHandler]=\"disabledItemHandler\"\n      [items]=\"items\"\n      [min]=\"calendarMinDay\"\n      [max]=\"calendarMaxDay\"\n      [markerHandler]=\"markerHandler\"\n      [minLength]=\"minLength\"\n      [maxLength]=\"maxLength\"\n      [value]=\"$any(value?.dayRange)\"\n      (prizmAfterViewInit)=\"markAsTouched()\"\n      (valueChange)=\"onRangeChange($event)\"\n    >\n      <ng-container footerFrom>\n        <prizm-input-layout label=\"\u0412\u0440\u0435\u043C\u044F\">\n          <prizm-input-layout-time\n            [style.--prizm-dropdown-host-width]=\"'100%'\"\n            [ngModelOptions]=\"{ standalone: true }\"\n            [ngModel]=\"value?.timeRange?.from\"\n            [items]=\"timeItems\"\n            [strict]=\"timeStrict\"\n            [mode]=\"timeMode\"\n            (ngModelChange)=\"updateTimeFrom($event)\"\n          >\n          </prizm-input-layout-time>\n        </prizm-input-layout>\n      </ng-container>\n      <ng-container footerTo>\n        <prizm-input-layout label=\"\u0412\u0440\u0435\u043C\u044F\">\n          <prizm-input-layout-time\n            [style.--prizm-dropdown-host-width]=\"'100%'\"\n            [ngModelOptions]=\"{ standalone: true }\"\n            [ngModel]=\"value?.timeRange?.to\"\n            [ngModelOptions]=\"{ standalone: true }\"\n            [strict]=\"timeStrict\"\n            [items]=\"timeItems\"\n            [mode]=\"timeMode\"\n            (ngModelChange)=\"updateTimeTo($event)\"\n          >\n          </prizm-input-layout-time>\n        </prizm-input-layout>\n      </ng-container>\n    </prizm-calendar-range>\n  </ng-template>\n</prizm-dropdown-host>\n\n<ng-container *prizmInputLayoutRight>\n  <button\n    [interactive]=\"true\"\n    [style.--prizm-input-icon-button-width]=\"'24px'\"\n    [disabled]=\"!!disabled\"\n    (click)=\"focusableElementRef.focus(); onOpenChange(!open)\"\n    prizmInputIconButton=\"date-calendar-range\"\n  ></button>\n  <!--  TODO add after create time-range modal -->\n  <!--  <button-->\n  <!--    [interactive]=\"true\"-->\n  <!--    [disabled]=\"disabled\"-->\n  <!--    (click)=\"onOpen(!open)\"-->\n  <!--    prizmInputIconButton=\"date-clock\"-->\n  <!--  ></button>-->\n  <ng-container *ngFor=\"let button of rightButtons$ | async\" [ngTemplateOutlet]=\"button.template\">\n  </ng-container>\n</ng-container>\n", styles: [":host{display:block}:host._disabled{pointer-events:none}.z-hosted{display:block;border-radius:inherit}.z-textfield{border-radius:inherit;text-align:inherit}.z-icon{pointer-events:auto}input{width:calc(var(--prizm-input-in-zone-max-size) * 1cm)}\n", ":host{display:block}:host::placeholder{color:var(--prizm-v3-text-icon-disable)}.multiple-input-box{display:flex;gap:2px;padding:22px 8px 4px 0}.multiple-input-box input{width:calc(var(--prizm-input-in-zone-max-size) * .9ch)}.multiple-input-box .input-main.show-placeholder{width:100%}.multiple-input-box .input-main.show-placeholder~input,.multiple-input-box .input-main.show-placeholder~.delimiter{display:none}:host-context(.prizm-input-form-outer) .multiple-input-box{padding:7px 0}:host-context(.prizm-input-form-outer[data-size=\"l\"]) .multiple-input-box{padding:11px 0}:host-context(.prizm-input-form-outer[data-size=\"m\"]) .multiple-input-box{padding:7px 0}:host-context(.prizm-input-form-outer[data-size=\"s\"]) .multiple-input-box{font-size:12px;padding:4px 0}:host-context(.prizm-input-form-inner) :host-context(.prizm-input-empty-label) .multiple-input-box{padding-top:4px}:host-context(.prizm-input-form-inner) :host-context(.prizm-input-empty-label) .multiple-input-box :host::placeholder{opacity:1}:host-context(.prizm-input-form-inner) .multiple-input-box{padding:22px 8px 4px 0}:host-context(.prizm-input-form-inner) .multiple-input-box :host::placeholder{opacity:0}:host-context(.prizm-input-form-inner) .multiple-input-box :host:focus::placeholder{opacity:1;transition:opacity .2s ease 0s}:host-context(.prizm-input-form-center){text-align:center}:host-context(.prizm-input-form-inner[data-size=\"l\"]) :host-context(.prizm-input-empty-label) .multiple-input-box{padding-top:4px}:host-context(.prizm-input-form-inner[data-size=\"l\"]) .multiple-input-box{padding:22px 8px 4px 0}:host-context(.prizm-input-form-inner[data-size=\"m\"]) .multiple-input-box{padding:16px 8px 2px 0}:host-context(.prizm-input-form-inner[data-size=\"m\"]) :host-context(.prizm-input-empty-label) .multiple-input-box{padding-top:2px}.placeholder-input-search.hidden{position:absolute;top:-10000px;left:-10000px;opacity:0}.placeholder-input-search:not(.hidden)~input,.placeholder-input-search:not(.hidden)~.delimiter{display:none}.delimiter{line-height:16px;height:16px;margin:0 .25ch}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "pipe", type: i1.AsyncPipe, name: "async" }, { kind: "ngmodule", type: PrizmMaskModule }, { kind: "directive", type: i2.NgxMaskDirective, selector: "input[mask], textarea[mask]", inputs: ["mask", "specialCharacters", "patterns", "prefix", "suffix", "thousandSeparator", "decimalMarker", "dropSpecialCharacters", "hiddenInput", "showMaskTyped", "placeHolderCharacter", "shownMaskExpression", "showTemplate", "clearIfNotMatch", "validation", "separatorLimit", "allowNegativeNumbers", "leadZeroDateTime", "leadZero", "triggerOnMaskChange", "apm"], outputs: ["maskFilled"], exportAs: ["mask", "ngxMask"] }, { kind: "ngmodule", type: PrizmInputZoneModule }, { kind: "directive", type: i3.PrizmInputZoneDirective, selector: "[prizmInputZone]", outputs: ["focused$", "blur$"], exportAs: ["prizmInputZone"] }, { kind: "directive", type: i4.PrizmInputInZoneDirective, selector: "input[prizmInputInZone]", inputs: ["idx", "maxSize"], outputs: ["updateNativeValue", "focused$", "blured$"], exportAs: ["prizmInputInZone"] }, { kind: "ngmodule", type: PrizmLifecycleModule }, { kind: "directive", type: i5.PrizmLifecycleDirective, selector: "[prizmLifecycle], [prizmAfterViewInit], [prizmAfterContentInit], [prizmOnInit], [prizmOnDestroy]", outputs: ["prizmAfterViewInit", "prizmOnInit", "prizmAfterContentInit", "prizmOnDestroy"], exportAs: ["prizmLifecycle"] }, { kind: "ngmodule", type: PrizmInputLayoutTimeModule }, { kind: "component", type: i6.PrizmInputLayoutTimeComponent, selector: "prizm-input-layout-time", inputs: ["placeholder", "disabledItemHandler", "items", "itemSize", "strict", "mode", "extraButtonInjector"] }, { kind: "component", type: i7.PrizmInputLayoutComponent, selector: "prizm-input-layout", inputs: ["label", "size", "status", "outer", "clearButton", "border", "position", "forceClear"], outputs: ["clear"] }, { kind: "component", type: i8.PrizmInputIconButtonComponent, selector: "button[prizmInputIconButton]", inputs: ["size", "prizmInputIconButton", "interactive", "disabled", "type"] }, { kind: "directive", type: i9.PrizmInputLayoutRightDirective, selector: "ng-template[prizmInputLayoutRight]" }, { kind: "component", type: i10.PrizmInputTextComponent, selector: "input[prizmInput]:not([type=number]), textarea[prizmInput], input[prizmInputPassword]", inputs: ["disabled", "placeholder", "required", "value"], outputs: ["enter", "onClear", "valueChanged"], exportAs: ["prizmInput"] }, { kind: "ngmodule", type: PrizmInputTextModule }, { kind: "component", type: PrizmDropdownHostComponent, selector: "prizm-dropdown-host", inputs: ["content", "prizmDropdownHostId", "prizmDropdownCustomContext", "delay", "canOpen", "closeByEsc", "closeOnOutsideClick", "prizmDropdownHost", "prizmDropdownHostWidth", "autoReposition", "placement", "isOpen", "dropdownStyles", "dropdownClasses"], outputs: ["isOpenChange"], exportAs: ["prizm-dropdown-host"] }, { kind: "component", type: PrizmCalendarRangeComponent, selector: "prizm-calendar-range", inputs: ["defaultViewedMonth", "disabledItemHandler", "markerHandler", "items", "min", "max", "minLength", "maxLength", "value"], outputs: ["valueChange", "rangeChange"] }, { kind: "ngmodule", type: PrizmValueAccessorModule }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i11.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i11.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i11.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }] }); }
}
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Function)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "disabledItemHandler", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Function)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "markerHandler", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Object)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "defaultViewedMonth", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Array)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "items", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Object)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "placeholder", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Object)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "min", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Object)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "max", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Object)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "timeStrict", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Object)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "minLength", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Object)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "maxLength", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", String)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "timeMode", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Array)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "timeItems", void 0);
__decorate([
    prizmDefaultProp(),
    __metadata("design:type", Injector)
], PrizmInputLayoutDateTimeRangeComponent.prototype, "extraButtonInjector", void 0);
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.8", ngImport: i0, type: PrizmInputLayoutDateTimeRangeComponent, decorators: [{
            type: Component,
            args: [{ selector: `prizm-input-layout-date-time-range`, providers: [
                        ...prizmI18nInitWithKeys({
                            time: PRIZM_TIME_TEXTS,
                            dateTexts: PRIZM_DATE_TEXTS,
                        }),
                        {
                            provide: NG_VALUE_ACCESSOR,
                            useExisting: forwardRef(() => PrizmInputLayoutDateTimeRangeComponent),
                            multi: true,
                        },
                        PrizmDestroyService,
                        { provide: PrizmInputControl, useExisting: PrizmInputLayoutDateTimeRangeComponent },
                    ], standalone: true, imports: [
                        CommonModule,
                        PrizmInputLayoutDateTimeRangeComponent,
                        PrizmMaskModule,
                        PrizmInputZoneModule,
                        PrizmLifecycleModule,
                        PrizmLetDirective,
                        PrizmDataListComponent,
                        PrizmInputLayoutTimeModule,
                        PolymorphOutletDirective,
                        PrizmInputTextModule,
                        PrizmIconComponent,
                        PrizmDropdownHostComponent,
                        PrizmCalendarRangeComponent,
                        PrizmValueAccessorModule,
                        FormsModule,
                    ], template: "<prizm-dropdown-host\n  class=\"z-hosted\"\n  [canOpen]=\"canOpen\"\n  [content]=\"dropdown\"\n  [closeByEsc]=\"true\"\n  [closeOnOutsideClick]=\"closeOnOutsideClick\"\n  [prizmDropdownHostWidth]=\"'auto'\"\n  [isOpen]=\"canOpen && !disabled && open\"\n  [prizmDropdownHost]=\"layoutComponent?.el?.nativeElement\"\n  (isOpenChange)=\"onOpenChange($event)\"\n  prizmDropdownHostWidth=\"auto\"\n>\n  <div\n    class=\"multiple-input-box\"\n    #focusableElementRef=\"prizmInputZone\"\n    [attr.data-placeholder]=\"placeholder\"\n    prizmInputZone\n  >\n    <input\n      class=\"input-main\"\n      [class.show-placeholder]=\"\n        (empty | async) && (disabled || (focusableElementRef.focused$ | async) !== true)\n      \"\n      [placeholder]=\"placeholder\"\n      [mask]=\"computedDateMask\"\n      [clearIfNotMatch]=\"false\"\n      [showMaskTyped]=\"(focusableElementRef.focused$ | async) || (hasNativeValue$ | async)\"\n      [dropSpecialCharacters]=\"false\"\n      [disabled]=\"disabled\"\n      [ngModelOptions]=\"{ standalone: true }\"\n      [ngModel]=\"fromValue\"\n      [size]=\"computedDateMask.length\"\n      [maxLength]=\"computedDateMask.length + 1\"\n      [maxSize]=\"computedDateMask.length\"\n      (click)=\"referFocusToMain(!fromValue)\"\n      (ngModelChange)=\"onDateValueChange($event || '', true)\"\n      style=\"padding: 0\"\n      prizmInput\n      prizmInputInZone\n    />\n    <input\n      class=\"input-time\"\n      [mask]=\"computedTimeMask\"\n      [dropSpecialCharacters]=\"false\"\n      [clearIfNotMatch]=\"false\"\n      [showMaskTyped]=\"(focusableElementRef.focused$ | async) || (hasNativeValue$ | async)\"\n      [disabled]=\"disabled\"\n      [ngModelOptions]=\"{ standalone: true }\"\n      [ngModel]=\"fromTimeValue\"\n      [size]=\"computedTimeMask.length\"\n      [maxLength]=\"computedTimeMask.length + 1\"\n      [maxSize]=\"computedTimeMask.length\"\n      (ngModelChange)=\"onTimeValueChange($event, true)\"\n      style=\"padding: 0\"\n      prizmInput\n      prizmInputInZone\n    />\n    <span class=\"delimiter\">-</span>\n    <input\n      class=\"input-time\"\n      [mask]=\"computedDateMask\"\n      [dropSpecialCharacters]=\"false\"\n      [clearIfNotMatch]=\"false\"\n      [showMaskTyped]=\"(focusableElementRef.focused$ | async) || (hasNativeValue$ | async)\"\n      [disabled]=\"!!disabled\"\n      [ngModelOptions]=\"{ standalone: true }\"\n      [ngModel]=\"toValue\"\n      [size]=\"computedDateMask.length\"\n      [maxLength]=\"computedDateMask.length + 1\"\n      [maxSize]=\"computedDateMask.length\"\n      (ngModelChange)=\"onDateValueChange($event || '', false)\"\n      style=\"padding: 0\"\n      prizmInput\n      prizmInputInZone\n    />\n    <input\n      class=\"input-time\"\n      [mask]=\"computedTimeMask\"\n      [dropSpecialCharacters]=\"false\"\n      [clearIfNotMatch]=\"false\"\n      [showMaskTyped]=\"(focusableElementRef.focused$ | async) || (hasNativeValue$ | async)\"\n      [disabled]=\"!!disabled\"\n      [ngModelOptions]=\"{ standalone: true }\"\n      [ngModel]=\"toTimeValue\"\n      [size]=\"computedTimeMask.length\"\n      [maxLength]=\"computedTimeMask.length + 1\"\n      [maxSize]=\"computedTimeMask.length\"\n      (ngModelChange)=\"onTimeValueChange($event, false)\"\n      style=\"padding: 0\"\n      prizmInput\n      prizmInputInZone\n    />\n  </div>\n\n  <!--  TODO add after create time range component -->\n  <!--  <ng-template #dropdownTimeTemplate>-->\n  <!--    <prizm-data-list-->\n  <!--      class=\"block\"-->\n  <!--      *ngIf=\"timeItems.length\"-->\n  <!--      [style.&#45;&#45;prizm-data-list-border]=\"0\"-->\n  <!--      (prizmAfterViewInit)=\"markAsTouched(); prizmDropdownHostComponent.reCalculatePositions()\"-->\n  <!--      (prizmOnDestroy)=\"openTimeTemplate = false\"-->\n  <!--      prizmLifecycle-->\n  <!--    >-->\n  <!--      <ng-container>-->\n  <!--        <div-->\n  <!--          class=\"time-item\"-->\n  <!--          *ngFor=\"let item of timeItems; let idx = index\"-->\n  <!--          (click)=\"$event.stopPropagation(); onTimeMenuClick(item, $event)\"-->\n  <!--        >-->\n  <!--        <span class=\"text\">-->\n  <!--          {{ item }}-->\n  <!--        </span>-->\n  <!--        </div>-->\n  <!--      </ng-container>-->\n  <!--    </prizm-data-list>-->\n  <!--  </ng-template>-->\n  <!--  -->\n  <ng-template #dropdown>\n    <prizm-calendar-range\n      [style.--prizm-input-layout-width]=\"'100%'\"\n      [style.--prizm-dropdown-host-width]=\"'100%'\"\n      [defaultViewedMonth]=\"defaultViewedMonth\"\n      [disabledItemHandler]=\"disabledItemHandler\"\n      [items]=\"items\"\n      [min]=\"calendarMinDay\"\n      [max]=\"calendarMaxDay\"\n      [markerHandler]=\"markerHandler\"\n      [minLength]=\"minLength\"\n      [maxLength]=\"maxLength\"\n      [value]=\"$any(value?.dayRange)\"\n      (prizmAfterViewInit)=\"markAsTouched()\"\n      (valueChange)=\"onRangeChange($event)\"\n    >\n      <ng-container footerFrom>\n        <prizm-input-layout label=\"\u0412\u0440\u0435\u043C\u044F\">\n          <prizm-input-layout-time\n            [style.--prizm-dropdown-host-width]=\"'100%'\"\n            [ngModelOptions]=\"{ standalone: true }\"\n            [ngModel]=\"value?.timeRange?.from\"\n            [items]=\"timeItems\"\n            [strict]=\"timeStrict\"\n            [mode]=\"timeMode\"\n            (ngModelChange)=\"updateTimeFrom($event)\"\n          >\n          </prizm-input-layout-time>\n        </prizm-input-layout>\n      </ng-container>\n      <ng-container footerTo>\n        <prizm-input-layout label=\"\u0412\u0440\u0435\u043C\u044F\">\n          <prizm-input-layout-time\n            [style.--prizm-dropdown-host-width]=\"'100%'\"\n            [ngModelOptions]=\"{ standalone: true }\"\n            [ngModel]=\"value?.timeRange?.to\"\n            [ngModelOptions]=\"{ standalone: true }\"\n            [strict]=\"timeStrict\"\n            [items]=\"timeItems\"\n            [mode]=\"timeMode\"\n            (ngModelChange)=\"updateTimeTo($event)\"\n          >\n          </prizm-input-layout-time>\n        </prizm-input-layout>\n      </ng-container>\n    </prizm-calendar-range>\n  </ng-template>\n</prizm-dropdown-host>\n\n<ng-container *prizmInputLayoutRight>\n  <button\n    [interactive]=\"true\"\n    [style.--prizm-input-icon-button-width]=\"'24px'\"\n    [disabled]=\"!!disabled\"\n    (click)=\"focusableElementRef.focus(); onOpenChange(!open)\"\n    prizmInputIconButton=\"date-calendar-range\"\n  ></button>\n  <!--  TODO add after create time-range modal -->\n  <!--  <button-->\n  <!--    [interactive]=\"true\"-->\n  <!--    [disabled]=\"disabled\"-->\n  <!--    (click)=\"onOpen(!open)\"-->\n  <!--    prizmInputIconButton=\"date-clock\"-->\n  <!--  ></button>-->\n  <ng-container *ngFor=\"let button of rightButtons$ | async\" [ngTemplateOutlet]=\"button.template\">\n  </ng-container>\n</ng-container>\n", styles: [":host{display:block}:host._disabled{pointer-events:none}.z-hosted{display:block;border-radius:inherit}.z-textfield{border-radius:inherit;text-align:inherit}.z-icon{pointer-events:auto}input{width:calc(var(--prizm-input-in-zone-max-size) * 1cm)}\n", ":host{display:block}:host::placeholder{color:var(--prizm-v3-text-icon-disable)}.multiple-input-box{display:flex;gap:2px;padding:22px 8px 4px 0}.multiple-input-box input{width:calc(var(--prizm-input-in-zone-max-size) * .9ch)}.multiple-input-box .input-main.show-placeholder{width:100%}.multiple-input-box .input-main.show-placeholder~input,.multiple-input-box .input-main.show-placeholder~.delimiter{display:none}:host-context(.prizm-input-form-outer) .multiple-input-box{padding:7px 0}:host-context(.prizm-input-form-outer[data-size=\"l\"]) .multiple-input-box{padding:11px 0}:host-context(.prizm-input-form-outer[data-size=\"m\"]) .multiple-input-box{padding:7px 0}:host-context(.prizm-input-form-outer[data-size=\"s\"]) .multiple-input-box{font-size:12px;padding:4px 0}:host-context(.prizm-input-form-inner) :host-context(.prizm-input-empty-label) .multiple-input-box{padding-top:4px}:host-context(.prizm-input-form-inner) :host-context(.prizm-input-empty-label) .multiple-input-box :host::placeholder{opacity:1}:host-context(.prizm-input-form-inner) .multiple-input-box{padding:22px 8px 4px 0}:host-context(.prizm-input-form-inner) .multiple-input-box :host::placeholder{opacity:0}:host-context(.prizm-input-form-inner) .multiple-input-box :host:focus::placeholder{opacity:1;transition:opacity .2s ease 0s}:host-context(.prizm-input-form-center){text-align:center}:host-context(.prizm-input-form-inner[data-size=\"l\"]) :host-context(.prizm-input-empty-label) .multiple-input-box{padding-top:4px}:host-context(.prizm-input-form-inner[data-size=\"l\"]) .multiple-input-box{padding:22px 8px 4px 0}:host-context(.prizm-input-form-inner[data-size=\"m\"]) .multiple-input-box{padding:16px 8px 2px 0}:host-context(.prizm-input-form-inner[data-size=\"m\"]) :host-context(.prizm-input-empty-label) .multiple-input-box{padding-top:2px}.placeholder-input-search.hidden{position:absolute;top:-10000px;left:-10000px;opacity:0}.placeholder-input-search:not(.hidden)~input,.placeholder-input-search:not(.hidden)~.delimiter{display:none}.delimiter{line-height:16px;height:16px;margin:0 .25ch}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef, decorators: [{
                    type: Inject,
                    args: [ChangeDetectorRef]
                }] }, { type: i0.Injector, decorators: [{
                    type: Inject,
                    args: [Injector]
                }] }, { type: i12.PrizmDialogService, decorators: [{
                    type: Inject,
                    args: [PrizmDialogService]
                }] }, { type: undefined, decorators: [{
                    type: Optional
                }, {
                    type: Inject,
                    args: [PRIZM_DATE_FORMAT]
                }] }, { type: undefined, decorators: [{
                    type: Inject,
                    args: [PRIZM_DATE_SEPARATOR]
                }] }, { type: i13.Observable, decorators: [{
                    type: Inject,
                    args: [PRIZM_DATE_TEXTS]
                }] }, { type: undefined, decorators: [{
                    type: Optional
                }, {
                    type: Inject,
                    args: [PRIZM_DATE_RANGE_VALUE_TRANSFORMER]
                }] }]; }, propDecorators: { focusableElement: [{
                type: ViewChild,
                args: ['focusableElementRef', { read: PrizmInputZoneDirective }]
            }], footerFromTemplate: [{
                type: ContentChild,
                args: ['footerFrom', { read: TemplateRef }]
            }], footerToTemplate: [{
                type: ContentChild,
                args: ['footerTo', { read: TemplateRef }]
            }], disabledItemHandler: [{
                type: Input
            }], markerHandler: [{
                type: Input
            }], defaultViewedMonth: [{
                type: Input
            }], items: [{
                type: Input
            }], placeholder: [{
                type: Input
            }], min: [{
                type: Input
            }], max: [{
                type: Input
            }], timeStrict: [{
                type: Input
            }], minLength: [{
                type: Input
            }], maxLength: [{
                type: Input
            }], timeMode: [{
                type: Input
            }], timeItems: [{
                type: Input
            }], extraButtonInjector: [{
                type: Input
            }] } });
// TODO refactotor and move to utils
function hasValueInArray(values) {
    return !!values.find(i => Boolean(i));
}
function emptyValue(values) {
    return !values || (Array.isArray(values) && !hasValueInArray(values));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQtbGF5b3V0LWRhdGUtdGltZS1yYW5nZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2NvbXBvbmVudHMvc3JjL2xpYi9jb21wb25lbnRzL2lucHV0L2lucHV0LWRhdGUtdGltZS1yYW5nZS9pbnB1dC1sYXlvdXQtZGF0ZS10aW1lLXJhbmdlLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvY29tcG9uZW50cy9zcmMvbGliL2NvbXBvbmVudHMvaW5wdXQvaW5wdXQtZGF0ZS10aW1lLXJhbmdlL2lucHV0LWxheW91dC1kYXRlLXRpbWUtcmFuZ2UuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFFTCxpQkFBaUIsRUFDakIsU0FBUyxFQUNULFlBQVksRUFDWixVQUFVLEVBQ1YsTUFBTSxFQUNOLFFBQVEsRUFDUixLQUFLLEVBRUwsUUFBUSxFQUNSLFdBQVcsRUFDWCxTQUFTLEdBQ1YsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLFdBQVcsRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2hFLE9BQU8sRUFBRSxlQUFlLEVBQUUsYUFBYSxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDdEUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBQ25FLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUVsRCxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSx5Q0FBeUMsQ0FBQztBQUVyRixPQUFPLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSwyQ0FBMkMsQ0FBQztBQUN6RixPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFFNUQsT0FBTyxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsTUFBTSxxQ0FBcUMsQ0FBQztBQUV0RixPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSx5Q0FBeUMsQ0FBQztBQUMvRSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxxQ0FBcUMsQ0FBQztBQUN6RSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQztBQUV6RSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUMxRSxPQUFPLEVBQUUsa0NBQWtDLEVBQUUsTUFBTSxnREFBZ0QsQ0FBQztBQUVwRyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxvQ0FBb0MsQ0FBQztBQUN2RSxPQUFPLEVBQUUsWUFBWSxFQUFFLG1CQUFtQixFQUFFLGlCQUFpQixFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDekYsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sb0NBQW9DLENBQUM7QUFDdkUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sdUNBQXVDLENBQUM7QUFDNUUsT0FBTyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDdkcsT0FBTyxFQUNMLHNCQUFzQixFQUN0QixhQUFhLEVBQ2Isa0JBQWtCLEVBQ2xCLFNBQVMsRUFDVCxjQUFjLEdBQ2YsTUFBTSxnQkFBZ0IsQ0FBQztBQUN4QixPQUFPLEVBQUUsdUJBQXVCLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUUvRixPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQztBQUM5RSxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUUzRCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ25ELE9BQU8sRUFDTCx3QkFBd0IsRUFDeEIsb0JBQW9CLEVBQ3BCLHdCQUF3QixHQUN6QixNQUFNLHFCQUFxQixDQUFDO0FBQzdCLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3pELE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzRCxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDckQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ2hELE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQzNFLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLHNCQUFzQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUF5Q25FLE1BQU0sT0FBTyxzQ0FDWCxTQUFRLG1CQUE4QztJQTJFdEQsSUFBSSxXQUFXO1FBQ2IsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDeEIsQ0FBQztJQUlELElBQUksY0FBYztRQUNoQixPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUVELElBQUksY0FBYztRQUNoQixPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDekMsQ0FBQztJQXlDRCxJQUFhLEtBQUs7UUFDaEIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3JCLENBQUM7SUFFRCxZQUM2QixpQkFBb0MsRUFDN0MsUUFBa0IsRUFDUyxhQUFpQyxFQUdyRSxVQUF5QixFQUNLLGFBQXFCLEVBRW5ELFVBQXFELEVBRzVDLGdCQUFnRjtRQUVsRyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7UUFYNkIsa0JBQWEsR0FBYixhQUFhLENBQW9CO1FBR3JFLGVBQVUsR0FBVixVQUFVLENBQWU7UUFDSyxrQkFBYSxHQUFiLGFBQWEsQ0FBUTtRQUVuRCxlQUFVLEdBQVYsVUFBVSxDQUEyQztRQUc1QyxxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQWdFO1FBN0lwRyxtQkFBYyxHQUFHLElBQUksQ0FBQztRQUN0QixzQkFBaUIsR0FBRyx5QkFBeUIsQ0FBQztRQWE5Qyx3QkFBbUIsR0FBa0MsMEJBQTBCLENBQUM7UUFJaEYsa0JBQWEsR0FBdUIsNEJBQTRCLENBQUM7UUFJakUsdUJBQWtCLEdBQUcsVUFBVSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBSS9DLFVBQUssR0FBbUMsRUFBRSxDQUFDO1FBSTNDLGdCQUFXLEdBQUcsRUFBRSxDQUFDO1FBSWpCLFFBQUcsR0FBd0IsZUFBZSxDQUFDO1FBSTNDLFFBQUcsR0FBd0IsY0FBYyxDQUFDO1FBSTFDLGVBQVUsR0FBRyxLQUFLLENBQUM7UUFJbkIsY0FBUyxHQUF3QixJQUFJLENBQUM7UUFJdEMsY0FBUyxHQUF3QixJQUFJLENBQUM7UUFFdEMsU0FBSSxHQUFHLEtBQUssQ0FBQztRQUNiLGVBQWU7UUFDZiw0QkFBNEI7UUFJNUIsYUFBUSxHQUFrQixPQUFPLENBQUM7UUFJbEMsY0FBUyxHQUF5QixJQUFJLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUlwRyx3QkFBbUIsR0FBYSxJQUFJLENBQUMsUUFBUSxDQUFDO1FBRTVCLFlBQU8sR0FBRywwQkFBMEIsQ0FBQztRQUV2RCxjQUFTLEdBQUcsSUFBSSxhQUFhLENBQUMsSUFBSSxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFnQnpFLDBCQUFxQixHQUFHLElBQUksZUFBZSxDQUFTLEVBQUUsQ0FBQyxDQUFDO1FBQ3hELHdCQUFtQixHQUFHLElBQUksZUFBZSxDQUFTLEVBQUUsQ0FBQyxDQUFDO1FBRXRELHNCQUFpQixHQUFHLElBQUksZUFBZSxDQUFTLEVBQUUsQ0FBQyxDQUFDO1FBQ3BELG9CQUFlLEdBQUcsSUFBSSxlQUFlLENBQVMsRUFBRSxDQUFDLENBQUM7UUFFbEQsa0JBQWEsR0FBRyxhQUFhLENBQUM7WUFDckMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1lBQ25ELElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztZQUN2RCxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1lBQ2pELElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztTQUN0RCxDQUFDLENBQUMsSUFBSSxDQUNMLFlBQVksQ0FBQyxDQUFDLENBQUMsRUFDZixHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLE1BQU0sQ0FBQyxFQUFFLEVBQUU7WUFDbkMsT0FBTztnQkFDTCxTQUFTLEVBQUUsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDO2dCQUM3QixRQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDO2FBQ3JCLENBQUM7UUFDSixDQUFDLENBQUMsQ0FDSCxDQUFDO1FBRU8sb0JBQWUsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FDaEQsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQ1YsT0FBTyxlQUFlLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxJQUFJLGVBQWUsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDL0UsQ0FBQyxDQUFDLEVBQ0YsS0FBSyxFQUFFLENBQ1IsQ0FBQztRQUVPLFdBQU0sR0FBRyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FDckUsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLEVBQUUsRUFBRTtZQUMzQixPQUFPLENBQ0wsVUFBVSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUM7Z0JBQzNCLFVBQVUsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDO2dCQUNoQyxVQUFVLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQztnQkFDNUIsVUFBVSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FDbEMsQ0FBQztRQUNKLENBQUMsQ0FBQyxDQUNvQixDQUFDO1FBK0JsQix3QkFBbUIsR0FBRyxJQUFJLENBQUM7SUFWbEMsQ0FBQztJQUVELElBQVcsT0FBTztRQUNoQixPQUFPLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxRQUFRLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3RELENBQUM7SUFFRCxJQUFXLE9BQU87UUFDaEIsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQzFCLENBQUM7SUFJRCxJQUFJLGdCQUFnQjtRQUNsQixPQUFPLHNCQUFzQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRUQsSUFBSSxnQkFBZ0I7UUFDbEIsT0FBTyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUNyRSxDQUFDO0lBRUQsSUFBSSxTQUFTO1FBQ1gsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQztRQUMzRCxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ1YsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQztTQUMzQztRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUNELElBQUksYUFBYTtRQUNmLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2pFLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDUixPQUFPLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDO1NBQy9DO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDO0lBQ0QsSUFBSSxPQUFPO1FBQ1QsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQztRQUN6RCxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ1YsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUM7U0FDekM7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFDRCxJQUFJLFdBQVc7UUFDYixNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUMvRCxJQUFJLENBQUMsR0FBRyxFQUFFO1lBQ1IsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQztTQUM3QztRQUNELE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQztJQUVNLFlBQVksQ0FBQyxJQUFhO1FBQy9CLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUN4QyxDQUFDO0lBRU8sMkJBQTJCO1FBQ2pDLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUM7UUFDL0MsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUM7UUFDM0MsTUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEtBQUssQ0FBQztRQUN2RCxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsS0FBSyxDQUFDO1FBRW5ELGdCQUFnQjtRQUNoQixJQUFJLENBQUMsU0FBUyxJQUFJLENBQUMsT0FBTyxJQUFJLENBQUMsYUFBYSxJQUFJLENBQUMsV0FBVztZQUFFLE9BQU87UUFFckUsd0JBQXdCO1FBQ3hCLElBQUksU0FBUyxJQUFJLFNBQVMsQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU07WUFBRSxPQUFPO1FBQzNFLElBQUksT0FBTyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU07WUFBRSxPQUFPO1FBQ3ZFLElBQUksYUFBYSxJQUFJLGFBQWEsQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU07WUFBRSxPQUFPO1FBQ25GLElBQUksV0FBVyxJQUFJLFdBQVcsQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU07WUFBRSxPQUFPO1FBRS9FLE1BQU0sVUFBVSxHQUFHLFNBQVM7WUFDMUIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUM7WUFDckQsQ0FBQyxDQUFDLElBQUksUUFBUSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFLEVBQUUsSUFBSSxJQUFJLEVBQUUsQ0FBQyxRQUFRLEVBQUUsRUFBRSxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7UUFFeEYsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFckcsTUFBTSxZQUFZLEdBQUcsU0FBUyxDQUFDLFdBQVcsQ0FDeEMsV0FBVyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLFNBQVMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQ3hFLENBQUM7UUFFRixNQUFNLGNBQWMsR0FBRyxTQUFTLENBQUMsV0FBVyxDQUMxQyxhQUFhLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FDMUUsQ0FBQztRQUVGLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDOUQsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUNwRSxJQUFJLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDMUUsQ0FBQztJQUVNLGVBQWU7UUFDcEIsSUFBSSxDQUFDLGdCQUFnQixFQUFFLEtBQUs7YUFDekIsSUFBSSxDQUNILFlBQVksQ0FBQyxDQUFDLENBQUMsRUFDZixZQUFZLEVBQUUsRUFDZCxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLDJCQUEyQixFQUFFLENBQUMsRUFDN0MsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FDekI7YUFDQSxTQUFTLEVBQUUsQ0FBQztJQUNqQixDQUFDO0lBRWUsUUFBUTtRQUN0QixLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDakIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLHdCQUF3QixDQUFDLENBQUM7UUFFNUUsSUFBSSxDQUFDLGFBQWE7YUFDZixJQUFJLENBQ0gsR0FBRyxDQUFDLENBQUMsRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRTtZQUM5QixNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUIsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVCLE1BQU0sYUFBYSxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNuQyxNQUFNLFdBQVcsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFakMsSUFBSSxDQUFDLFNBQVMsSUFBSSxTQUFTLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNO2dCQUFFLE9BQU87WUFDNUUsSUFBSSxDQUFDLE9BQU8sSUFBSSxPQUFPLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNO2dCQUFFLE9BQU87WUFDeEUsSUFBSSxDQUFDLGFBQWEsSUFBSSxhQUFhLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNO2dCQUFFLE9BQU87WUFDcEYsSUFBSSxDQUFDLFdBQVcsSUFBSSxXQUFXLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNO2dCQUFFLE9BQU87WUFFaEYsSUFDRSxTQUFTLEtBQUssSUFBSSxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDbkQsYUFBYSxLQUFLLElBQUksQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztnQkFDckUsT0FBTyxLQUFLLElBQUksQ0FBQyxLQUFLLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxRQUFRLEVBQUU7Z0JBQy9DLFdBQVcsS0FBSyxJQUFJLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFDakU7Z0JBQ0EsT0FBTzthQUNSO1lBRUQsSUFBSSxDQUFDLDRCQUE0QjtZQUMvQiw2REFBNkQ7WUFDN0QsYUFBYTtZQUNiLFNBQVMsSUFBSSxTQUFTLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLElBQUksU0FBUyxFQUMzRSxPQUFPLElBQUksT0FBTyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxJQUFJLE9BQU8sRUFDckUsYUFBYSxJQUFJLGFBQWEsQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sSUFBSSxhQUFhLEVBQ3ZGLFdBQVcsSUFBSSxXQUFXLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLElBQUksV0FBVyxDQUNsRixDQUFDO1FBQ0osQ0FBQyxDQUFDLEVBQ0YsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FDekI7YUFDQSxTQUFTLEVBQUUsQ0FBQztJQUNqQixDQUFDO0lBRU8sWUFBWSxDQUFDLEtBQTBCO1FBQzdDLE9BQU8sS0FBSyxZQUFZLFNBQVMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUMzRSxDQUFDO0lBRU0saUJBQWlCLENBQUMsS0FBYSxFQUFFLFdBQW9CO1FBQzFELElBQUksV0FBVyxJQUFJLEtBQUssS0FBSyxJQUFJLENBQUMsU0FBUztZQUFFLE9BQU87UUFDcEQsSUFBSSxDQUFDLFdBQVcsSUFBSSxLQUFLLEtBQUssSUFBSSxDQUFDLE9BQU87WUFBRSxPQUFPO1FBRW5ELElBQUksV0FBVztZQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7O1lBQy9DLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRXRDLElBQUksS0FBSyxJQUFJLElBQUksRUFBRTtZQUNqQixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3pCO0lBQ0gsQ0FBQztJQUVNLGlCQUFpQixDQUFDLEtBQWEsRUFBRSxXQUFvQjtRQUMxRCxJQUFJLFdBQVcsSUFBSSxLQUFLLEtBQUssSUFBSSxDQUFDLGFBQWE7WUFBRSxPQUFPO1FBQ3hELElBQUksQ0FBQyxXQUFXLElBQUksS0FBSyxLQUFLLElBQUksQ0FBQyxXQUFXO1lBQUUsT0FBTztRQUN2RCxJQUFJLFdBQVc7WUFBRSxJQUFJLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDOztZQUNuRCxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRTFDLElBQUksS0FBSyxJQUFJLElBQUksRUFBRTtZQUNqQixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3pCO0lBQ0gsQ0FBQztJQUVNLGFBQWEsQ0FBQyxLQUEyQjtRQUM5QyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFFbEIsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNWLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQzlCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDakM7UUFFRCxJQUFJLENBQUMsaUJBQWlCLENBQWdCLElBQUksQ0FBQyxLQUFLLEVBQUUsUUFBZSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUNsRyxNQUFNLFFBQVEsR0FBRyxJQUFJLGtCQUFrQixDQUFDLEtBQVksRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsU0FBUyxJQUFJLElBQUksQ0FBUSxDQUFDLENBQUM7WUFDOUYsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUMzQixJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztTQUNuQjtRQUNELElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7UUFDdkQsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQzNELElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUN4QyxDQUFDO0lBRU8sNEJBQTRCLENBQUMsSUFBWSxFQUFFLEVBQVUsRUFBRSxRQUFnQixFQUFFLE1BQWM7UUFDN0YsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQztRQUNwRyxJQUFJLFFBQVEsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDO1FBRTVGLElBQUksVUFBVTtZQUFFLFVBQVUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3ZELElBQUksUUFBUTtZQUFFLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRWpELElBQUksY0FBYyxHQUFHLFFBQVEsSUFBSSxTQUFTLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUN2RixJQUFJLFlBQVksR0FBRyxNQUFNLElBQUksU0FBUyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFFakYsSUFBSSxjQUFjO1lBQUUsY0FBYyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxVQUFpQixFQUFFLGNBQWMsQ0FBQyxDQUFRLENBQUM7UUFDaEcsSUFBSSxZQUFZO1lBQUUsWUFBWSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxRQUFlLEVBQUUsWUFBWSxDQUFDLENBQVEsQ0FBQztRQUV4RixJQUFJLFlBQVksSUFBSSxjQUFjLEVBQUU7WUFDbEMsSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFDZixVQUFVLEdBQUcsUUFBUSxDQUFDLG1CQUFtQixDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQzthQUN2RDtZQUVELElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQ2IsTUFBTSxRQUFRLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDNUIsUUFBUSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pDLFFBQVEsR0FBRyxRQUFRLENBQUMsbUJBQW1CLENBQUMsUUFBUSxDQUFDLENBQUM7YUFDbkQ7U0FDRjtRQUVELElBQUksQ0FBQyxXQUFXLENBQ2QsSUFBSSxrQkFBa0IsQ0FDcEIsQ0FBQyxVQUFVLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLGFBQWEsQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBUSxFQUNoRixDQUFDLGNBQWMsSUFBSSxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksY0FBYyxDQUFDLGNBQWMsRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFRLENBQ2xHLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFTyxTQUFTLENBQUMsS0FBbUM7UUFDbkQsSUFBSSxDQUFDLEtBQUs7WUFBRSxPQUFPLElBQUksQ0FBQztRQUN4QixJQUFJLENBQUMsRUFBRSxVQUFVLENBQUMsR0FBRyxLQUFLLENBQUM7UUFDM0IsSUFBSSxVQUFVO1lBQ1osVUFBVSxHQUFHLFVBQVUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFFeEcsT0FBTyxVQUFVLENBQUM7SUFDcEIsQ0FBQztJQUVPLGdCQUFnQixDQUFDLEtBQTBCO1FBQ2pELE9BQU8sS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLFlBQVksYUFBYSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDOUYsQ0FBQztJQUVPLGlCQUFpQixDQUFDLEtBQTBCO1FBQ2xELE9BQU8sS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLFlBQVksYUFBYSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDOUYsQ0FBQztJQUVPLFFBQVEsQ0FBQyxLQUFlO1FBQzlCLE9BQU8sS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUMxRixDQUFDO0lBRWUsVUFBVSxDQUFDLEtBQWdDO1FBQ3pELEtBQUssQ0FBQyxVQUFVLENBQUMsS0FBWSxDQUFDLENBQUM7UUFDL0IsSUFBSSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZGLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztRQUNuRixJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFFTyxNQUFNO1FBQ1osSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDekIsQ0FBQztJQUVPLFVBQVU7UUFDaEIsSUFBSSxDQUFDLGdCQUFnQixFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBRWUsS0FBSyxDQUFDLEVBQWM7UUFDbEMsRUFBRSxDQUFDLHdCQUF3QixFQUFFLENBQUM7UUFDOUIsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNoQixJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsZUFBZSxFQUFFLEdBQUcsQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUMzQyxDQUFDO0lBRU0sWUFBWSxDQUFDLEtBQWdCO1FBQ2xDLHdCQUF3QjtRQUN4QixJQUNFLEtBQUs7WUFDTCxJQUFJLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxFQUFFLFlBQVksU0FBUztZQUM5QyxJQUFJLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLEtBQUssQ0FBQztZQUU1QyxPQUFPO1FBQ1QsTUFBTSxLQUFLLEdBQUcsa0JBQWtCLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNyRSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFTSxjQUFjLENBQUMsS0FBZ0I7UUFDcEMsd0JBQXdCO1FBQ3hCLElBQ0UsS0FBSztZQUNMLElBQUksQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLElBQUksWUFBWSxTQUFTO1lBQ2hELElBQUksQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxVQUFVLENBQUMsS0FBSyxDQUFDO1lBRTlDLE9BQU87UUFDVCwwRUFBMEU7UUFDMUUsbUNBQW1DO1FBQ25DLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUNqRSxDQUFDO0lBRU0sZ0JBQWdCLENBQUMsVUFBVSxHQUFHLElBQUk7UUFDdkMsSUFBSSxDQUFDLFVBQVU7WUFBRSxPQUFPO1FBQ3hCLHNFQUFzRTtRQUN0RSxFQUFFLENBQUMsSUFBSSxDQUFDO2FBQ0wsSUFBSSxDQUNILEtBQUssQ0FBQyxDQUFDLENBQUMsRUFDUixHQUFHLENBQUMsR0FBRyxFQUFFO1lBQ1AsSUFBSSxDQUFDLGdCQUFnQixFQUFFLGdCQUFnQixFQUFFLENBQUM7UUFDNUMsQ0FBQyxDQUFDLENBQ0g7YUFDQSxTQUFTLEVBQUUsQ0FBQztJQUNqQixDQUFDOzhHQWpjVSxzQ0FBc0Msa0JBc0l2QyxpQkFBaUIsYUFDakIsUUFBUSxhQUNSLGtCQUFrQixhQUVsQixpQkFBaUIsNkJBRWpCLG9CQUFvQixhQUNwQixnQkFBZ0IsYUFHaEIsa0NBQWtDO2tHQWhKakMsc0NBQXNDLDJiQWhDdEM7WUFDVCxHQUFHLHFCQUFxQixDQUFDO2dCQUN2QixJQUFJLEVBQUUsZ0JBQWdCO2dCQUN0QixTQUFTLEVBQUUsZ0JBQWdCO2FBQzVCLENBQUM7WUFDRjtnQkFDRSxPQUFPLEVBQUUsaUJBQWlCO2dCQUMxQixXQUFXLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDLHNDQUFzQyxDQUFDO2dCQUNyRSxLQUFLLEVBQUUsSUFBSTthQUNaO1lBQ0QsbUJBQW1CO1lBQ25CLEVBQUUsT0FBTyxFQUFFLGlCQUFpQixFQUFFLFdBQVcsRUFBRSxzQ0FBc0MsRUFBRTtTQUNwRixtSEE4Qm1DLFdBQVcsdUdBR2IsV0FBVyxpSUFOSCx1QkFBdUIsb0RDaEhuRSxpeE5BeUxBLHExRURqR0ksWUFBWSx1WEFFWixlQUFlLCtoQkFDZixvQkFBb0Isc1lBQ3BCLG9CQUFvQiw4VEFHcEIsMEJBQTBCLHNnQ0FFMUIsb0JBQW9CLCtCQUVwQiwwQkFBMEIsOFhBQzFCLDJCQUEyQiwyT0FDM0Isd0JBQXdCLDhCQUN4QixXQUFXOztBQXFCYjtJQURDLGdCQUFnQixFQUFFOzttRkFDNkQ7QUFJaEY7SUFEQyxnQkFBZ0IsRUFBRTs7NkVBQzhDO0FBSWpFO0lBREMsZ0JBQWdCLEVBQUU7O2tGQUM0QjtBQUkvQztJQURDLGdCQUFnQixFQUFFOztxRUFDd0I7QUFJM0M7SUFEQyxnQkFBZ0IsRUFBRTs7MkVBQ0Y7QUFJakI7SUFEQyxnQkFBZ0IsRUFBRTs7bUVBQ3dCO0FBSTNDO0lBREMsZ0JBQWdCLEVBQUU7O21FQUN1QjtBQUkxQztJQURDLGdCQUFnQixFQUFFOzswRUFDQTtBQUluQjtJQURDLGdCQUFnQixFQUFFOzt5RUFDbUI7QUFJdEM7SUFEQyxnQkFBZ0IsRUFBRTs7eUVBQ21CO0FBUXRDO0lBREMsZ0JBQWdCLEVBQUU7O3dFQUNlO0FBSWxDO0lBREMsZ0JBQWdCLEVBQUU7O3lFQUNpRjtBQUlwRztJQURDLGdCQUFnQixFQUFFOzhCQUNFLFFBQVE7bUZBQWlCOzJGQXRFbkMsc0NBQXNDO2tCQXZDbEQsU0FBUzsrQkFDRSxvQ0FBb0MsYUFNbkM7d0JBQ1QsR0FBRyxxQkFBcUIsQ0FBQzs0QkFDdkIsSUFBSSxFQUFFLGdCQUFnQjs0QkFDdEIsU0FBUyxFQUFFLGdCQUFnQjt5QkFDNUIsQ0FBQzt3QkFDRjs0QkFDRSxPQUFPLEVBQUUsaUJBQWlCOzRCQUMxQixXQUFXLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSx1Q0FBdUMsQ0FBQzs0QkFDckUsS0FBSyxFQUFFLElBQUk7eUJBQ1o7d0JBQ0QsbUJBQW1CO3dCQUNuQixFQUFFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxXQUFXLHdDQUF3QyxFQUFFO3FCQUNwRixjQUNXLElBQUksV0FDUDt3QkFDUCxZQUFZOzt3QkFFWixlQUFlO3dCQUNmLG9CQUFvQjt3QkFDcEIsb0JBQW9CO3dCQUNwQixpQkFBaUI7d0JBQ2pCLHNCQUFzQjt3QkFDdEIsMEJBQTBCO3dCQUMxQix3QkFBd0I7d0JBQ3hCLG9CQUFvQjt3QkFDcEIsa0JBQWtCO3dCQUNsQiwwQkFBMEI7d0JBQzFCLDJCQUEyQjt3QkFDM0Isd0JBQXdCO3dCQUN4QixXQUFXO3FCQUNaOzswQkF3SUUsTUFBTTsyQkFBQyxpQkFBaUI7OzBCQUN4QixNQUFNOzJCQUFDLFFBQVE7OzBCQUNmLE1BQU07MkJBQUMsa0JBQWtCOzswQkFDekIsUUFBUTs7MEJBQ1IsTUFBTTsyQkFBQyxpQkFBaUI7OzBCQUV4QixNQUFNOzJCQUFDLG9CQUFvQjs7MEJBQzNCLE1BQU07MkJBQUMsZ0JBQWdCOzswQkFFdkIsUUFBUTs7MEJBQ1IsTUFBTTsyQkFBQyxrQ0FBa0M7NENBeEluQixnQkFBZ0I7c0JBRHhDLFNBQVM7dUJBQUMscUJBQXFCLEVBQUUsRUFBRSxJQUFJLEVBQUUsdUJBQXVCLEVBQUU7Z0JBSW5ELGtCQUFrQjtzQkFEakMsWUFBWTt1QkFBQyxZQUFZLEVBQUUsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFO2dCQUlqQyxnQkFBZ0I7c0JBRC9CLFlBQVk7dUJBQUMsVUFBVSxFQUFFLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRTtnQkFLL0MsbUJBQW1CO3NCQUZsQixLQUFLO2dCQU1OLGFBQWE7c0JBRlosS0FBSztnQkFNTixrQkFBa0I7c0JBRmpCLEtBQUs7Z0JBTU4sS0FBSztzQkFGSixLQUFLO2dCQU1OLFdBQVc7c0JBRlYsS0FBSztnQkFNTixHQUFHO3NCQUZGLEtBQUs7Z0JBTU4sR0FBRztzQkFGRixLQUFLO2dCQU1OLFVBQVU7c0JBRlQsS0FBSztnQkFNTixTQUFTO3NCQUZSLEtBQUs7Z0JBTU4sU0FBUztzQkFGUixLQUFLO2dCQVVOLFFBQVE7c0JBRlAsS0FBSztnQkFNTixTQUFTO3NCQUZSLEtBQUs7Z0JBTU4sbUJBQW1CO3NCQUZsQixLQUFLOztBQWdZUixvQ0FBb0M7QUFDcEMsU0FBUyxlQUFlLENBQUMsTUFBaUI7SUFDeEMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3hDLENBQUM7QUFDRCxTQUFTLFVBQVUsQ0FBQyxNQUEyQjtJQUM3QyxPQUFPLENBQUMsTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQ3hFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBZnRlclZpZXdJbml0LFxuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgQ29tcG9uZW50LFxuICBDb250ZW50Q2hpbGQsXG4gIGZvcndhcmRSZWYsXG4gIEluamVjdCxcbiAgSW5qZWN0b3IsXG4gIElucHV0LFxuICBPbkluaXQsXG4gIE9wdGlvbmFsLFxuICBUZW1wbGF0ZVJlZixcbiAgVmlld0NoaWxkLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1zTW9kdWxlLCBOR19WQUxVRV9BQ0NFU1NPUiB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgY29tYmluZUxhdGVzdCwgT2JzZXJ2YWJsZSwgb2YgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFByaXptRGF5UmFuZ2UgfSBmcm9tICcuLi8uLi8uLi9AY29yZS9kYXRlLXRpbWUvZGF5LXJhbmdlJztcbmltcG9ydCB7IFByaXptRGF5IH0gZnJvbSAnLi4vLi4vLi4vQGNvcmUvZGF0ZS10aW1lL2RheSc7XG5pbXBvcnQgeyBwcml6bURlZmF1bHRQcm9wIH0gZnJvbSAnQHByaXptLXVpL2NvcmUnO1xuaW1wb3J0IHsgUHJpem1Cb29sZWFuSGFuZGxlciB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL2hhbmRsZXInO1xuaW1wb3J0IHsgUFJJWk1fQUxXQVlTX0ZBTFNFX0hBTkRMRVIgfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMvYWx3YXlzLWZhbHNlLWhhbmRsZXInO1xuaW1wb3J0IHsgUHJpem1NYXJrZXJIYW5kbGVyIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvbWFya2VyLWhhbmRsZXInO1xuaW1wb3J0IHsgUFJJWk1fREVGQVVMVF9NQVJLRVJfSEFORExFUiB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy9kZWZhdWx0LW1hcmtlci1oYW5kbGVyJztcbmltcG9ydCB7IFByaXptTW9udGggfSBmcm9tICcuLi8uLi8uLi9AY29yZS9kYXRlLXRpbWUvbW9udGgnO1xuaW1wb3J0IHsgUHJpem1EYXlSYW5nZVBlcmlvZCB9IGZyb20gJy4uLy4uLy4uL0Bjb3JlL2NsYXNzZXMvZGF5LXJhbmdlLXBlcmlvZCc7XG5pbXBvcnQgeyBQUklaTV9GSVJTVF9EQVksIFBSSVpNX0xBU1RfREFZIH0gZnJvbSAnLi4vLi4vLi4vQGNvcmUvZGF0ZS10aW1lL2RheXMuY29uc3QnO1xuaW1wb3J0IHsgUHJpem1EYXlMaWtlIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvZGF5LWxpa2UnO1xuaW1wb3J0IHsgUFJJWk1fREFURV9TRVBBUkFUT1IgfSBmcm9tICcuLi8uLi8uLi9AY29yZS9kYXRlLXRpbWUvZGF0ZS1zZXBhcmF0b3InO1xuaW1wb3J0IHsgUHJpem1EaWFsb2dTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vZGlhbG9ncy9kaWFsb2cvZGlhbG9nLnNlcnZpY2UnO1xuaW1wb3J0IHsgUFJJWk1fREFURV9GT1JNQVQgfSBmcm9tICcuLi8uLi8uLi9AY29yZS9kYXRlLXRpbWUvZGF0ZS1mb3JtYXQnO1xuaW1wb3J0IHsgUHJpem1EYXRlTW9kZSB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL2RhdGUtbW9kZSc7XG5pbXBvcnQgeyBQUklaTV9EQVRFX1RFWFRTLCBQUklaTV9USU1FX1RFWFRTIH0gZnJvbSAnLi4vLi4vLi4vdG9rZW5zL2kxOG4nO1xuaW1wb3J0IHsgUFJJWk1fREFURV9SQU5HRV9WQUxVRV9UUkFOU0ZPUk1FUiB9IGZyb20gJy4uLy4uLy4uL3Rva2Vucy9kYXRlLWlucHV0cy12YWx1ZS10cmFuc2Zvcm1lcnMnO1xuaW1wb3J0IHsgUHJpem1Db250cm9sVmFsdWVUcmFuc2Zvcm1lciB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL2NvbnRyb2wtdmFsdWUtdHJhbnNmb3JtZXInO1xuaW1wb3J0IHsgcHJpem1OdWxsYWJsZVNhbWUgfSBmcm9tICcuLi8uLi8uLi91dGlsL2NvbW1vbi9udWxsYWJsZS1zYW1lJztcbmltcG9ydCB7IGZpbHRlclRydXRoeSwgUHJpem1EZXN0cm95U2VydmljZSwgUHJpem1MZXREaXJlY3RpdmUgfSBmcm9tICdAcHJpem0tdWkvaGVscGVycyc7XG5pbXBvcnQgeyBQcml6bUlucHV0Q29udHJvbCB9IGZyb20gJy4uL2NvbW1vbi9iYXNlL2lucHV0LWNvbnRyb2wuY2xhc3MnO1xuaW1wb3J0IHsgUHJpem1JbnB1dE5nQ29udHJvbCB9IGZyb20gJy4uL2NvbW1vbi9iYXNlL2lucHV0LW5nLWNvbnRyb2wuY2xhc3MnO1xuaW1wb3J0IHsgZGVib3VuY2VUaW1lLCBkZWxheSwgZGlzdGluY3RVbnRpbENoYW5nZWQsIG1hcCwgc2hhcmUsIHRha2VVbnRpbCwgdGFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHtcbiAgcHJpem1DcmVhdGVEYXRlTmd4TWFzayxcbiAgUHJpem1EYXRlVGltZSxcbiAgUHJpem1EYXRlVGltZVJhbmdlLFxuICBQcml6bVRpbWUsXG4gIFByaXptVGltZVJhbmdlLFxufSBmcm9tICcuLi8uLi8uLi9AY29yZSc7XG5pbXBvcnQgeyBQcml6bUlucHV0Wm9uZURpcmVjdGl2ZSwgUHJpem1JbnB1dFpvbmVNb2R1bGUgfSBmcm9tICcuLi8uLi8uLi9kaXJlY3RpdmVzL2lucHV0LXpvbmUnO1xuaW1wb3J0IHsgUHJpem1EYXRlQnV0dG9uLCBQcml6bVRpbWVNb2RlIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgcHJpem1DcmVhdGVUaW1lTmd4TWFzayB9IGZyb20gJy4uLy4uLy4uL0Bjb3JlL21hc2svY3JlYXRlLXRpbWUtbWFzayc7XG5pbXBvcnQgeyBQUklaTV9EQVRFX1JJR0hUX0JVVFRPTlMgfSBmcm9tICcuLi8uLi8uLi90b2tlbnMnO1xuaW1wb3J0IHsgUHJpem1EYXRlVGltZU1pbk1heCB9IGZyb20gJy4vbW9kZWwnO1xuaW1wb3J0IHsgcHJpem1JMThuSW5pdFdpdGhLZXlzIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IFByaXptTWFza01vZHVsZSB9IGZyb20gJy4uLy4uLy4uL21vZHVsZXMnO1xuaW1wb3J0IHtcbiAgUG9seW1vcnBoT3V0bGV0RGlyZWN0aXZlLFxuICBQcml6bUxpZmVjeWNsZU1vZHVsZSxcbiAgUHJpem1WYWx1ZUFjY2Vzc29yTW9kdWxlLFxufSBmcm9tICcuLi8uLi8uLi9kaXJlY3RpdmVzJztcbmltcG9ydCB7IFByaXptRGF0YUxpc3RDb21wb25lbnQgfSBmcm9tICcuLi8uLi9kYXRhLWxpc3QnO1xuaW1wb3J0IHsgUHJpem1JbnB1dExheW91dFRpbWVNb2R1bGUgfSBmcm9tICcuLi9pbnB1dC10aW1lJztcbmltcG9ydCB7IFByaXptSW5wdXRUZXh0TW9kdWxlIH0gZnJvbSAnLi4vaW5wdXQtdGV4dCc7XG5pbXBvcnQgeyBQcml6bUljb25Db21wb25lbnQgfSBmcm9tICcuLi8uLi9pY29uJztcbmltcG9ydCB7IFByaXptRHJvcGRvd25Ib3N0Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZHJvcGRvd25zL2Ryb3Bkb3duLWhvc3QnO1xuaW1wb3J0IHsgUHJpem1DYWxlbmRhclJhbmdlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vY2FsZW5kYXItcmFuZ2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6IGBwcml6bS1pbnB1dC1sYXlvdXQtZGF0ZS10aW1lLXJhbmdlYCxcbiAgdGVtcGxhdGVVcmw6IGAuL2lucHV0LWxheW91dC1kYXRlLXRpbWUtcmFuZ2UuY29tcG9uZW50Lmh0bWxgLFxuICBzdHlsZVVybHM6IFtcbiAgICBgLi9pbnB1dC1sYXlvdXQtZGF0ZS10aW1lLXJhbmdlLmNvbXBvbmVudC5sZXNzYCxcbiAgICAnLi8uLi9pbnB1dC1kYXRlL2lucHV0LWxheW91dC1kYXRlLXNoYXJlZC5jb21wb25lbnQubGVzcycsXG4gIF0sXG4gIHByb3ZpZGVyczogW1xuICAgIC4uLnByaXptSTE4bkluaXRXaXRoS2V5cyh7XG4gICAgICB0aW1lOiBQUklaTV9USU1FX1RFWFRTLFxuICAgICAgZGF0ZVRleHRzOiBQUklaTV9EQVRFX1RFWFRTLFxuICAgIH0pLFxuICAgIHtcbiAgICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gUHJpem1JbnB1dExheW91dERhdGVUaW1lUmFuZ2VDb21wb25lbnQpLFxuICAgICAgbXVsdGk6IHRydWUsXG4gICAgfSxcbiAgICBQcml6bURlc3Ryb3lTZXJ2aWNlLFxuICAgIHsgcHJvdmlkZTogUHJpem1JbnB1dENvbnRyb2wsIHVzZUV4aXN0aW5nOiBQcml6bUlucHV0TGF5b3V0RGF0ZVRpbWVSYW5nZUNvbXBvbmVudCB9LFxuICBdLFxuICBzdGFuZGFsb25lOiB0cnVlLFxuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlLFxuICAgIFByaXptSW5wdXRMYXlvdXREYXRlVGltZVJhbmdlQ29tcG9uZW50LFxuICAgIFByaXptTWFza01vZHVsZSxcbiAgICBQcml6bUlucHV0Wm9uZU1vZHVsZSxcbiAgICBQcml6bUxpZmVjeWNsZU1vZHVsZSxcbiAgICBQcml6bUxldERpcmVjdGl2ZSxcbiAgICBQcml6bURhdGFMaXN0Q29tcG9uZW50LFxuICAgIFByaXptSW5wdXRMYXlvdXRUaW1lTW9kdWxlLFxuICAgIFBvbHltb3JwaE91dGxldERpcmVjdGl2ZSxcbiAgICBQcml6bUlucHV0VGV4dE1vZHVsZSxcbiAgICBQcml6bUljb25Db21wb25lbnQsXG4gICAgUHJpem1Ecm9wZG93bkhvc3RDb21wb25lbnQsXG4gICAgUHJpem1DYWxlbmRhclJhbmdlQ29tcG9uZW50LFxuICAgIFByaXptVmFsdWVBY2Nlc3Nvck1vZHVsZSxcbiAgICBGb3Jtc01vZHVsZSxcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgUHJpem1JbnB1dExheW91dERhdGVUaW1lUmFuZ2VDb21wb25lbnRcbiAgZXh0ZW5kcyBQcml6bUlucHV0TmdDb250cm9sPFByaXptRGF0ZVRpbWVSYW5nZSB8IG51bGw+XG4gIGltcGxlbWVudHMgT25Jbml0LCBBZnRlclZpZXdJbml0XG57XG4gIGhhc0NsZWFyQnV0dG9uID0gdHJ1ZTtcbiAgbmF0aXZlRWxlbWVudFR5cGUgPSAnaW5wdXQtbGF5b3V0LWRhdGUtcmFuZ2UnO1xuXG4gIEBWaWV3Q2hpbGQoJ2ZvY3VzYWJsZUVsZW1lbnRSZWYnLCB7IHJlYWQ6IFByaXptSW5wdXRab25lRGlyZWN0aXZlIH0pXG4gIHB1YmxpYyBvdmVycmlkZSByZWFkb25seSBmb2N1c2FibGVFbGVtZW50PzogUHJpem1JbnB1dFpvbmVEaXJlY3RpdmU7XG5cbiAgQENvbnRlbnRDaGlsZCgnZm9vdGVyRnJvbScsIHsgcmVhZDogVGVtcGxhdGVSZWYgfSlcbiAgcHVibGljIHJlYWRvbmx5IGZvb3RlckZyb21UZW1wbGF0ZT86IFRlbXBsYXRlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+O1xuXG4gIEBDb250ZW50Q2hpbGQoJ2Zvb3RlclRvJywgeyByZWFkOiBUZW1wbGF0ZVJlZiB9KVxuICBwdWJsaWMgcmVhZG9ubHkgZm9vdGVyVG9UZW1wbGF0ZT86IFRlbXBsYXRlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+O1xuXG4gIEBJbnB1dCgpXG4gIEBwcml6bURlZmF1bHRQcm9wKClcbiAgZGlzYWJsZWRJdGVtSGFuZGxlcjogUHJpem1Cb29sZWFuSGFuZGxlcjxQcml6bURheT4gPSBQUklaTV9BTFdBWVNfRkFMU0VfSEFORExFUjtcblxuICBASW5wdXQoKVxuICBAcHJpem1EZWZhdWx0UHJvcCgpXG4gIG1hcmtlckhhbmRsZXI6IFByaXptTWFya2VySGFuZGxlciA9IFBSSVpNX0RFRkFVTFRfTUFSS0VSX0hBTkRMRVI7XG5cbiAgQElucHV0KClcbiAgQHByaXptRGVmYXVsdFByb3AoKVxuICBkZWZhdWx0Vmlld2VkTW9udGggPSBQcml6bU1vbnRoLmN1cnJlbnRMb2NhbCgpO1xuXG4gIEBJbnB1dCgpXG4gIEBwcml6bURlZmF1bHRQcm9wKClcbiAgaXRlbXM6IHJlYWRvbmx5IFByaXptRGF5UmFuZ2VQZXJpb2RbXSA9IFtdO1xuXG4gIEBJbnB1dCgpXG4gIEBwcml6bURlZmF1bHRQcm9wKClcbiAgcGxhY2Vob2xkZXIgPSAnJztcblxuICBASW5wdXQoKVxuICBAcHJpem1EZWZhdWx0UHJvcCgpXG4gIG1pbjogUHJpem1EYXRlVGltZU1pbk1heCA9IFBSSVpNX0ZJUlNUX0RBWTtcblxuICBASW5wdXQoKVxuICBAcHJpem1EZWZhdWx0UHJvcCgpXG4gIG1heDogUHJpem1EYXRlVGltZU1pbk1heCA9IFBSSVpNX0xBU1RfREFZO1xuXG4gIEBJbnB1dCgpXG4gIEBwcml6bURlZmF1bHRQcm9wKClcbiAgdGltZVN0cmljdCA9IGZhbHNlO1xuXG4gIEBJbnB1dCgpXG4gIEBwcml6bURlZmF1bHRQcm9wKClcbiAgbWluTGVuZ3RoOiBQcml6bURheUxpa2UgfCBudWxsID0gbnVsbDtcblxuICBASW5wdXQoKVxuICBAcHJpem1EZWZhdWx0UHJvcCgpXG4gIG1heExlbmd0aDogUHJpem1EYXlMaWtlIHwgbnVsbCA9IG51bGw7XG5cbiAgb3BlbiA9IGZhbHNlO1xuICAvLyBUT0RPOiBmaW5pc2hcbiAgLy8gb3BlblRpbWVUZW1wbGF0ZSA9IGZhbHNlO1xuXG4gIEBJbnB1dCgpXG4gIEBwcml6bURlZmF1bHRQcm9wKClcbiAgdGltZU1vZGU6IFByaXptVGltZU1vZGUgPSAnSEg6TU0nO1xuXG4gIEBJbnB1dCgpXG4gIEBwcml6bURlZmF1bHRQcm9wKClcbiAgdGltZUl0ZW1zOiByZWFkb25seSBQcml6bVRpbWVbXSA9IG5ldyBBcnJheSgyNCkuZmlsbChudWxsKS5tYXAoKF8sIGkpID0+IG5ldyBQcml6bVRpbWUoaSwgMCwgMCwgMCkpO1xuXG4gIEBJbnB1dCgpXG4gIEBwcml6bURlZmF1bHRQcm9wKClcbiAgZXh0cmFCdXR0b25JbmplY3RvcjogSW5qZWN0b3IgPSB0aGlzLmluamVjdG9yO1xuXG4gIG92ZXJyaWRlIHJlYWRvbmx5IHRlc3RJZF8gPSAndWlfaW5wdXRfZGF0ZV90aW1lX3JhbmdlJztcblxuICB0ZXN0UmFuZ2UgPSBuZXcgUHJpem1EYXlSYW5nZShuZXcgUHJpem1EYXkoMjAxMCwgMSwgMSksIG5ldyBQcml6bURheSgyMDEwLCAyLCAyKSk7XG5cbiAgZ2V0IGludGVyYWN0aXZlKCkge1xuICAgIHJldHVybiAhdGhpcy5kaXNhYmxlZDtcbiAgfVxuXG4gIHB1YmxpYyByaWdodEJ1dHRvbnMkITogQmVoYXZpb3JTdWJqZWN0PFByaXptRGF0ZUJ1dHRvbltdPjtcblxuICBnZXQgY2FsZW5kYXJNaW5EYXkoKTogUHJpem1EYXkge1xuICAgIHJldHVybiB0aGlzLmdldERheUZyb21NaW5NYXgodGhpcy5taW4pO1xuICB9XG5cbiAgZ2V0IGNhbGVuZGFyTWF4RGF5KCk6IFByaXptRGF5IHtcbiAgICByZXR1cm4gdGhpcy5nZXREYXlGcm9tTWluTWF4KHRoaXMubWF4KTtcbiAgfVxuXG4gIHJlYWRvbmx5IG5hdGl2ZVZhbHVlVGltZUZyb20kJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8c3RyaW5nPignJyk7XG4gIHJlYWRvbmx5IG5hdGl2ZVZhbHVlVGltZVRvJCQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZz4oJycpO1xuXG4gIHJlYWRvbmx5IG5hdGl2ZVZhbHVlRnJvbSQkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxzdHJpbmc+KCcnKTtcbiAgcmVhZG9ubHkgbmF0aXZlVmFsdWVUbyQkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxzdHJpbmc+KCcnKTtcblxuICByZWFkb25seSBuYXRpdmVWYWx1ZSQkID0gY29tYmluZUxhdGVzdChbXG4gICAgdGhpcy5uYXRpdmVWYWx1ZUZyb20kJC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpLFxuICAgIHRoaXMubmF0aXZlVmFsdWVUaW1lRnJvbSQkLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSksXG4gICAgdGhpcy5uYXRpdmVWYWx1ZVRvJCQucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKSxcbiAgICB0aGlzLm5hdGl2ZVZhbHVlVGltZVRvJCQucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKSxcbiAgXSkucGlwZShcbiAgICBkZWJvdW5jZVRpbWUoMCksXG4gICAgbWFwKChbZnJvbSwgZnJvbVRpbWUsIHRvLCB0b1RpbWVdKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aW1lUmFuZ2U6IFtmcm9tVGltZSwgdG9UaW1lXSxcbiAgICAgICAgZGF5UmFuZ2U6IFtmcm9tLCB0b10sXG4gICAgICB9O1xuICAgIH0pXG4gICk7XG5cbiAgcmVhZG9ubHkgaGFzTmF0aXZlVmFsdWUkID0gdGhpcy5uYXRpdmVWYWx1ZSQkLnBpcGUoXG4gICAgbWFwKHZhbHVlID0+IHtcbiAgICAgIHJldHVybiBoYXNWYWx1ZUluQXJyYXkodmFsdWU/LnRpbWVSYW5nZSkgfHwgaGFzVmFsdWVJbkFycmF5KHZhbHVlPy5kYXlSYW5nZSk7XG4gICAgfSksXG4gICAgc2hhcmUoKVxuICApO1xuXG4gIHJlYWRvbmx5IGVtcHR5JCA9IGNvbWJpbmVMYXRlc3QoW3RoaXMudmFsdWUkLCB0aGlzLm5hdGl2ZVZhbHVlJCRdKS5waXBlKFxuICAgIG1hcCgoW3ZhbHVlLCBuYXRpdmVWYWx1ZV0pID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGVtcHR5VmFsdWUodmFsdWU/LmRheVJhbmdlKSAmJlxuICAgICAgICBlbXB0eVZhbHVlKG5hdGl2ZVZhbHVlLmRheVJhbmdlKSAmJlxuICAgICAgICBlbXB0eVZhbHVlKHZhbHVlPy50aW1lUmFuZ2UpICYmXG4gICAgICAgIGVtcHR5VmFsdWUobmF0aXZlVmFsdWUudGltZVJhbmdlKVxuICAgICAgKTtcbiAgICB9KVxuICApIGFzIE9ic2VydmFibGU8Ym9vbGVhbj47XG5cbiAgb3ZlcnJpZGUgZ2V0IGVtcHR5KCk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLmVtcHR5JDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIEBJbmplY3QoQ2hhbmdlRGV0ZWN0b3JSZWYpIGNoYW5nZURldGVjdG9yUmVmOiBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICBASW5qZWN0KEluamVjdG9yKSBpbmplY3RvcjogSW5qZWN0b3IsXG4gICAgQEluamVjdChQcml6bURpYWxvZ1NlcnZpY2UpIHByaXZhdGUgcmVhZG9ubHkgZGlhbG9nU2VydmljZTogUHJpem1EaWFsb2dTZXJ2aWNlLFxuICAgIEBPcHRpb25hbCgpXG4gICAgQEluamVjdChQUklaTV9EQVRFX0ZPUk1BVClcbiAgICByZWFkb25seSBkYXRlRm9ybWF0OiBQcml6bURhdGVNb2RlLFxuICAgIEBJbmplY3QoUFJJWk1fREFURV9TRVBBUkFUT1IpIHJlYWRvbmx5IGRhdGVTZXBhcmF0b3I6IHN0cmluZyxcbiAgICBASW5qZWN0KFBSSVpNX0RBVEVfVEVYVFMpXG4gICAgcmVhZG9ubHkgZGF0ZVRleHRzJDogT2JzZXJ2YWJsZTxSZWNvcmQ8UHJpem1EYXRlTW9kZSwgc3RyaW5nPj4sXG4gICAgQE9wdGlvbmFsKClcbiAgICBASW5qZWN0KFBSSVpNX0RBVEVfUkFOR0VfVkFMVUVfVFJBTlNGT1JNRVIpXG4gICAgb3ZlcnJpZGUgcmVhZG9ubHkgdmFsdWVUcmFuc2Zvcm1lcjogUHJpem1Db250cm9sVmFsdWVUcmFuc2Zvcm1lcjxQcml6bURhdGVUaW1lUmFuZ2UgfCBudWxsPiB8IG51bGxcbiAgKSB7XG4gICAgc3VwZXIoaW5qZWN0b3IpO1xuICB9XG5cbiAgcHVibGljIGdldCBmb2N1c2VkKCk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLmZvY3VzYWJsZUVsZW1lbnQ/LmZvY3VzZWQkID8/IG9mKGZhbHNlKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgY2FuT3BlbigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcmFjdGl2ZTtcbiAgfVxuXG4gIHB1YmxpYyBjbG9zZU9uT3V0c2lkZUNsaWNrID0gdHJ1ZTtcblxuICBnZXQgY29tcHV0ZWRUaW1lTWFzaygpOiBzdHJpbmcge1xuICAgIHJldHVybiBwcml6bUNyZWF0ZVRpbWVOZ3hNYXNrKHRoaXMudGltZU1vZGUpO1xuICB9XG5cbiAgZ2V0IGNvbXB1dGVkRGF0ZU1hc2soKTogc3RyaW5nIHtcbiAgICByZXR1cm4gcHJpem1DcmVhdGVEYXRlTmd4TWFzayh0aGlzLmRhdGVGb3JtYXQsIHRoaXMuZGF0ZVNlcGFyYXRvcik7XG4gIH1cblxuICBnZXQgZnJvbVZhbHVlKCk6IHN0cmluZyB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlPy5kYXlSYW5nZT8uZnJvbT8udG9TdHJpbmcoKSA/PyAnJztcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5uYXRpdmVWYWx1ZUZyb20kJC52YWx1ZSB8fCAnJztcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGdldCBmcm9tVGltZVZhbHVlKCk6IHN0cmluZyB7XG4gICAgY29uc3QgdmFsID0gdGhpcy50aW1lVG9TdHJpbmcodGhpcy52YWx1ZT8udGltZVJhbmdlPy5mcm9tKSA/PyAnJztcbiAgICBpZiAoIXZhbCkge1xuICAgICAgcmV0dXJuIHRoaXMubmF0aXZlVmFsdWVUaW1lRnJvbSQkLnZhbHVlIHx8ICcnO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xuICB9XG4gIGdldCB0b1ZhbHVlKCk6IHN0cmluZyB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlPy5kYXlSYW5nZT8udG8/LnRvU3RyaW5nKCkgPz8gJyc7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMubmF0aXZlVmFsdWVUbyQkLnZhbHVlIHx8ICcnO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgZ2V0IHRvVGltZVZhbHVlKCk6IHN0cmluZyB7XG4gICAgY29uc3QgdmFsID0gdGhpcy50aW1lVG9TdHJpbmcodGhpcy52YWx1ZT8udGltZVJhbmdlPy50bykgPz8gJyc7XG4gICAgaWYgKCF2YWwpIHtcbiAgICAgIHJldHVybiB0aGlzLm5hdGl2ZVZhbHVlVGltZVRvJCQudmFsdWUgfHwgJyc7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICBwdWJsaWMgb25PcGVuQ2hhbmdlKG9wZW46IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLm9wZW4gPSBvcGVuO1xuICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICBwcml2YXRlIGNvbXBsZXRlRGF0ZUlmQXJlTm90UGVuZGluZygpIHtcbiAgICBjb25zdCBmcm9tVmFsdWUgPSB0aGlzLm5hdGl2ZVZhbHVlRnJvbSQkLnZhbHVlO1xuICAgIGNvbnN0IHRvVmFsdWUgPSB0aGlzLm5hdGl2ZVZhbHVlVG8kJC52YWx1ZTtcbiAgICBjb25zdCBmcm9tVGltZVZhbHVlID0gdGhpcy5uYXRpdmVWYWx1ZVRpbWVGcm9tJCQudmFsdWU7XG4gICAgY29uc3QgdG9UaW1lVmFsdWUgPSB0aGlzLm5hdGl2ZVZhbHVlVGltZVRvJCQudmFsdWU7XG5cbiAgICAvLyBzdG9wIGlmIGVtcHR5XG4gICAgaWYgKCFmcm9tVmFsdWUgJiYgIXRvVmFsdWUgJiYgIWZyb21UaW1lVmFsdWUgJiYgIXRvVGltZVZhbHVlKSByZXR1cm47XG5cbiAgICAvLyBzdG9wIGlmIHN0YXJ0ZWQgdmFsdWVcbiAgICBpZiAoZnJvbVZhbHVlICYmIGZyb21WYWx1ZS5sZW5ndGggIT09IHRoaXMuY29tcHV0ZWREYXRlTWFzay5sZW5ndGgpIHJldHVybjtcbiAgICBpZiAodG9WYWx1ZSAmJiB0b1ZhbHVlLmxlbmd0aCAhPT0gdGhpcy5jb21wdXRlZERhdGVNYXNrLmxlbmd0aCkgcmV0dXJuO1xuICAgIGlmIChmcm9tVGltZVZhbHVlICYmIGZyb21UaW1lVmFsdWUubGVuZ3RoICE9PSB0aGlzLmNvbXB1dGVkVGltZU1hc2subGVuZ3RoKSByZXR1cm47XG4gICAgaWYgKHRvVGltZVZhbHVlICYmIHRvVGltZVZhbHVlLmxlbmd0aCAhPT0gdGhpcy5jb21wdXRlZFRpbWVNYXNrLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgY29uc3QgcGFyc2VkRnJvbSA9IGZyb21WYWx1ZVxuICAgICAgPyBQcml6bURheS5ub3JtYWxpemVQYXJzZShmcm9tVmFsdWUsIHRoaXMuZGF0ZUZvcm1hdClcbiAgICAgIDogbmV3IFByaXptRGF5KG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSwgbmV3IERhdGUoKS5nZXRNb250aCgpLCBuZXcgRGF0ZSgpLmdldERhdGUoKSk7XG5cbiAgICBjb25zdCBwYXJzZWRUbyA9IHRvVmFsdWUgPyBQcml6bURheS5ub3JtYWxpemVQYXJzZSh0b1ZhbHVlLCB0aGlzLmRhdGVGb3JtYXQpIDogcGFyc2VkRnJvbS5hcHBlbmQoe30pO1xuXG4gICAgY29uc3QgcGFyc2VkVGltZVRvID0gUHJpem1UaW1lLmNvcnJlY3RUaW1lKFxuICAgICAgdG9UaW1lVmFsdWUgPyBQcml6bVRpbWUuZnJvbVN0cmluZyh0b1RpbWVWYWx1ZSkgOiBuZXcgUHJpem1UaW1lKDIzLCA1OSlcbiAgICApO1xuXG4gICAgY29uc3QgcGFyc2VkVGltZUZyb20gPSBQcml6bVRpbWUuY29ycmVjdFRpbWUoXG4gICAgICBmcm9tVGltZVZhbHVlID8gUHJpem1UaW1lLmZyb21TdHJpbmcoZnJvbVRpbWVWYWx1ZSkgOiBuZXcgUHJpem1UaW1lKDAsIDApXG4gICAgKTtcblxuICAgIHRoaXMubmF0aXZlVmFsdWVUbyQkLm5leHQocGFyc2VkVG8udG9TdHJpbmcodGhpcy5kYXRlRm9ybWF0KSk7XG4gICAgdGhpcy5uYXRpdmVWYWx1ZUZyb20kJC5uZXh0KHBhcnNlZEZyb20udG9TdHJpbmcodGhpcy5kYXRlRm9ybWF0KSk7XG4gICAgdGhpcy5uYXRpdmVWYWx1ZVRpbWVUbyQkLm5leHQocGFyc2VkVGltZVRvLnRvU3RyaW5nKHRoaXMudGltZU1vZGUpKTtcbiAgICB0aGlzLm5hdGl2ZVZhbHVlVGltZUZyb20kJC5uZXh0KHBhcnNlZFRpbWVGcm9tLnRvU3RyaW5nKHRoaXMudGltZU1vZGUpKTtcbiAgfVxuXG4gIHB1YmxpYyBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XG4gICAgdGhpcy5mb2N1c2FibGVFbGVtZW50Py5ibHVyJFxuICAgICAgLnBpcGUoXG4gICAgICAgIGRlYm91bmNlVGltZSgwKSxcbiAgICAgICAgZmlsdGVyVHJ1dGh5KCksXG4gICAgICAgIHRhcCgoKSA9PiB0aGlzLmNvbXBsZXRlRGF0ZUlmQXJlTm90UGVuZGluZygpKSxcbiAgICAgICAgdGFrZVVudGlsKHRoaXMuZGVzdHJveSQpXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKCk7XG4gIH1cblxuICBwdWJsaWMgb3ZlcnJpZGUgbmdPbkluaXQoKSB7XG4gICAgc3VwZXIubmdPbkluaXQoKTtcbiAgICB0aGlzLnJpZ2h0QnV0dG9ucyQgPSB0aGlzLmV4dHJhQnV0dG9uSW5qZWN0b3IuZ2V0KFBSSVpNX0RBVEVfUklHSFRfQlVUVE9OUyk7XG5cbiAgICB0aGlzLm5hdGl2ZVZhbHVlJCRcbiAgICAgIC5waXBlKFxuICAgICAgICB0YXAoKHsgZGF5UmFuZ2UsIHRpbWVSYW5nZSB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgZnJvbVZhbHVlID0gZGF5UmFuZ2VbMF07XG4gICAgICAgICAgY29uc3QgdG9WYWx1ZSA9IGRheVJhbmdlWzFdO1xuICAgICAgICAgIGNvbnN0IGZyb21UaW1lVmFsdWUgPSB0aW1lUmFuZ2VbMF07XG4gICAgICAgICAgY29uc3QgdG9UaW1lVmFsdWUgPSB0aW1lUmFuZ2VbMV07XG5cbiAgICAgICAgICBpZiAoIWZyb21WYWx1ZSB8fCBmcm9tVmFsdWUubGVuZ3RoICE9PSB0aGlzLmNvbXB1dGVkRGF0ZU1hc2subGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgaWYgKCF0b1ZhbHVlIHx8IHRvVmFsdWUubGVuZ3RoICE9PSB0aGlzLmNvbXB1dGVkRGF0ZU1hc2subGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgaWYgKCFmcm9tVGltZVZhbHVlIHx8IGZyb21UaW1lVmFsdWUubGVuZ3RoICE9PSB0aGlzLmNvbXB1dGVkVGltZU1hc2subGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgaWYgKCF0b1RpbWVWYWx1ZSB8fCB0b1RpbWVWYWx1ZS5sZW5ndGggIT09IHRoaXMuY29tcHV0ZWRUaW1lTWFzay5sZW5ndGgpIHJldHVybjtcblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGZyb21WYWx1ZSA9PT0gdGhpcy52YWx1ZT8uZGF5UmFuZ2U/LmZyb20udG9TdHJpbmcoKSAmJlxuICAgICAgICAgICAgZnJvbVRpbWVWYWx1ZSA9PT0gdGhpcy52YWx1ZT8udGltZVJhbmdlPy5mcm9tLnRvU3RyaW5nKHRoaXMudGltZU1vZGUpICYmXG4gICAgICAgICAgICB0b1ZhbHVlID09PSB0aGlzLnZhbHVlPy5kYXlSYW5nZT8udG8udG9TdHJpbmcoKSAmJlxuICAgICAgICAgICAgdG9UaW1lVmFsdWUgPT09IHRoaXMudmFsdWU/LnRpbWVSYW5nZT8udG8udG9TdHJpbmcodGhpcy50aW1lTW9kZSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLnVwZGF0ZVdpdGhDb3JyZWN0RGF0ZUFuZFRpbWUoXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBmcm9tVmFsdWUgJiYgZnJvbVZhbHVlLmxlbmd0aCA9PT0gdGhpcy5jb21wdXRlZERhdGVNYXNrLmxlbmd0aCAmJiBmcm9tVmFsdWUsXG4gICAgICAgICAgICB0b1ZhbHVlICYmIHRvVmFsdWUubGVuZ3RoID09PSB0aGlzLmNvbXB1dGVkRGF0ZU1hc2subGVuZ3RoICYmIHRvVmFsdWUsXG4gICAgICAgICAgICBmcm9tVGltZVZhbHVlICYmIGZyb21UaW1lVmFsdWUubGVuZ3RoID09PSB0aGlzLmNvbXB1dGVkVGltZU1hc2subGVuZ3RoICYmIGZyb21UaW1lVmFsdWUsXG4gICAgICAgICAgICB0b1RpbWVWYWx1ZSAmJiB0b1RpbWVWYWx1ZS5sZW5ndGggPT09IHRoaXMuY29tcHV0ZWRUaW1lTWFzay5sZW5ndGggJiYgdG9UaW1lVmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICB9KSxcbiAgICAgICAgdGFrZVVudGlsKHRoaXMuZGVzdHJveSQpXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKCk7XG4gIH1cblxuICBwcml2YXRlIHRpbWVUb1N0cmluZyh2YWx1ZTogUHJpem1UaW1lIHwgdW5rbm93bik6IHN0cmluZyB8IG51bGwge1xuICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFByaXptVGltZSA/IHZhbHVlLnRvU3RyaW5nKHRoaXMudGltZU1vZGUpIDogbnVsbDtcbiAgfVxuXG4gIHB1YmxpYyBvbkRhdGVWYWx1ZUNoYW5nZSh2YWx1ZTogc3RyaW5nLCBpc0Zvcm1WYWx1ZTogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmIChpc0Zvcm1WYWx1ZSAmJiB2YWx1ZSA9PT0gdGhpcy5mcm9tVmFsdWUpIHJldHVybjtcbiAgICBpZiAoIWlzRm9ybVZhbHVlICYmIHZhbHVlID09PSB0aGlzLnRvVmFsdWUpIHJldHVybjtcblxuICAgIGlmIChpc0Zvcm1WYWx1ZSkgdGhpcy5uYXRpdmVWYWx1ZUZyb20kJC5uZXh0KHZhbHVlKTtcbiAgICBlbHNlIHRoaXMubmF0aXZlVmFsdWVUbyQkLm5leHQodmFsdWUpO1xuXG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIHRoaXMub25PcGVuQ2hhbmdlKHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBvblRpbWVWYWx1ZUNoYW5nZSh2YWx1ZTogc3RyaW5nLCBpc0Zvcm1WYWx1ZTogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmIChpc0Zvcm1WYWx1ZSAmJiB2YWx1ZSA9PT0gdGhpcy5mcm9tVGltZVZhbHVlKSByZXR1cm47XG4gICAgaWYgKCFpc0Zvcm1WYWx1ZSAmJiB2YWx1ZSA9PT0gdGhpcy50b1RpbWVWYWx1ZSkgcmV0dXJuO1xuICAgIGlmIChpc0Zvcm1WYWx1ZSkgdGhpcy5uYXRpdmVWYWx1ZVRpbWVGcm9tJCQubmV4dCh2YWx1ZSk7XG4gICAgZWxzZSB0aGlzLm5hdGl2ZVZhbHVlVGltZVRvJCQubmV4dCh2YWx1ZSk7XG5cbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgdGhpcy5vbk9wZW5DaGFuZ2UodHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG9uUmFuZ2VDaGFuZ2UocmFuZ2U6IFByaXptRGF5UmFuZ2UgfCBudWxsKTogdm9pZCB7XG4gICAgdGhpcy5mb2N1c0lucHV0KCk7XG5cbiAgICBpZiAoIXJhbmdlKSB7XG4gICAgICB0aGlzLm5hdGl2ZVZhbHVlVG8kJC5uZXh0KCcnKTtcbiAgICAgIHRoaXMubmF0aXZlVmFsdWVGcm9tJCQubmV4dCgnJyk7XG4gICAgfVxuXG4gICAgaWYgKCFwcml6bU51bGxhYmxlU2FtZTxQcml6bURheVJhbmdlPih0aGlzLnZhbHVlPy5kYXlSYW5nZSBhcyBhbnksIHJhbmdlLCAoYSwgYikgPT4gYT8uZGF5U2FtZShiKSkpIHtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gbmV3IFByaXptRGF0ZVRpbWVSYW5nZShyYW5nZSBhcyBhbnksICh0aGlzLnZhbHVlPy50aW1lUmFuZ2UgPz8gbnVsbCkgYXMgYW55KTtcbiAgICAgIHRoaXMudXBkYXRlVmFsdWUobmV3VmFsdWUpO1xuICAgICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMubmF0aXZlVmFsdWVUbyQkLm5leHQocmFuZ2U/LnRvPy50b1N0cmluZygpID8/ICcnKTtcbiAgICB0aGlzLm5hdGl2ZVZhbHVlRnJvbSQkLm5leHQocmFuZ2U/LmZyb20/LnRvU3RyaW5nKCkgPz8gJycpO1xuICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVdpdGhDb3JyZWN0RGF0ZUFuZFRpbWUoZnJvbTogc3RyaW5nLCB0bzogc3RyaW5nLCBmcm9tVGltZTogc3RyaW5nLCB0b1RpbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGxldCBwYXJzZWRGcm9tID0gZnJvbSA/IFByaXptRGF5Lm5vcm1hbGl6ZVBhcnNlKGZyb20sIHRoaXMuZGF0ZUZvcm1hdCkgOiB0aGlzLnZhbHVlPy5kYXlSYW5nZT8uZnJvbTtcbiAgICBsZXQgcGFyc2VkVG8gPSB0byA/IFByaXptRGF5Lm5vcm1hbGl6ZVBhcnNlKHRvLCB0aGlzLmRhdGVGb3JtYXQpIDogdGhpcy52YWx1ZT8uZGF5UmFuZ2U/LnRvO1xuXG4gICAgaWYgKHBhcnNlZEZyb20pIHBhcnNlZEZyb20gPSB0aGlzLmRheUxpbWl0KHBhcnNlZEZyb20pO1xuICAgIGlmIChwYXJzZWRUbykgcGFyc2VkVG8gPSB0aGlzLmRheUxpbWl0KHBhcnNlZFRvKTtcblxuICAgIGxldCBwYXJzZWRUaW1lRnJvbSA9IGZyb21UaW1lICYmIFByaXptVGltZS5jb3JyZWN0VGltZShQcml6bVRpbWUuZnJvbVN0cmluZyhmcm9tVGltZSkpO1xuICAgIGxldCBwYXJzZWRUaW1lVG8gPSB0b1RpbWUgJiYgUHJpem1UaW1lLmNvcnJlY3RUaW1lKFByaXptVGltZS5mcm9tU3RyaW5nKHRvVGltZSkpO1xuXG4gICAgaWYgKHBhcnNlZFRpbWVGcm9tKSBwYXJzZWRUaW1lRnJvbSA9IHRoaXMudGltZUxpbWl0KFtwYXJzZWRGcm9tIGFzIGFueSwgcGFyc2VkVGltZUZyb21dKSBhcyBhbnk7XG4gICAgaWYgKHBhcnNlZFRpbWVUbykgcGFyc2VkVGltZVRvID0gdGhpcy50aW1lTGltaXQoW3BhcnNlZFRvIGFzIGFueSwgcGFyc2VkVGltZVRvXSkgYXMgYW55O1xuXG4gICAgaWYgKHBhcnNlZFRpbWVUbyB8fCBwYXJzZWRUaW1lRnJvbSkge1xuICAgICAgaWYgKCFwYXJzZWRGcm9tKSB7XG4gICAgICAgIHBhcnNlZEZyb20gPSBQcml6bURheS5mcm9tTG9jYWxOYXRpdmVEYXRlKG5ldyBEYXRlKCkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXBhcnNlZFRvKSB7XG4gICAgICAgIGNvbnN0IHRvbW9ycm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgdG9tb3Jyb3cuc2V0RGF0ZSh0b21vcnJvdy5nZXREYXRlKCkgKyAxKTtcbiAgICAgICAgcGFyc2VkVG8gPSBQcml6bURheS5mcm9tTG9jYWxOYXRpdmVEYXRlKHRvbW9ycm93KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVZhbHVlKFxuICAgICAgbmV3IFByaXptRGF0ZVRpbWVSYW5nZShcbiAgICAgICAgKHBhcnNlZEZyb20gJiYgcGFyc2VkVG8gPyBuZXcgUHJpem1EYXlSYW5nZShwYXJzZWRGcm9tLCBwYXJzZWRUbykgOiBudWxsKSBhcyBhbnksXG4gICAgICAgIChwYXJzZWRUaW1lRnJvbSAmJiBwYXJzZWRUaW1lVG8gPyBuZXcgUHJpem1UaW1lUmFuZ2UocGFyc2VkVGltZUZyb20sIHBhcnNlZFRpbWVUbykgOiBudWxsKSBhcyBhbnlcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSB0aW1lTGltaXQodmFsdWU6IFtQcml6bURheSwgUHJpem1UaW1lXSB8IG51bGwpOiBQcml6bVRpbWUgfCBudWxsIHtcbiAgICBpZiAoIXZhbHVlKSByZXR1cm4gbnVsbDtcbiAgICBsZXQgWywgcGFyc2VkVGltZV0gPSB2YWx1ZTtcbiAgICBpZiAocGFyc2VkVGltZSlcbiAgICAgIHBhcnNlZFRpbWUgPSBwYXJzZWRUaW1lLnRpbWVMaW1pdCh0aGlzLmdldFRpbWVGcm9tTWluTWF4KHRoaXMubWluKSwgdGhpcy5nZXRUaW1lRnJvbU1pbk1heCh0aGlzLm1heCkpO1xuXG4gICAgcmV0dXJuIHBhcnNlZFRpbWU7XG4gIH1cblxuICBwcml2YXRlIGdldERheUZyb21NaW5NYXgodmFsdWU6IFByaXptRGF0ZVRpbWVNaW5NYXgpOiBQcml6bURheSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWVbMF0gOiB2YWx1ZSBpbnN0YW5jZW9mIFByaXptRGF0ZVRpbWUgPyB2YWx1ZS5kYXkgOiB2YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0VGltZUZyb21NaW5NYXgodmFsdWU6IFByaXptRGF0ZVRpbWVNaW5NYXgpOiBQcml6bVRpbWUgfCBudWxsIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZVsxXSA6IHZhbHVlIGluc3RhbmNlb2YgUHJpem1EYXRlVGltZSA/IHZhbHVlLnRpbWUgOiBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBkYXlMaW1pdCh2YWx1ZTogUHJpem1EYXkpOiBQcml6bURheSB7XG4gICAgcmV0dXJuIHZhbHVlLmRheUxpbWl0KHRoaXMuZ2V0RGF5RnJvbU1pbk1heCh0aGlzLm1pbiksIHRoaXMuZ2V0RGF5RnJvbU1pbk1heCh0aGlzLm1heCkpO1xuICB9XG5cbiAgcHVibGljIG92ZXJyaWRlIHdyaXRlVmFsdWUodmFsdWU6IFByaXptRGF0ZVRpbWVSYW5nZSB8IG51bGwpOiB2b2lkIHtcbiAgICBzdXBlci53cml0ZVZhbHVlKHZhbHVlIGFzIGFueSk7XG4gICAgdGhpcy5uYXRpdmVWYWx1ZVRpbWVGcm9tJCQubmV4dCh2YWx1ZT8udGltZVJhbmdlPy5mcm9tPy50b1N0cmluZyh0aGlzLnRpbWVNb2RlKSA/PyAnJyk7XG4gICAgdGhpcy5uYXRpdmVWYWx1ZVRpbWVUbyQkLm5leHQodmFsdWU/LnRpbWVSYW5nZT8udG8/LnRvU3RyaW5nKHRoaXMudGltZU1vZGUpID8/ICcnKTtcbiAgICB0aGlzLm5hdGl2ZVZhbHVlRnJvbSQkLm5leHQodmFsdWU/LmRheVJhbmdlPy5mcm9tPy50b1N0cmluZygpID8/ICcnKTtcbiAgICB0aGlzLm5hdGl2ZVZhbHVlVG8kJC5uZXh0KHZhbHVlPy5kYXlSYW5nZT8udG8/LnRvU3RyaW5nKCkgPz8gJycpO1xuICB9XG5cbiAgcHJpdmF0ZSB0b2dnbGUoKTogdm9pZCB7XG4gICAgdGhpcy5vcGVuID0gIXRoaXMub3BlbjtcbiAgfVxuXG4gIHByaXZhdGUgZm9jdXNJbnB1dCgpOiB2b2lkIHtcbiAgICB0aGlzLmZvY3VzYWJsZUVsZW1lbnQ/LmZvY3VzKDApO1xuICB9XG5cbiAgcHVibGljIG92ZXJyaWRlIGNsZWFyKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgZXYuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgc3VwZXIuY2xlYXIoZXYpO1xuICAgIHRoaXMubmF0aXZlVmFsdWVUbyQkLm5leHQoJycpO1xuICAgIHRoaXMubmF0aXZlVmFsdWVGcm9tJCQubmV4dCgnJyk7XG4gICAgdGhpcy5uYXRpdmVWYWx1ZVRpbWVGcm9tJCQubmV4dCgnJyk7XG4gICAgdGhpcy5uYXRpdmVWYWx1ZVRpbWVUbyQkLm5leHQoJycpO1xuICAgIHRoaXMubGF5b3V0Q29tcG9uZW50Py5jZHIubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlVGltZVRvKHZhbHVlOiBQcml6bVRpbWUpOiB2b2lkIHtcbiAgICAvLyBUT0RPOiAjbXogYWRkIG1pbiBtYXhcbiAgICBpZiAoXG4gICAgICB2YWx1ZSAmJlxuICAgICAgdGhpcy52YWx1ZT8udGltZVJhbmdlPy50byBpbnN0YW5jZW9mIFByaXptVGltZSAmJlxuICAgICAgdGhpcy52YWx1ZT8udGltZVJhbmdlPy50bz8uaXNTYW1lVGltZSh2YWx1ZSlcbiAgICApXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgcmFuZ2UgPSBQcml6bURhdGVUaW1lUmFuZ2Uuc2FmZVVwZGF0ZVRpbWVUbyh0aGlzLnZhbHVlLCB2YWx1ZSk7XG4gICAgdGhpcy51cGRhdGVWYWx1ZShyYW5nZT8uY29weSgpKTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVUaW1lRnJvbSh2YWx1ZTogUHJpem1UaW1lKTogdm9pZCB7XG4gICAgLy8gVE9ETzogI216IGFkZCBtaW4gbWF4XG4gICAgaWYgKFxuICAgICAgdmFsdWUgJiZcbiAgICAgIHRoaXMudmFsdWU/LnRpbWVSYW5nZT8uZnJvbSBpbnN0YW5jZW9mIFByaXptVGltZSAmJlxuICAgICAgdGhpcy52YWx1ZT8udGltZVJhbmdlPy5mcm9tPy5pc1NhbWVUaW1lKHZhbHVlKVxuICAgIClcbiAgICAgIHJldHVybjtcbiAgICAvLyBjb25zdCByYW5nZSA9IFByaXptRGF0ZVRpbWVSYW5nZS5zYWZlVXBkYXRlVGltZUZyb20odGhpcy52YWx1ZSwgdmFsdWUpO1xuICAgIC8vIHRoaXMudXBkYXRlVmFsdWUocmFuZ2U/LmNvcHkoKSk7XG4gICAgdGhpcy5uYXRpdmVWYWx1ZVRpbWVGcm9tJCQubmV4dCh2YWx1ZS50b1N0cmluZyh0aGlzLnRpbWVNb2RlKSk7XG4gIH1cblxuICBwdWJsaWMgcmVmZXJGb2N1c1RvTWFpbihyZWZlckZvY3VzID0gdHJ1ZSkge1xuICAgIGlmICghcmVmZXJGb2N1cykgcmV0dXJuO1xuICAgIC8vIFRPRE8gY3JlYXRlIG9wZXJhdG9yIGFuZCByeGpzIGZ1bmN0aW4gdG8gcnVuIHNlcXVlbmNlIGluIGV2ZW50IGxvb3BcbiAgICBvZihudWxsKVxuICAgICAgLnBpcGUoXG4gICAgICAgIGRlbGF5KDApLFxuICAgICAgICB0YXAoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZm9jdXNhYmxlRWxlbWVudD8uc2VsZWN0aW9uVG9TdGFydCgpO1xuICAgICAgICB9KVxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgpO1xuICB9XG59XG5cbi8vIFRPRE8gcmVmYWN0b3RvciBhbmQgbW92ZSB0byB1dGlsc1xuZnVuY3Rpb24gaGFzVmFsdWVJbkFycmF5KHZhbHVlczogdW5rbm93bltdKSB7XG4gIHJldHVybiAhIXZhbHVlcy5maW5kKGkgPT4gQm9vbGVhbihpKSk7XG59XG5mdW5jdGlvbiBlbXB0eVZhbHVlKHZhbHVlczogdW5rbm93biB8IHVua25vd25bXSk6IGJvb2xlYW4ge1xuICByZXR1cm4gIXZhbHVlcyB8fCAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpICYmICFoYXNWYWx1ZUluQXJyYXkodmFsdWVzKSk7XG59XG4iLCI8cHJpem0tZHJvcGRvd24taG9zdFxuICBjbGFzcz1cInotaG9zdGVkXCJcbiAgW2Nhbk9wZW5dPVwiY2FuT3BlblwiXG4gIFtjb250ZW50XT1cImRyb3Bkb3duXCJcbiAgW2Nsb3NlQnlFc2NdPVwidHJ1ZVwiXG4gIFtjbG9zZU9uT3V0c2lkZUNsaWNrXT1cImNsb3NlT25PdXRzaWRlQ2xpY2tcIlxuICBbcHJpem1Ecm9wZG93bkhvc3RXaWR0aF09XCInYXV0bydcIlxuICBbaXNPcGVuXT1cImNhbk9wZW4gJiYgIWRpc2FibGVkICYmIG9wZW5cIlxuICBbcHJpem1Ecm9wZG93bkhvc3RdPVwibGF5b3V0Q29tcG9uZW50Py5lbD8ubmF0aXZlRWxlbWVudFwiXG4gIChpc09wZW5DaGFuZ2UpPVwib25PcGVuQ2hhbmdlKCRldmVudClcIlxuICBwcml6bURyb3Bkb3duSG9zdFdpZHRoPVwiYXV0b1wiXG4+XG4gIDxkaXZcbiAgICBjbGFzcz1cIm11bHRpcGxlLWlucHV0LWJveFwiXG4gICAgI2ZvY3VzYWJsZUVsZW1lbnRSZWY9XCJwcml6bUlucHV0Wm9uZVwiXG4gICAgW2F0dHIuZGF0YS1wbGFjZWhvbGRlcl09XCJwbGFjZWhvbGRlclwiXG4gICAgcHJpem1JbnB1dFpvbmVcbiAgPlxuICAgIDxpbnB1dFxuICAgICAgY2xhc3M9XCJpbnB1dC1tYWluXCJcbiAgICAgIFtjbGFzcy5zaG93LXBsYWNlaG9sZGVyXT1cIlxuICAgICAgICAoZW1wdHkgfCBhc3luYykgJiYgKGRpc2FibGVkIHx8IChmb2N1c2FibGVFbGVtZW50UmVmLmZvY3VzZWQkIHwgYXN5bmMpICE9PSB0cnVlKVxuICAgICAgXCJcbiAgICAgIFtwbGFjZWhvbGRlcl09XCJwbGFjZWhvbGRlclwiXG4gICAgICBbbWFza109XCJjb21wdXRlZERhdGVNYXNrXCJcbiAgICAgIFtjbGVhcklmTm90TWF0Y2hdPVwiZmFsc2VcIlxuICAgICAgW3Nob3dNYXNrVHlwZWRdPVwiKGZvY3VzYWJsZUVsZW1lbnRSZWYuZm9jdXNlZCQgfCBhc3luYykgfHwgKGhhc05hdGl2ZVZhbHVlJCB8IGFzeW5jKVwiXG4gICAgICBbZHJvcFNwZWNpYWxDaGFyYWN0ZXJzXT1cImZhbHNlXCJcbiAgICAgIFtkaXNhYmxlZF09XCJkaXNhYmxlZFwiXG4gICAgICBbbmdNb2RlbE9wdGlvbnNdPVwieyBzdGFuZGFsb25lOiB0cnVlIH1cIlxuICAgICAgW25nTW9kZWxdPVwiZnJvbVZhbHVlXCJcbiAgICAgIFtzaXplXT1cImNvbXB1dGVkRGF0ZU1hc2subGVuZ3RoXCJcbiAgICAgIFttYXhMZW5ndGhdPVwiY29tcHV0ZWREYXRlTWFzay5sZW5ndGggKyAxXCJcbiAgICAgIFttYXhTaXplXT1cImNvbXB1dGVkRGF0ZU1hc2subGVuZ3RoXCJcbiAgICAgIChjbGljayk9XCJyZWZlckZvY3VzVG9NYWluKCFmcm9tVmFsdWUpXCJcbiAgICAgIChuZ01vZGVsQ2hhbmdlKT1cIm9uRGF0ZVZhbHVlQ2hhbmdlKCRldmVudCB8fCAnJywgdHJ1ZSlcIlxuICAgICAgc3R5bGU9XCJwYWRkaW5nOiAwXCJcbiAgICAgIHByaXptSW5wdXRcbiAgICAgIHByaXptSW5wdXRJblpvbmVcbiAgICAvPlxuICAgIDxpbnB1dFxuICAgICAgY2xhc3M9XCJpbnB1dC10aW1lXCJcbiAgICAgIFttYXNrXT1cImNvbXB1dGVkVGltZU1hc2tcIlxuICAgICAgW2Ryb3BTcGVjaWFsQ2hhcmFjdGVyc109XCJmYWxzZVwiXG4gICAgICBbY2xlYXJJZk5vdE1hdGNoXT1cImZhbHNlXCJcbiAgICAgIFtzaG93TWFza1R5cGVkXT1cIihmb2N1c2FibGVFbGVtZW50UmVmLmZvY3VzZWQkIHwgYXN5bmMpIHx8IChoYXNOYXRpdmVWYWx1ZSQgfCBhc3luYylcIlxuICAgICAgW2Rpc2FibGVkXT1cImRpc2FibGVkXCJcbiAgICAgIFtuZ01vZGVsT3B0aW9uc109XCJ7IHN0YW5kYWxvbmU6IHRydWUgfVwiXG4gICAgICBbbmdNb2RlbF09XCJmcm9tVGltZVZhbHVlXCJcbiAgICAgIFtzaXplXT1cImNvbXB1dGVkVGltZU1hc2subGVuZ3RoXCJcbiAgICAgIFttYXhMZW5ndGhdPVwiY29tcHV0ZWRUaW1lTWFzay5sZW5ndGggKyAxXCJcbiAgICAgIFttYXhTaXplXT1cImNvbXB1dGVkVGltZU1hc2subGVuZ3RoXCJcbiAgICAgIChuZ01vZGVsQ2hhbmdlKT1cIm9uVGltZVZhbHVlQ2hhbmdlKCRldmVudCwgdHJ1ZSlcIlxuICAgICAgc3R5bGU9XCJwYWRkaW5nOiAwXCJcbiAgICAgIHByaXptSW5wdXRcbiAgICAgIHByaXptSW5wdXRJblpvbmVcbiAgICAvPlxuICAgIDxzcGFuIGNsYXNzPVwiZGVsaW1pdGVyXCI+LTwvc3Bhbj5cbiAgICA8aW5wdXRcbiAgICAgIGNsYXNzPVwiaW5wdXQtdGltZVwiXG4gICAgICBbbWFza109XCJjb21wdXRlZERhdGVNYXNrXCJcbiAgICAgIFtkcm9wU3BlY2lhbENoYXJhY3RlcnNdPVwiZmFsc2VcIlxuICAgICAgW2NsZWFySWZOb3RNYXRjaF09XCJmYWxzZVwiXG4gICAgICBbc2hvd01hc2tUeXBlZF09XCIoZm9jdXNhYmxlRWxlbWVudFJlZi5mb2N1c2VkJCB8IGFzeW5jKSB8fCAoaGFzTmF0aXZlVmFsdWUkIHwgYXN5bmMpXCJcbiAgICAgIFtkaXNhYmxlZF09XCIhIWRpc2FibGVkXCJcbiAgICAgIFtuZ01vZGVsT3B0aW9uc109XCJ7IHN0YW5kYWxvbmU6IHRydWUgfVwiXG4gICAgICBbbmdNb2RlbF09XCJ0b1ZhbHVlXCJcbiAgICAgIFtzaXplXT1cImNvbXB1dGVkRGF0ZU1hc2subGVuZ3RoXCJcbiAgICAgIFttYXhMZW5ndGhdPVwiY29tcHV0ZWREYXRlTWFzay5sZW5ndGggKyAxXCJcbiAgICAgIFttYXhTaXplXT1cImNvbXB1dGVkRGF0ZU1hc2subGVuZ3RoXCJcbiAgICAgIChuZ01vZGVsQ2hhbmdlKT1cIm9uRGF0ZVZhbHVlQ2hhbmdlKCRldmVudCB8fCAnJywgZmFsc2UpXCJcbiAgICAgIHN0eWxlPVwicGFkZGluZzogMFwiXG4gICAgICBwcml6bUlucHV0XG4gICAgICBwcml6bUlucHV0SW5ab25lXG4gICAgLz5cbiAgICA8aW5wdXRcbiAgICAgIGNsYXNzPVwiaW5wdXQtdGltZVwiXG4gICAgICBbbWFza109XCJjb21wdXRlZFRpbWVNYXNrXCJcbiAgICAgIFtkcm9wU3BlY2lhbENoYXJhY3RlcnNdPVwiZmFsc2VcIlxuICAgICAgW2NsZWFySWZOb3RNYXRjaF09XCJmYWxzZVwiXG4gICAgICBbc2hvd01hc2tUeXBlZF09XCIoZm9jdXNhYmxlRWxlbWVudFJlZi5mb2N1c2VkJCB8IGFzeW5jKSB8fCAoaGFzTmF0aXZlVmFsdWUkIHwgYXN5bmMpXCJcbiAgICAgIFtkaXNhYmxlZF09XCIhIWRpc2FibGVkXCJcbiAgICAgIFtuZ01vZGVsT3B0aW9uc109XCJ7IHN0YW5kYWxvbmU6IHRydWUgfVwiXG4gICAgICBbbmdNb2RlbF09XCJ0b1RpbWVWYWx1ZVwiXG4gICAgICBbc2l6ZV09XCJjb21wdXRlZFRpbWVNYXNrLmxlbmd0aFwiXG4gICAgICBbbWF4TGVuZ3RoXT1cImNvbXB1dGVkVGltZU1hc2subGVuZ3RoICsgMVwiXG4gICAgICBbbWF4U2l6ZV09XCJjb21wdXRlZFRpbWVNYXNrLmxlbmd0aFwiXG4gICAgICAobmdNb2RlbENoYW5nZSk9XCJvblRpbWVWYWx1ZUNoYW5nZSgkZXZlbnQsIGZhbHNlKVwiXG4gICAgICBzdHlsZT1cInBhZGRpbmc6IDBcIlxuICAgICAgcHJpem1JbnB1dFxuICAgICAgcHJpem1JbnB1dEluWm9uZVxuICAgIC8+XG4gIDwvZGl2PlxuXG4gIDwhLS0gIFRPRE8gYWRkIGFmdGVyIGNyZWF0ZSB0aW1lIHJhbmdlIGNvbXBvbmVudCAtLT5cbiAgPCEtLSAgPG5nLXRlbXBsYXRlICNkcm9wZG93blRpbWVUZW1wbGF0ZT4tLT5cbiAgPCEtLSAgICA8cHJpem0tZGF0YS1saXN0LS0+XG4gIDwhLS0gICAgICBjbGFzcz1cImJsb2NrXCItLT5cbiAgPCEtLSAgICAgICpuZ0lmPVwidGltZUl0ZW1zLmxlbmd0aFwiLS0+XG4gIDwhLS0gICAgICBbc3R5bGUuJiM0NTsmIzQ1O3ByaXptLWRhdGEtbGlzdC1ib3JkZXJdPVwiMFwiLS0+XG4gIDwhLS0gICAgICAocHJpem1BZnRlclZpZXdJbml0KT1cIm1hcmtBc1RvdWNoZWQoKTsgcHJpem1Ecm9wZG93bkhvc3RDb21wb25lbnQucmVDYWxjdWxhdGVQb3NpdGlvbnMoKVwiLS0+XG4gIDwhLS0gICAgICAocHJpem1PbkRlc3Ryb3kpPVwib3BlblRpbWVUZW1wbGF0ZSA9IGZhbHNlXCItLT5cbiAgPCEtLSAgICAgIHByaXptTGlmZWN5Y2xlLS0+XG4gIDwhLS0gICAgPi0tPlxuICA8IS0tICAgICAgPG5nLWNvbnRhaW5lcj4tLT5cbiAgPCEtLSAgICAgICAgPGRpdi0tPlxuICA8IS0tICAgICAgICAgIGNsYXNzPVwidGltZS1pdGVtXCItLT5cbiAgPCEtLSAgICAgICAgICAqbmdGb3I9XCJsZXQgaXRlbSBvZiB0aW1lSXRlbXM7IGxldCBpZHggPSBpbmRleFwiLS0+XG4gIDwhLS0gICAgICAgICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgb25UaW1lTWVudUNsaWNrKGl0ZW0sICRldmVudClcIi0tPlxuICA8IS0tICAgICAgICA+LS0+XG4gIDwhLS0gICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dFwiPi0tPlxuICA8IS0tICAgICAgICAgIHt7IGl0ZW0gfX0tLT5cbiAgPCEtLSAgICAgICAgPC9zcGFuPi0tPlxuICA8IS0tICAgICAgICA8L2Rpdj4tLT5cbiAgPCEtLSAgICAgIDwvbmctY29udGFpbmVyPi0tPlxuICA8IS0tICAgIDwvcHJpem0tZGF0YS1saXN0Pi0tPlxuICA8IS0tICA8L25nLXRlbXBsYXRlPi0tPlxuICA8IS0tICAtLT5cbiAgPG5nLXRlbXBsYXRlICNkcm9wZG93bj5cbiAgICA8cHJpem0tY2FsZW5kYXItcmFuZ2VcbiAgICAgIFtzdHlsZS4tLXByaXptLWlucHV0LWxheW91dC13aWR0aF09XCInMTAwJSdcIlxuICAgICAgW3N0eWxlLi0tcHJpem0tZHJvcGRvd24taG9zdC13aWR0aF09XCInMTAwJSdcIlxuICAgICAgW2RlZmF1bHRWaWV3ZWRNb250aF09XCJkZWZhdWx0Vmlld2VkTW9udGhcIlxuICAgICAgW2Rpc2FibGVkSXRlbUhhbmRsZXJdPVwiZGlzYWJsZWRJdGVtSGFuZGxlclwiXG4gICAgICBbaXRlbXNdPVwiaXRlbXNcIlxuICAgICAgW21pbl09XCJjYWxlbmRhck1pbkRheVwiXG4gICAgICBbbWF4XT1cImNhbGVuZGFyTWF4RGF5XCJcbiAgICAgIFttYXJrZXJIYW5kbGVyXT1cIm1hcmtlckhhbmRsZXJcIlxuICAgICAgW21pbkxlbmd0aF09XCJtaW5MZW5ndGhcIlxuICAgICAgW21heExlbmd0aF09XCJtYXhMZW5ndGhcIlxuICAgICAgW3ZhbHVlXT1cIiRhbnkodmFsdWU/LmRheVJhbmdlKVwiXG4gICAgICAocHJpem1BZnRlclZpZXdJbml0KT1cIm1hcmtBc1RvdWNoZWQoKVwiXG4gICAgICAodmFsdWVDaGFuZ2UpPVwib25SYW5nZUNoYW5nZSgkZXZlbnQpXCJcbiAgICA+XG4gICAgICA8bmctY29udGFpbmVyIGZvb3RlckZyb20+XG4gICAgICAgIDxwcml6bS1pbnB1dC1sYXlvdXQgbGFiZWw9XCLQktGA0LXQvNGPXCI+XG4gICAgICAgICAgPHByaXptLWlucHV0LWxheW91dC10aW1lXG4gICAgICAgICAgICBbc3R5bGUuLS1wcml6bS1kcm9wZG93bi1ob3N0LXdpZHRoXT1cIicxMDAlJ1wiXG4gICAgICAgICAgICBbbmdNb2RlbE9wdGlvbnNdPVwieyBzdGFuZGFsb25lOiB0cnVlIH1cIlxuICAgICAgICAgICAgW25nTW9kZWxdPVwidmFsdWU/LnRpbWVSYW5nZT8uZnJvbVwiXG4gICAgICAgICAgICBbaXRlbXNdPVwidGltZUl0ZW1zXCJcbiAgICAgICAgICAgIFtzdHJpY3RdPVwidGltZVN0cmljdFwiXG4gICAgICAgICAgICBbbW9kZV09XCJ0aW1lTW9kZVwiXG4gICAgICAgICAgICAobmdNb2RlbENoYW5nZSk9XCJ1cGRhdGVUaW1lRnJvbSgkZXZlbnQpXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgPC9wcml6bS1pbnB1dC1sYXlvdXQtdGltZT5cbiAgICAgICAgPC9wcml6bS1pbnB1dC1sYXlvdXQ+XG4gICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgIDxuZy1jb250YWluZXIgZm9vdGVyVG8+XG4gICAgICAgIDxwcml6bS1pbnB1dC1sYXlvdXQgbGFiZWw9XCLQktGA0LXQvNGPXCI+XG4gICAgICAgICAgPHByaXptLWlucHV0LWxheW91dC10aW1lXG4gICAgICAgICAgICBbc3R5bGUuLS1wcml6bS1kcm9wZG93bi1ob3N0LXdpZHRoXT1cIicxMDAlJ1wiXG4gICAgICAgICAgICBbbmdNb2RlbE9wdGlvbnNdPVwieyBzdGFuZGFsb25lOiB0cnVlIH1cIlxuICAgICAgICAgICAgW25nTW9kZWxdPVwidmFsdWU/LnRpbWVSYW5nZT8udG9cIlxuICAgICAgICAgICAgW25nTW9kZWxPcHRpb25zXT1cInsgc3RhbmRhbG9uZTogdHJ1ZSB9XCJcbiAgICAgICAgICAgIFtzdHJpY3RdPVwidGltZVN0cmljdFwiXG4gICAgICAgICAgICBbaXRlbXNdPVwidGltZUl0ZW1zXCJcbiAgICAgICAgICAgIFttb2RlXT1cInRpbWVNb2RlXCJcbiAgICAgICAgICAgIChuZ01vZGVsQ2hhbmdlKT1cInVwZGF0ZVRpbWVUbygkZXZlbnQpXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgPC9wcml6bS1pbnB1dC1sYXlvdXQtdGltZT5cbiAgICAgICAgPC9wcml6bS1pbnB1dC1sYXlvdXQ+XG4gICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICA8L3ByaXptLWNhbGVuZGFyLXJhbmdlPlxuICA8L25nLXRlbXBsYXRlPlxuPC9wcml6bS1kcm9wZG93bi1ob3N0PlxuXG48bmctY29udGFpbmVyICpwcml6bUlucHV0TGF5b3V0UmlnaHQ+XG4gIDxidXR0b25cbiAgICBbaW50ZXJhY3RpdmVdPVwidHJ1ZVwiXG4gICAgW3N0eWxlLi0tcHJpem0taW5wdXQtaWNvbi1idXR0b24td2lkdGhdPVwiJzI0cHgnXCJcbiAgICBbZGlzYWJsZWRdPVwiISFkaXNhYmxlZFwiXG4gICAgKGNsaWNrKT1cImZvY3VzYWJsZUVsZW1lbnRSZWYuZm9jdXMoKTsgb25PcGVuQ2hhbmdlKCFvcGVuKVwiXG4gICAgcHJpem1JbnB1dEljb25CdXR0b249XCJkYXRlLWNhbGVuZGFyLXJhbmdlXCJcbiAgPjwvYnV0dG9uPlxuICA8IS0tICBUT0RPIGFkZCBhZnRlciBjcmVhdGUgdGltZS1yYW5nZSBtb2RhbCAtLT5cbiAgPCEtLSAgPGJ1dHRvbi0tPlxuICA8IS0tICAgIFtpbnRlcmFjdGl2ZV09XCJ0cnVlXCItLT5cbiAgPCEtLSAgICBbZGlzYWJsZWRdPVwiZGlzYWJsZWRcIi0tPlxuICA8IS0tICAgIChjbGljayk9XCJvbk9wZW4oIW9wZW4pXCItLT5cbiAgPCEtLSAgICBwcml6bUlucHV0SWNvbkJ1dHRvbj1cImRhdGUtY2xvY2tcIi0tPlxuICA8IS0tICA+PC9idXR0b24+LS0+XG4gIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGJ1dHRvbiBvZiByaWdodEJ1dHRvbnMkIHwgYXN5bmNcIiBbbmdUZW1wbGF0ZU91dGxldF09XCJidXR0b24udGVtcGxhdGVcIj5cbiAgPC9uZy1jb250YWluZXI+XG48L25nLWNvbnRhaW5lcj5cbiJdfQ==