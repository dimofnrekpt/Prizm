import { prizmSvgNodeFilter } from '../constants/svg-node-filter';
import { prizmIsNativeKeyboardFocusable } from './is-native-keyboard-focusable';
import { prizmIsNativeMouseFocusable } from './is-native-mouse-focusable';
/**
 * Finds the closest element that can be focused with a keyboard or mouse
 */
export function prizmGetClosestFocusable(initial, prev = false, root, keyboard = true) {
    if (!root.ownerDocument) {
        return null;
    }
    const check = keyboard ? prizmIsNativeKeyboardFocusable : prizmIsNativeMouseFocusable;
    const treeWalker = root.ownerDocument.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, prizmSvgNodeFilter);
    treeWalker.currentNode = initial;
    while (prev ? treeWalker.previousNode() : treeWalker.nextNode()) {
        if (treeWalker.currentNode instanceof HTMLElement) {
            initial = treeWalker.currentNode;
        }
        if (check(initial)) {
            return initial;
        }
    }
    return null;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LWNsb3Nlc3Qta2V5Ym9hcmQtZm9jdXNhYmxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9jb21wb25lbnRzL3NyYy9saWIvdXRpbC9nZXQtY2xvc2VzdC1rZXlib2FyZC1mb2N1c2FibGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDbEUsT0FBTyxFQUFFLDhCQUE4QixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDaEYsT0FBTyxFQUFFLDJCQUEyQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFFMUU7O0dBRUc7QUFDSCxNQUFNLFVBQVUsd0JBQXdCLENBQ3RDLE9BQW9CLEVBQ3BCLElBQUksR0FBRyxLQUFLLEVBQ1osSUFBVSxFQUNWLFFBQVEsR0FBRyxJQUFJO0lBRWYsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUU7UUFDdkIsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUVELE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsOEJBQThCLENBQUMsQ0FBQyxDQUFDLDJCQUEyQixDQUFDO0lBRXRGLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxZQUFZLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztJQUUxRyxVQUFVLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQztJQUVqQyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLEVBQUU7UUFDL0QsSUFBSSxVQUFVLENBQUMsV0FBVyxZQUFZLFdBQVcsRUFBRTtZQUNqRCxPQUFPLEdBQUcsVUFBVSxDQUFDLFdBQVcsQ0FBQztTQUNsQztRQUVELElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ2xCLE9BQU8sT0FBTyxDQUFDO1NBQ2hCO0tBQ0Y7SUFFRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcml6bVN2Z05vZGVGaWx0ZXIgfSBmcm9tICcuLi9jb25zdGFudHMvc3ZnLW5vZGUtZmlsdGVyJztcbmltcG9ydCB7IHByaXptSXNOYXRpdmVLZXlib2FyZEZvY3VzYWJsZSB9IGZyb20gJy4vaXMtbmF0aXZlLWtleWJvYXJkLWZvY3VzYWJsZSc7XG5pbXBvcnQgeyBwcml6bUlzTmF0aXZlTW91c2VGb2N1c2FibGUgfSBmcm9tICcuL2lzLW5hdGl2ZS1tb3VzZS1mb2N1c2FibGUnO1xuXG4vKipcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IGVsZW1lbnQgdGhhdCBjYW4gYmUgZm9jdXNlZCB3aXRoIGEga2V5Ym9hcmQgb3IgbW91c2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByaXptR2V0Q2xvc2VzdEZvY3VzYWJsZShcbiAgaW5pdGlhbDogSFRNTEVsZW1lbnQsXG4gIHByZXYgPSBmYWxzZSxcbiAgcm9vdDogTm9kZSxcbiAga2V5Ym9hcmQgPSB0cnVlXG4pOiBIVE1MRWxlbWVudCB8IG51bGwge1xuICBpZiAoIXJvb3Qub3duZXJEb2N1bWVudCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgY2hlY2sgPSBrZXlib2FyZCA/IHByaXptSXNOYXRpdmVLZXlib2FyZEZvY3VzYWJsZSA6IHByaXptSXNOYXRpdmVNb3VzZUZvY3VzYWJsZTtcblxuICBjb25zdCB0cmVlV2Fsa2VyID0gcm9vdC5vd25lckRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIocm9vdCwgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQsIHByaXptU3ZnTm9kZUZpbHRlcik7XG5cbiAgdHJlZVdhbGtlci5jdXJyZW50Tm9kZSA9IGluaXRpYWw7XG5cbiAgd2hpbGUgKHByZXYgPyB0cmVlV2Fsa2VyLnByZXZpb3VzTm9kZSgpIDogdHJlZVdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgaWYgKHRyZWVXYWxrZXIuY3VycmVudE5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgaW5pdGlhbCA9IHRyZWVXYWxrZXIuY3VycmVudE5vZGU7XG4gICAgfVxuXG4gICAgaWYgKGNoZWNrKGluaXRpYWwpKSB7XG4gICAgICByZXR1cm4gaW5pdGlhbDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbiJdfQ==