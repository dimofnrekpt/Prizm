import { coerceNumberProperty } from '@angular/cdk/coercion';
import { ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, Inject, Input, Output, } from '@angular/core';
import { AsyncSubject, Observable } from 'rxjs';
import { PolymorphOutletDirective } from '../../directives';
import { PrizmAbstractTestId } from '../../abstract/interactive';
import { PRIZM_PAGINATOR } from '../../tokens';
import { prizmI18nInitWithKey } from '../../services';
import { CommonModule } from '@angular/common';
import { PrizmCallFuncPipe, PrizmLetDirective, PrizmPluckPipe } from '@prizm-ui/helpers';
import { PrizmIconComponent } from '../icon';
import { PrizmInputSelectModule } from '../dropdowns/select';
import { FormsModule, ReactiveFormsModule } from '@angular/forms';
import { PrizmButtonModule } from '../button';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "../dropdowns/select/input-select.component";
import * as i3 from "../input/common/input-layout/input-layout.component";
import * as i4 from "@angular/forms";
import * as i5 from "../button/button.component";
import * as i6 from "rxjs";
export class PrizmPaginatorComponent extends PrizmAbstractTestId {
    /** The length of the total number of items that are being paginated. Defaulted to 0. */
    get totalRecords() {
        return this.paginatorType === 'finite' ? this._totalRecords : null;
    }
    set totalRecords(value) {
        this._totalRecords = Math.max(coerceNumberProperty(value), 0);
        this.changeDetectorRef.markForCheck();
    }
    /** Number of items to display on a page. */
    get rows() {
        return this._rows;
    }
    set rows(value) {
        this._rows = Math.max(coerceNumberProperty(value), 0);
        if (!this._rows) {
            this._rows = this.rowsCountOptions[0];
        }
        this.changeDetectorRef.markForCheck();
    }
    /** The 1-based page index of the displayed list of items. Defaulted to 1. */
    get page() {
        return this.currentPage;
    }
    set page(value) {
        this.currentPage = Math.max(coerceNumberProperty(value), 1);
        this.changeDetectorRef.markForCheck();
    }
    constructor(paginator$, changeDetectorRef) {
        super();
        this.paginator$ = paginator$;
        this.changeDetectorRef = changeDetectorRef;
        this.paginatorType = 'finite';
        this.textOnPage = 'Строк на странице';
        this._totalRecords = 0;
        // Сколько номеров видно на экране
        this.pageLinkSize = Number.POSITIVE_INFINITY;
        this.showMoreDisabled = false;
        // disabled
        this.disabled = false;
        this.paginatorOptions = {
            noRowsSelector: false,
            noRowsSelectorLabel: false,
            noInfo: false,
            noPages: false,
        };
        this.leftButtonLabel = '';
        this.rightButtonLabel = '';
        this.moreButtonLabel = 'Показать еще';
        this.rowsCountOptions = [];
        this.paginatorChange = new EventEmitter();
        this.pageChange = new EventEmitter();
        this.rowsChange = new EventEmitter();
        this.testId_ = 'ui_paginator';
        /**
         * The 1-based page index of the displayed list of items.
         */
        this.currentPage = 1;
        // Количесвто пакетов = Суммарное количество данных / Сколько данных в одном пакете
        this.pagesCount = 0;
        // `AsyncSubject` used so what late subscribers notified immediately.
        this.initialized$$ = new AsyncSubject();
        this.initialized = this.initialized$$.asObservable();
    }
    ngOnInit() {
        this.paginationGenerator();
        this.initialized$$.next();
        this.initialized$$.complete();
    }
    /**
     * Updates the list of page options to display to the user.
     */
    paginationGenerator() {
        if (this.isDataValid) {
            const allNumbers = new Array(this.pagesCount).fill(0).map((page, i) => i + 1);
            let mid;
            if (this.currentPage - Math.ceil((this.pageLinkSize - 1) / 2) <= 1) {
                mid = allNumbers.filter(item => item <= this.pageLinkSize);
            }
            else if (this.currentPage + Math.ceil((this.pageLinkSize - 1) / 2) >= this.pagesCount) {
                mid = allNumbers.filter(item => item > this.pagesCount - this.pageLinkSize);
            }
            else {
                mid = allNumbers.filter(item => item >= this.currentPage - Math.ceil((this.pageLinkSize - 1) / 2) &&
                    item <= this.currentPage + Math.floor((this.pageLinkSize - 1) / 2));
            }
            this.changeDetectorRef.markForCheck();
            return {
                mid: mid,
                left: mid[0] === 1 ? null : 1,
                right: mid[mid.length - 1] === this.pagesCount ? null : this.pagesCount,
            };
        }
        return null;
    }
    get realTotalRecord() {
        return this.paginatorType === 'infinite' ? this.rows * (this.currentPage + 1) : this.totalRecords;
    }
    /**
     * Tries to normalize paginator configuration.
     */
    get isDataValid() {
        if (!this.rows)
            return false;
        if (!this.totalRecords)
            return false;
        this.pagesCount = Math.ceil(this.totalRecords / this.rows);
        this.currentPage = Math.min(this.currentPage, this.pagesCount) || 1;
        return true;
    }
    changePage(page) {
        const prev = this.currentPage;
        this.page = page;
        // Emit only if real value was changed by the setter
        if (this.currentPage !== prev) {
            this.emitPageChange();
        }
    }
    increase() {
        this.changePage(this.page + 1);
    }
    decrease() {
        this.changePage(this.page - 1);
    }
    toLastPage() {
        this.changePage(this.pagesCount);
    }
    toFirstPage() {
        this.changePage(0);
    }
    emitPageChange() {
        this.pageChange.emit(this.currentPage);
        this.emitPaginatorChanges();
    }
    emitPaginatorChanges() {
        this.paginatorChange.emit({
            page: this.currentPage,
            first: (this.currentPage - 1) * this.rows + 1,
            rows: this.rows,
            pagesCount: this.paginatorType === 'infinite' ? null : this.pagesCount,
        });
    }
    changeRows(rows) {
        if (this.rows === rows)
            return;
        this.rows = rows;
        this.paginationGenerator();
        this.rowsChange.emit(this.rows);
        this.emitPaginatorChanges();
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.8", ngImport: i0, type: PrizmPaginatorComponent, deps: [{ token: PRIZM_PAGINATOR }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.8", type: PrizmPaginatorComponent, isStandalone: true, selector: "prizm-paginator", inputs: { paginatorType: "paginatorType", textOnPage: "textOnPage", totalRecords: "totalRecords", pageLinkSize: "pageLinkSize", showMoreDisabled: "showMoreDisabled", disabled: "disabled", rows: "rows", page: "page", paginatorOptions: "paginatorOptions", leftButtonLabel: "leftButtonLabel", rightButtonLabel: "rightButtonLabel", moreButtonLabel: "moreButtonLabel", rowsCountOptions: "rowsCountOptions" }, outputs: { paginatorChange: "paginatorChange", pageChange: "pageChange", rowsChange: "rowsChange" }, providers: [...prizmI18nInitWithKey(PRIZM_PAGINATOR, 'paginator')], usesInheritance: true, ngImport: i0, template: "<div class=\"container\">\n  <div class=\"content\">\n    <span\n      class=\"rows rows__count\"\n      *ngIf=\"!paginatorOptions?.noRowsSelector && !paginatorOptions?.noRowsSelectorLabel\"\n    >\n      <ng-container *polymorphOutlet=\"textOnPage as title\">\n        {{ title }}\n      </ng-container>\n    </span>\n    <div class=\"rows-selector\" *ngIf=\"!paginatorOptions?.noRowsSelector\">\n      <prizm-input-layout [forceClear]=\"false\" [outer]=\"true\" label=\"\" size=\"s\">\n        <prizm-input-select\n          [items]=\"$any(this.rowsCountOptions?.length) > 0 ? this.rowsCountOptions : [rows]\"\n          [disabled]=\"disabled\"\n          [ngModel]=\"rows\"\n          [ngModelOptions]=\"{ standalone: true }\"\n          [nullContent]=\"$any(null)\"\n          (ngModelChange)=\"changeRows($event)\"\n        ></prizm-input-select>\n      </prizm-input-layout>\n    </div>\n  </div>\n\n  <div class=\"content\">\n    <span class=\"rows rows__show\" *ngIf=\"!paginatorOptions?.noInfo\" [hidden]=\"disabled\">\n      {{ paginator$ | async | prizmPluck : ['linesShown'] }} {{ (currentPage - 1) * rows + 1 }}-{{\n        currentPage * rows > $any(totalRecords) ? totalRecords : currentPage * rows\n      }}\n      \u0438\u0437 {{ realTotalRecord }}\n    </span>\n    <div\n      class=\"paginator paginator__finite\"\n      *ngIf=\"paginatorType === 'finite' && paginationGenerator() as pagingData\"\n    >\n      <button\n        class=\"control control_left\"\n        *ngIf=\"paginatorOptions.noToFirstPageBtn ?? true\"\n        [icon]=\"'chevrons-double-left'\"\n        [disabled]=\"disabled || currentPage === 1\"\n        (click)=\"toFirstPage()\"\n        prizmIconButton\n        appearanceType=\"ghost\"\n        appearance=\"secondary\"\n        size=\"m\"\n      ></button>\n      <button\n        class=\"control control_left\"\n        *ngIf=\"!leftButtonLabel; else leftLabelBtn\"\n        [icon]=\"'arrows-chevron-left'\"\n        [disabled]=\"disabled || currentPage === 1\"\n        (click)=\"decrease()\"\n        prizmIconButton\n        appearanceType=\"ghost\"\n        appearance=\"secondary\"\n        size=\"m\"\n      ></button>\n      <ng-template #leftLabelBtn>\n        <button\n          class=\"control control_left\"\n          *ngIf=\"leftButtonLabel\"\n          [icon]=\"'arrows-chevron-left'\"\n          [disabled]=\"disabled || currentPage === 1\"\n          (click)=\"decrease()\"\n          prizmButton\n          appearanceType=\"ghost\"\n          appearance=\"secondary\"\n          size=\"m\"\n        >\n          {{ leftButtonLabel }}\n        </button>\n      </ng-template>\n\n      <ng-container *ngIf=\"!paginatorOptions?.noPages\">\n        <ng-container *ngIf=\"pagingData.left\">\n          <button\n            class=\"page\"\n            [disabled]=\"disabled\"\n            (click)=\"changePage(pagingData.left)\"\n            prizmButton\n            appearanceType=\"ghost\"\n            appearance=\"secondary\"\n            size=\"m\"\n          >\n            {{ pagingData.left }}\n          </button>\n          <div\n            class=\"dots\"\n            *ngIf=\"pagingData.left + 1 !== pagingData.mid[0]\"\n            [class.dots_disabled]=\"disabled\"\n          >\n            ...\n          </div>\n        </ng-container>\n\n        <button\n          class=\"page\"\n          *ngFor=\"let page of pagingData.mid\"\n          [disabled]=\"disabled\"\n          [pseudoPressed]=\"page === currentPage\"\n          (click)=\"changePage(page)\"\n          prizmButton\n          appearanceType=\"ghost\"\n          appearance=\"secondary\"\n          size=\"m\"\n        >\n          {{ page }}\n        </button>\n\n        <ng-container *ngIf=\"pagingData.right\">\n          <div\n            class=\"dots\"\n            *ngIf=\"pagingData.right - 1 !== pagingData.mid[pagingData.mid.length - 1]\"\n            [class.dots_disabled]=\"disabled\"\n          >\n            ...\n          </div>\n          <button\n            class=\"page\"\n            [disabled]=\"disabled\"\n            (click)=\"changePage(pagingData.right)\"\n            prizmButton\n            appearanceType=\"ghost\"\n            appearance=\"secondary\"\n            size=\"m\"\n          >\n            {{ pagingData.right }}\n          </button>\n        </ng-container>\n      </ng-container>\n\n      <button\n        class=\"control control_right\"\n        *ngIf=\"!rightButtonLabel; else rightLabelBtn\"\n        [icon]=\"'arrows-chevron-right'\"\n        [disabled]=\"disabled || (currentPage === pagesCount ?? currentPage === 0)\"\n        (click)=\"increase()\"\n        prizmIconButton\n        appearanceType=\"ghost\"\n        appearance=\"secondary\"\n        size=\"m\"\n      ></button>\n      <ng-template #rightLabelBtn>\n        <button\n          class=\"control_right\"\n          [iconRight]=\"'arrows-chevron-right'\"\n          [disabled]=\"disabled || (currentPage === pagesCount ?? currentPage === 0)\"\n          (click)=\"increase()\"\n          prizmButton\n          appearanceType=\"ghost\"\n          appearance=\"secondary\"\n          size=\"m\"\n        >\n          {{ rightButtonLabel }}\n        </button>\n      </ng-template>\n\n      <button\n        class=\"control control_right\"\n        *ngIf=\"paginatorOptions.noToLastPageBtn ?? true\"\n        [icon]=\"'chevrons-double-right'\"\n        [disabled]=\"disabled || (currentPage === pagesCount ?? currentPage === 0)\"\n        (click)=\"toLastPage()\"\n        prizmIconButton\n        appearanceType=\"ghost\"\n        appearance=\"secondary\"\n        size=\"m\"\n      ></button>\n    </div>\n\n    <div class=\"paginator paginator__infinite\" *ngIf=\"paginatorType === 'infinite'\">\n      <button\n        [disabled]=\"disabled || showMoreDisabled\"\n        (click)=\"increase()\"\n        prizmButton\n        appearanceType=\"ghost\"\n        appearance=\"primary\"\n        size=\"m\"\n      >\n        {{ moreButtonLabel }}\n      </button>\n    </div>\n  </div>\n</div>\n", styles: [":host{height:40px;display:flex}:host button{outline:none;border:none;background:transparent;cursor:pointer}:host .container{height:100%;width:100%;padding:16px;background:var(--prizm-v3-background-fill-primary);display:flex;justify-content:space-between;align-items:center;overflow:hidden}:host .container .content{display:flex;align-items:center}:host .container span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}:host .container .rows{font-weight:600;font-size:12px;line-height:16px}:host .container .rows__count{margin-right:12px;color:var(--prizm-v3-text-icon-secondary)}:host .container .rows__show{margin-right:16px;color:var(--prizm-v3-text-icon-tertiary)}:host .container .rows-selector{margin-right:12px;width:100px;min-width:100px}:host .container .paginator{display:flex}:host .container .paginator .page{height:32px;min-width:40px;margin:0 4px}:host .container .paginator .dots{height:32px;width:32px;display:flex;align-items:flex-end;justify-content:center;color:var(--prizm-v3-button-secondary-solid-default)}:host .container .paginator .dots_disabled{cursor:not-allowed;color:var(--prizm-v3-text-icon-disable)}:host .container .paginator .control_left{margin-right:16px}:host .container .paginator .control_right{margin-left:16px}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "pipe", type: i1.AsyncPipe, name: "async" }, { kind: "directive", type: PolymorphOutletDirective, selector: "[polymorphOutlet]", inputs: ["polymorphOutlet", "polymorphOutletContext", "polymorphOutletInjector"] }, { kind: "ngmodule", type: PrizmInputSelectModule }, { kind: "component", type: i2.PrizmSelectInputComponent, selector: "prizm-input-select", inputs: ["prizmHintDirection", "prizmHintCanShow", "items", "dropdownScroll", "dropdownStyles", "dropdownClasses", "searchable", "icon", "minDropdownHeight", "maxDropdownHeight", "placeholder", "dropdownWidth", "search", "transformer", "searchMatcher", "emptyContent", "nullContent", "stringify", "identityMatcher", "valueTemplate", "listItemTemplate"], outputs: ["searchChange"], exportAs: ["prizmSelectInput"] }, { kind: "component", type: i3.PrizmInputLayoutComponent, selector: "prizm-input-layout", inputs: ["label", "size", "status", "outer", "clearButton", "border", "position", "forceClear"], outputs: ["clear"] }, { kind: "ngmodule", type: ReactiveFormsModule }, { kind: "directive", type: i4.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i4.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "ngmodule", type: PrizmButtonModule }, { kind: "component", type: i5.PrizmButtonComponent, selector: "button[prizmButton], button[prizmIconButton], a[prizmButton], a[prizmIconButton]", inputs: ["size", "icon", "iconRight", "appearance", "appearanceType", "disabled", "showLoader"] }, { kind: "pipe", type: PrizmPluckPipe, name: "prizmPluck" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.8", ngImport: i0, type: PrizmPaginatorComponent, decorators: [{
            type: Component,
            args: [{ selector: 'prizm-paginator', changeDetection: ChangeDetectionStrategy.OnPush, providers: [...prizmI18nInitWithKey(PRIZM_PAGINATOR, 'paginator')], standalone: true, imports: [
                        CommonModule,
                        PrizmCallFuncPipe,
                        PolymorphOutletDirective,
                        PrizmLetDirective,
                        PrizmIconComponent,
                        PrizmInputSelectModule,
                        ReactiveFormsModule,
                        FormsModule,
                        PrizmButtonModule,
                        PrizmPluckPipe,
                    ], template: "<div class=\"container\">\n  <div class=\"content\">\n    <span\n      class=\"rows rows__count\"\n      *ngIf=\"!paginatorOptions?.noRowsSelector && !paginatorOptions?.noRowsSelectorLabel\"\n    >\n      <ng-container *polymorphOutlet=\"textOnPage as title\">\n        {{ title }}\n      </ng-container>\n    </span>\n    <div class=\"rows-selector\" *ngIf=\"!paginatorOptions?.noRowsSelector\">\n      <prizm-input-layout [forceClear]=\"false\" [outer]=\"true\" label=\"\" size=\"s\">\n        <prizm-input-select\n          [items]=\"$any(this.rowsCountOptions?.length) > 0 ? this.rowsCountOptions : [rows]\"\n          [disabled]=\"disabled\"\n          [ngModel]=\"rows\"\n          [ngModelOptions]=\"{ standalone: true }\"\n          [nullContent]=\"$any(null)\"\n          (ngModelChange)=\"changeRows($event)\"\n        ></prizm-input-select>\n      </prizm-input-layout>\n    </div>\n  </div>\n\n  <div class=\"content\">\n    <span class=\"rows rows__show\" *ngIf=\"!paginatorOptions?.noInfo\" [hidden]=\"disabled\">\n      {{ paginator$ | async | prizmPluck : ['linesShown'] }} {{ (currentPage - 1) * rows + 1 }}-{{\n        currentPage * rows > $any(totalRecords) ? totalRecords : currentPage * rows\n      }}\n      \u0438\u0437 {{ realTotalRecord }}\n    </span>\n    <div\n      class=\"paginator paginator__finite\"\n      *ngIf=\"paginatorType === 'finite' && paginationGenerator() as pagingData\"\n    >\n      <button\n        class=\"control control_left\"\n        *ngIf=\"paginatorOptions.noToFirstPageBtn ?? true\"\n        [icon]=\"'chevrons-double-left'\"\n        [disabled]=\"disabled || currentPage === 1\"\n        (click)=\"toFirstPage()\"\n        prizmIconButton\n        appearanceType=\"ghost\"\n        appearance=\"secondary\"\n        size=\"m\"\n      ></button>\n      <button\n        class=\"control control_left\"\n        *ngIf=\"!leftButtonLabel; else leftLabelBtn\"\n        [icon]=\"'arrows-chevron-left'\"\n        [disabled]=\"disabled || currentPage === 1\"\n        (click)=\"decrease()\"\n        prizmIconButton\n        appearanceType=\"ghost\"\n        appearance=\"secondary\"\n        size=\"m\"\n      ></button>\n      <ng-template #leftLabelBtn>\n        <button\n          class=\"control control_left\"\n          *ngIf=\"leftButtonLabel\"\n          [icon]=\"'arrows-chevron-left'\"\n          [disabled]=\"disabled || currentPage === 1\"\n          (click)=\"decrease()\"\n          prizmButton\n          appearanceType=\"ghost\"\n          appearance=\"secondary\"\n          size=\"m\"\n        >\n          {{ leftButtonLabel }}\n        </button>\n      </ng-template>\n\n      <ng-container *ngIf=\"!paginatorOptions?.noPages\">\n        <ng-container *ngIf=\"pagingData.left\">\n          <button\n            class=\"page\"\n            [disabled]=\"disabled\"\n            (click)=\"changePage(pagingData.left)\"\n            prizmButton\n            appearanceType=\"ghost\"\n            appearance=\"secondary\"\n            size=\"m\"\n          >\n            {{ pagingData.left }}\n          </button>\n          <div\n            class=\"dots\"\n            *ngIf=\"pagingData.left + 1 !== pagingData.mid[0]\"\n            [class.dots_disabled]=\"disabled\"\n          >\n            ...\n          </div>\n        </ng-container>\n\n        <button\n          class=\"page\"\n          *ngFor=\"let page of pagingData.mid\"\n          [disabled]=\"disabled\"\n          [pseudoPressed]=\"page === currentPage\"\n          (click)=\"changePage(page)\"\n          prizmButton\n          appearanceType=\"ghost\"\n          appearance=\"secondary\"\n          size=\"m\"\n        >\n          {{ page }}\n        </button>\n\n        <ng-container *ngIf=\"pagingData.right\">\n          <div\n            class=\"dots\"\n            *ngIf=\"pagingData.right - 1 !== pagingData.mid[pagingData.mid.length - 1]\"\n            [class.dots_disabled]=\"disabled\"\n          >\n            ...\n          </div>\n          <button\n            class=\"page\"\n            [disabled]=\"disabled\"\n            (click)=\"changePage(pagingData.right)\"\n            prizmButton\n            appearanceType=\"ghost\"\n            appearance=\"secondary\"\n            size=\"m\"\n          >\n            {{ pagingData.right }}\n          </button>\n        </ng-container>\n      </ng-container>\n\n      <button\n        class=\"control control_right\"\n        *ngIf=\"!rightButtonLabel; else rightLabelBtn\"\n        [icon]=\"'arrows-chevron-right'\"\n        [disabled]=\"disabled || (currentPage === pagesCount ?? currentPage === 0)\"\n        (click)=\"increase()\"\n        prizmIconButton\n        appearanceType=\"ghost\"\n        appearance=\"secondary\"\n        size=\"m\"\n      ></button>\n      <ng-template #rightLabelBtn>\n        <button\n          class=\"control_right\"\n          [iconRight]=\"'arrows-chevron-right'\"\n          [disabled]=\"disabled || (currentPage === pagesCount ?? currentPage === 0)\"\n          (click)=\"increase()\"\n          prizmButton\n          appearanceType=\"ghost\"\n          appearance=\"secondary\"\n          size=\"m\"\n        >\n          {{ rightButtonLabel }}\n        </button>\n      </ng-template>\n\n      <button\n        class=\"control control_right\"\n        *ngIf=\"paginatorOptions.noToLastPageBtn ?? true\"\n        [icon]=\"'chevrons-double-right'\"\n        [disabled]=\"disabled || (currentPage === pagesCount ?? currentPage === 0)\"\n        (click)=\"toLastPage()\"\n        prizmIconButton\n        appearanceType=\"ghost\"\n        appearance=\"secondary\"\n        size=\"m\"\n      ></button>\n    </div>\n\n    <div class=\"paginator paginator__infinite\" *ngIf=\"paginatorType === 'infinite'\">\n      <button\n        [disabled]=\"disabled || showMoreDisabled\"\n        (click)=\"increase()\"\n        prizmButton\n        appearanceType=\"ghost\"\n        appearance=\"primary\"\n        size=\"m\"\n      >\n        {{ moreButtonLabel }}\n      </button>\n    </div>\n  </div>\n</div>\n", styles: [":host{height:40px;display:flex}:host button{outline:none;border:none;background:transparent;cursor:pointer}:host .container{height:100%;width:100%;padding:16px;background:var(--prizm-v3-background-fill-primary);display:flex;justify-content:space-between;align-items:center;overflow:hidden}:host .container .content{display:flex;align-items:center}:host .container span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}:host .container .rows{font-weight:600;font-size:12px;line-height:16px}:host .container .rows__count{margin-right:12px;color:var(--prizm-v3-text-icon-secondary)}:host .container .rows__show{margin-right:16px;color:var(--prizm-v3-text-icon-tertiary)}:host .container .rows-selector{margin-right:12px;width:100px;min-width:100px}:host .container .paginator{display:flex}:host .container .paginator .page{height:32px;min-width:40px;margin:0 4px}:host .container .paginator .dots{height:32px;width:32px;display:flex;align-items:flex-end;justify-content:center;color:var(--prizm-v3-button-secondary-solid-default)}:host .container .paginator .dots_disabled{cursor:not-allowed;color:var(--prizm-v3-text-icon-disable)}:host .container .paginator .control_left{margin-right:16px}:host .container .paginator .control_right{margin-left:16px}\n"] }]
        }], ctorParameters: function () { return [{ type: i6.Observable, decorators: [{
                    type: Inject,
                    args: [PRIZM_PAGINATOR]
                }] }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { paginatorType: [{
                type: Input
            }], textOnPage: [{
                type: Input
            }], totalRecords: [{
                type: Input
            }], pageLinkSize: [{
                type: Input
            }], showMoreDisabled: [{
                type: Input
            }], disabled: [{
                type: Input
            }], rows: [{
                type: Input
            }], page: [{
                type: Input
            }], paginatorOptions: [{
                type: Input
            }], leftButtonLabel: [{
                type: Input
            }], rightButtonLabel: [{
                type: Input
            }], moreButtonLabel: [{
                type: Input
            }], rowsCountOptions: [{
                type: Input
            }], paginatorChange: [{
                type: Output
            }], pageChange: [{
                type: Output
            }], rowsChange: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJpem0tcGFnaW5hdG9yLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvY29tcG9uZW50cy9zcmMvbGliL2NvbXBvbmVudHMvcGFnaW5hdG9yL3ByaXptLXBhZ2luYXRvci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2NvbXBvbmVudHMvc3JjL2xpYi9jb21wb25lbnRzL3BhZ2luYXRvci9wcml6bS1wYWdpbmF0b3IuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLG9CQUFvQixFQUFlLE1BQU0sdUJBQXVCLENBQUM7QUFDMUUsT0FBTyxFQUNMLHVCQUF1QixFQUN2QixpQkFBaUIsRUFDakIsU0FBUyxFQUNULFlBQVksRUFDWixNQUFNLEVBQ04sS0FBSyxFQUVMLE1BQU0sR0FDUCxNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsWUFBWSxFQUFFLFVBQVUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQU9oRCxPQUFPLEVBQW9CLHdCQUF3QixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDOUUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFFakUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUMvQyxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN0RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLGlCQUFpQixFQUFFLGlCQUFpQixFQUFFLGNBQWMsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3pGLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUM3QyxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsV0FBVyxFQUFF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bUI7d0JBQ25CLFdBQVc7d0JBQ1gsaUJBQWlCO3dCQUNqQixjQUFjO3FCQUNmOzswQkErRUUsTUFBTTsyQkFBQyxlQUFlOzRFQTVFVCxhQUFhO3NCQUE1QixLQUFLO2dCQUNHLFVBQVU7c0JBQWxCLEtBQUs7Z0JBR0YsWUFBWTtzQkFEZixLQUFLO2dCQVdVLFlBQVk7c0JBQTNCLEtBQUs7Z0JBQ1UsZ0JBQWdCO3NCQUEvQixLQUFLO2dCQUVVLFFBQVE7c0JBQXZCLEtBQUs7Z0JBSUYsSUFBSTtzQkFEUCxLQUFLO2dCQWdCRixJQUFJO3NCQURQLEtBQUs7Z0JBU0csZ0JBQWdCO3NCQUF4QixLQUFLO2dCQU9VLGVBQWU7c0JBQTlCLEtBQUs7Z0JBQ1UsZ0JBQWdCO3NCQUEvQixLQUFLO2dCQUNHLGVBQWU7c0JBQXZCLEtBQUs7Z0JBRVUsZ0JBQWdCO3NCQUEvQixLQUFLO2dCQUNXLGVBQWU7c0JBQS9CLE1BQU07Z0JBRVUsVUFBVTtzQkFBMUIsTUFBTTtnQkFDVSxVQUFVO3NCQUExQixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29lcmNlTnVtYmVyUHJvcGVydHksIE51bWJlcklucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2NvZXJjaW9uJztcbmltcG9ydCB7XG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgQ29tcG9uZW50LFxuICBFdmVudEVtaXR0ZXIsXG4gIEluamVjdCxcbiAgSW5wdXQsXG4gIE9uSW5pdCxcbiAgT3V0cHV0LFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFzeW5jU3ViamVjdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtcbiAgUHJpem1QYWdpbmF0b3JEYXRhLFxuICBQcml6bVBhZ2luYXRvck9wdGlvbnMsXG4gIFByaXptUGFnaW5hdG9yT3V0cHV0LFxuICBQcml6bVBhZ2luYXRvclR5cGUsXG59IGZyb20gJy4vaW50ZXJmYWNlcy9wcml6bS1wYWdpbmF0b3IuaW50ZXJmYWNlJztcbmltcG9ydCB7IFBvbHltb3JwaENvbnRlbnQsIFBvbHltb3JwaE91dGxldERpcmVjdGl2ZSB9IGZyb20gJy4uLy4uL2RpcmVjdGl2ZXMnO1xuaW1wb3J0IHsgUHJpem1BYnN0cmFjdFRlc3RJZCB9IGZyb20gJy4uLy4uL2Fic3RyYWN0L2ludGVyYWN0aXZlJztcbmltcG9ydCB7IFByaXptTGFuZ3VhZ2VQYWdpbmF0b3IgfSBmcm9tICdAcHJpem0tdWkvaTE4bic7XG5pbXBvcnQgeyBQUklaTV9QQUdJTkFUT1IgfSBmcm9tICcuLi8uLi90b2tlbnMnO1xuaW1wb3J0IHsgcHJpem1JMThuSW5pdFdpdGhLZXkgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcyc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgUHJpem1DYWxsRnVuY1BpcGUsIFByaXptTGV0RGlyZWN0aXZlLCBQcml6bVBsdWNrUGlwZSB9IGZyb20gJ0Bwcml6bS11aS9oZWxwZXJzJztcbmltcG9ydCB7IFByaXptSWNvbkNvbXBvbmVudCB9IGZyb20gJy4uL2ljb24nO1xuaW1wb3J0IHsgUHJpem1JbnB1dFNlbGVjdE1vZHVsZSB9IGZyb20gJy4uL2Ryb3Bkb3ducy9zZWxlY3QnO1xuaW1wb3J0IHsgRm9ybXNNb2R1bGUsIFJlYWN0aXZlRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBQcml6bUJ1dHRvbk1vZHVsZSB9IGZyb20gJy4uL2J1dHRvbic7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3ByaXptLXBhZ2luYXRvcicsXG4gIHRlbXBsYXRlVXJsOiAnLi9wcml6bS1wYWdpbmF0b3IuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9wcml6bS1wYWdpbmF0b3IuY29tcG9uZW50Lmxlc3MnXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIHByb3ZpZGVyczogWy4uLnByaXptSTE4bkluaXRXaXRoS2V5KFBSSVpNX1BBR0lOQVRPUiwgJ3BhZ2luYXRvcicpXSxcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgaW1wb3J0czogW1xuICAgIENvbW1vbk1vZHVsZSxcbiAgICBQcml6bUNhbGxGdW5jUGlwZSxcbiAgICBQb2x5bW9ycGhPdXRsZXREaXJlY3RpdmUsXG4gICAgUHJpem1MZXREaXJlY3RpdmUsXG4gICAgUHJpem1JY29uQ29tcG9uZW50LFxuICAgIFByaXptSW5wdXRTZWxlY3RNb2R1bGUsXG4gICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICBGb3Jtc01vZHVsZSxcbiAgICBQcml6bUJ1dHRvbk1vZHVsZSxcbiAgICBQcml6bVBsdWNrUGlwZSxcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgUHJpem1QYWdpbmF0b3JDb21wb25lbnQgZXh0ZW5kcyBQcml6bUFic3RyYWN0VGVzdElkIGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCkgcHVibGljIHBhZ2luYXRvclR5cGU6IFByaXptUGFnaW5hdG9yVHlwZSA9ICdmaW5pdGUnO1xuICBASW5wdXQoKSB0ZXh0T25QYWdlOiBQb2x5bW9ycGhDb250ZW50ID0gJ9Ch0YLRgNC+0Log0L3QsCDRgdGC0YDQsNC90LjRhtC1JztcbiAgLyoqIFRoZSBsZW5ndGggb2YgdGhlIHRvdGFsIG51bWJlciBvZiBpdGVtcyB0aGF0IGFyZSBiZWluZyBwYWdpbmF0ZWQuIERlZmF1bHRlZCB0byAwLiAqL1xuICBASW5wdXQoKVxuICBnZXQgdG90YWxSZWNvcmRzKCk6IG51bWJlciB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLnBhZ2luYXRvclR5cGUgPT09ICdmaW5pdGUnID8gdGhpcy5fdG90YWxSZWNvcmRzIDogbnVsbDtcbiAgfVxuICBzZXQgdG90YWxSZWNvcmRzKHZhbHVlOiBOdW1iZXJJbnB1dCkge1xuICAgIHRoaXMuX3RvdGFsUmVjb3JkcyA9IE1hdGgubWF4KGNvZXJjZU51bWJlclByb3BlcnR5KHZhbHVlKSwgMCk7XG4gICAgdGhpcy5jaGFuZ2VEZXRlY3RvclJlZi5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuICBwcml2YXRlIF90b3RhbFJlY29yZHMgPSAwO1xuXG4gIC8vINCh0LrQvtC70YzQutC+INC90L7QvNC10YDQvtCyINCy0LjQtNC90L4g0L3QsCDRjdC60YDQsNC90LVcbiAgQElucHV0KCkgcHVibGljIHBhZ2VMaW5rU2l6ZTogbnVtYmVyID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICBASW5wdXQoKSBwdWJsaWMgc2hvd01vcmVEaXNhYmxlZCA9IGZhbHNlO1xuICAvLyBkaXNhYmxlZFxuICBASW5wdXQoKSBwdWJsaWMgZGlzYWJsZWQgPSBmYWxzZTtcblxuICAvKiogTnVtYmVyIG9mIGl0ZW1zIHRvIGRpc3BsYXkgb24gYSBwYWdlLiAqL1xuICBASW5wdXQoKVxuICBnZXQgcm93cygpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9yb3dzO1xuICB9XG4gIHNldCByb3dzKHZhbHVlOiBOdW1iZXJJbnB1dCkge1xuICAgIHRoaXMuX3Jvd3MgPSBNYXRoLm1heChjb2VyY2VOdW1iZXJQcm9wZXJ0eSh2YWx1ZSksIDApO1xuICAgIGlmICghdGhpcy5fcm93cykge1xuICAgICAgdGhpcy5fcm93cyA9IHRoaXMucm93c0NvdW50T3B0aW9uc1swXTtcbiAgICB9XG5cbiAgICB0aGlzLmNoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuICB9XG4gIHByaXZhdGUgX3Jvd3MhOiBudW1iZXI7XG5cbiAgLyoqIFRoZSAxLWJhc2VkIHBhZ2UgaW5kZXggb2YgdGhlIGRpc3BsYXllZCBsaXN0IG9mIGl0ZW1zLiBEZWZhdWx0ZWQgdG8gMS4gKi9cbiAgQElucHV0KClcbiAgZ2V0IHBhZ2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50UGFnZTtcbiAgfVxuICBzZXQgcGFnZSh2YWx1ZTogTnVtYmVySW5wdXQpIHtcbiAgICB0aGlzLmN1cnJlbnRQYWdlID0gTWF0aC5tYXgoY29lcmNlTnVtYmVyUHJvcGVydHkodmFsdWUpLCAxKTtcbiAgICB0aGlzLmNoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgQElucHV0KCkgcGFnaW5hdG9yT3B0aW9uczogUHJpem1QYWdpbmF0b3JPcHRpb25zID0ge1xuICAgIG5vUm93c1NlbGVjdG9yOiBmYWxzZSxcbiAgICBub1Jvd3NTZWxlY3RvckxhYmVsOiBmYWxzZSxcbiAgICBub0luZm86IGZhbHNlLFxuICAgIG5vUGFnZXM6IGZhbHNlLFxuICB9O1xuXG4gIEBJbnB1dCgpIHB1YmxpYyBsZWZ0QnV0dG9uTGFiZWwgPSAnJztcbiAgQElucHV0KCkgcHVibGljIHJpZ2h0QnV0dG9uTGFiZWwgPSAnJztcbiAgQElucHV0KCkgbW9yZUJ1dHRvbkxhYmVsID0gJ9Cf0L7QutCw0LfQsNGC0Ywg0LXRidC1JztcblxuICBASW5wdXQoKSBwdWJsaWMgcm93c0NvdW50T3B0aW9uczogbnVtYmVyW10gPSBbXTtcbiAgQE91dHB1dCgpIHB1YmxpYyBwYWdpbmF0b3JDaGFuZ2U6IEV2ZW50RW1pdHRlcjxQcml6bVBhZ2luYXRvck91dHB1dD4gPVxuICAgIG5ldyBFdmVudEVtaXR0ZXI8UHJpem1QYWdpbmF0b3JPdXRwdXQ+KCk7XG4gIEBPdXRwdXQoKSBwdWJsaWMgcGFnZUNoYW5nZTogRXZlbnRFbWl0dGVyPG51bWJlcj4gPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlcj4oKTtcbiAgQE91dHB1dCgpIHB1YmxpYyByb3dzQ2hhbmdlOiBFdmVudEVtaXR0ZXI8bnVtYmVyIHwgbnVsbD4gPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlciB8IG51bGw+KCk7XG5cbiAgb3ZlcnJpZGUgcmVhZG9ubHkgdGVzdElkXyA9ICd1aV9wYWdpbmF0b3InO1xuXG4gIC8qKlxuICAgKiBUaGUgMS1iYXNlZCBwYWdlIGluZGV4IG9mIHRoZSBkaXNwbGF5ZWQgbGlzdCBvZiBpdGVtcy5cbiAgICovXG4gIHB1YmxpYyBjdXJyZW50UGFnZSA9IDE7XG4gIC8vINCa0L7Qu9C40YfQtdGB0LLRgtC+INC/0LDQutC10YLQvtCyID0g0KHRg9C80LzQsNGA0L3QvtC1INC60L7Qu9C40YfQtdGB0YLQstC+INC00LDQvdC90YvRhSAvINCh0LrQvtC70YzQutC+INC00LDQvdC90YvRhSDQsiDQvtC00L3QvtC8INC/0LDQutC10YLQtVxuICBwdWJsaWMgcGFnZXNDb3VudCA9IDA7XG5cbiAgLy8gYEFzeW5jU3ViamVjdGAgdXNlZCBzbyB3aGF0IGxhdGUgc3Vic2NyaWJlcnMgbm90aWZpZWQgaW1tZWRpYXRlbHkuXG4gIHByaXZhdGUgcmVhZG9ubHkgaW5pdGlhbGl6ZWQkJCA9IG5ldyBBc3luY1N1YmplY3Q8dm9pZD4oKTtcblxuICBwdWJsaWMgcmVhZG9ubHkgaW5pdGlhbGl6ZWQgPSB0aGlzLmluaXRpYWxpemVkJCQuYXNPYnNlcnZhYmxlKCk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgQEluamVjdChQUklaTV9QQUdJTkFUT1IpXG4gICAgcHVibGljIHJlYWRvbmx5IHBhZ2luYXRvciQ6IE9ic2VydmFibGU8UHJpem1MYW5ndWFnZVBhZ2luYXRvclsncGFnaW5hdG9yJ10+LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgY2hhbmdlRGV0ZWN0b3JSZWY6IENoYW5nZURldGVjdG9yUmVmXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLnBhZ2luYXRpb25HZW5lcmF0b3IoKTtcbiAgICB0aGlzLmluaXRpYWxpemVkJCQubmV4dCgpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZWQkJC5jb21wbGV0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGxpc3Qgb2YgcGFnZSBvcHRpb25zIHRvIGRpc3BsYXkgdG8gdGhlIHVzZXIuXG4gICAqL1xuICBwdWJsaWMgcGFnaW5hdGlvbkdlbmVyYXRvcigpOiBQcml6bVBhZ2luYXRvckRhdGEgfCBudWxsIHtcbiAgICBpZiAodGhpcy5pc0RhdGFWYWxpZCkge1xuICAgICAgY29uc3QgYWxsTnVtYmVycyA9IG5ldyBBcnJheSh0aGlzLnBhZ2VzQ291bnQpLmZpbGwoMCkubWFwKChwYWdlLCBpKSA9PiBpICsgMSk7XG5cbiAgICAgIGxldCBtaWQ6IG51bWJlcltdO1xuICAgICAgaWYgKHRoaXMuY3VycmVudFBhZ2UgLSBNYXRoLmNlaWwoKHRoaXMucGFnZUxpbmtTaXplIC0gMSkgLyAyKSA8PSAxKSB7XG4gICAgICAgIG1pZCA9IGFsbE51bWJlcnMuZmlsdGVyKGl0ZW0gPT4gaXRlbSA8PSB0aGlzLnBhZ2VMaW5rU2l6ZSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudFBhZ2UgKyBNYXRoLmNlaWwoKHRoaXMucGFnZUxpbmtTaXplIC0gMSkgLyAyKSA+PSB0aGlzLnBhZ2VzQ291bnQpIHtcbiAgICAgICAgbWlkID0gYWxsTnVtYmVycy5maWx0ZXIoaXRlbSA9PiBpdGVtID4gdGhpcy5wYWdlc0NvdW50IC0gdGhpcy5wYWdlTGlua1NpemUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWlkID0gYWxsTnVtYmVycy5maWx0ZXIoXG4gICAgICAgICAgaXRlbSA9PlxuICAgICAgICAgICAgaXRlbSA+PSB0aGlzLmN1cnJlbnRQYWdlIC0gTWF0aC5jZWlsKCh0aGlzLnBhZ2VMaW5rU2l6ZSAtIDEpIC8gMikgJiZcbiAgICAgICAgICAgIGl0ZW0gPD0gdGhpcy5jdXJyZW50UGFnZSArIE1hdGguZmxvb3IoKHRoaXMucGFnZUxpbmtTaXplIC0gMSkgLyAyKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNoYW5nZURldGVjdG9yUmVmLm1hcmtGb3JDaGVjaygpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBtaWQ6IG1pZCxcbiAgICAgICAgbGVmdDogbWlkWzBdID09PSAxID8gbnVsbCA6IDEsXG4gICAgICAgIHJpZ2h0OiBtaWRbbWlkLmxlbmd0aCAtIDFdID09PSB0aGlzLnBhZ2VzQ291bnQgPyBudWxsIDogdGhpcy5wYWdlc0NvdW50LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgcmVhbFRvdGFsUmVjb3JkKCk6IG51bWJlciB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLnBhZ2luYXRvclR5cGUgPT09ICdpbmZpbml0ZScgPyB0aGlzLnJvd3MgKiAodGhpcy5jdXJyZW50UGFnZSArIDEpIDogdGhpcy50b3RhbFJlY29yZHM7XG4gIH1cblxuICAvKipcbiAgICogVHJpZXMgdG8gbm9ybWFsaXplIHBhZ2luYXRvciBjb25maWd1cmF0aW9uLlxuICAgKi9cbiAgcHVibGljIGdldCBpc0RhdGFWYWxpZCgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMucm93cykgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghdGhpcy50b3RhbFJlY29yZHMpIHJldHVybiBmYWxzZTtcblxuICAgIHRoaXMucGFnZXNDb3VudCA9IE1hdGguY2VpbCh0aGlzLnRvdGFsUmVjb3JkcyAvIHRoaXMucm93cyk7XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IE1hdGgubWluKHRoaXMuY3VycmVudFBhZ2UsIHRoaXMucGFnZXNDb3VudCkgfHwgMTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcHVibGljIGNoYW5nZVBhZ2UocGFnZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgcHJldiA9IHRoaXMuY3VycmVudFBhZ2U7XG4gICAgdGhpcy5wYWdlID0gcGFnZTtcblxuICAgIC8vIEVtaXQgb25seSBpZiByZWFsIHZhbHVlIHdhcyBjaGFuZ2VkIGJ5IHRoZSBzZXR0ZXJcbiAgICBpZiAodGhpcy5jdXJyZW50UGFnZSAhPT0gcHJldikge1xuICAgICAgdGhpcy5lbWl0UGFnZUNoYW5nZSgpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBpbmNyZWFzZSgpOiB2b2lkIHtcbiAgICB0aGlzLmNoYW5nZVBhZ2UodGhpcy5wYWdlICsgMSk7XG4gIH1cblxuICBwdWJsaWMgZGVjcmVhc2UoKTogdm9pZCB7XG4gICAgdGhpcy5jaGFuZ2VQYWdlKHRoaXMucGFnZSAtIDEpO1xuICB9XG4gIHB1YmxpYyB0b0xhc3RQYWdlKCk6IHZvaWQge1xuICAgIHRoaXMuY2hhbmdlUGFnZSh0aGlzLnBhZ2VzQ291bnQpO1xuICB9XG5cbiAgcHVibGljIHRvRmlyc3RQYWdlKCk6IHZvaWQge1xuICAgIHRoaXMuY2hhbmdlUGFnZSgwKTtcbiAgfVxuXG4gIHByaXZhdGUgZW1pdFBhZ2VDaGFuZ2UoKTogdm9pZCB7XG4gICAgdGhpcy5wYWdlQ2hhbmdlLmVtaXQodGhpcy5jdXJyZW50UGFnZSk7XG4gICAgdGhpcy5lbWl0UGFnaW5hdG9yQ2hhbmdlcygpO1xuICB9XG5cbiAgcHJpdmF0ZSBlbWl0UGFnaW5hdG9yQ2hhbmdlcygpOiB2b2lkIHtcbiAgICB0aGlzLnBhZ2luYXRvckNoYW5nZS5lbWl0KHtcbiAgICAgIHBhZ2U6IHRoaXMuY3VycmVudFBhZ2UsXG4gICAgICBmaXJzdDogKHRoaXMuY3VycmVudFBhZ2UgLSAxKSAqIHRoaXMucm93cyArIDEsXG4gICAgICByb3dzOiB0aGlzLnJvd3MsXG4gICAgICBwYWdlc0NvdW50OiB0aGlzLnBhZ2luYXRvclR5cGUgPT09ICdpbmZpbml0ZScgPyBudWxsIDogdGhpcy5wYWdlc0NvdW50LFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGNoYW5nZVJvd3Mocm93czogbnVsbCB8IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLnJvd3MgPT09IHJvd3MpIHJldHVybjtcbiAgICB0aGlzLnJvd3MgPSByb3dzO1xuICAgIHRoaXMucGFnaW5hdGlvbkdlbmVyYXRvcigpO1xuICAgIHRoaXMucm93c0NoYW5nZS5lbWl0KHRoaXMucm93cyk7XG4gICAgdGhpcy5lbWl0UGFnaW5hdG9yQ2hhbmdlcygpO1xuICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XG4gIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG4gICAgPHNwYW5cbiAgICAgIGNsYXNzPVwicm93cyByb3dzX19jb3VudFwiXG4gICAgICAqbmdJZj1cIiFwYWdpbmF0b3JPcHRpb25zPy5ub1Jvd3NTZWxlY3RvciAmJiAhcGFnaW5hdG9yT3B0aW9ucz8ubm9Sb3dzU2VsZWN0b3JMYWJlbFwiXG4gICAgPlxuICAgICAgPG5nLWNvbnRhaW5lciAqcG9seW1vcnBoT3V0bGV0PVwidGV4dE9uUGFnZSBhcyB0aXRsZVwiPlxuICAgICAgICB7eyB0aXRsZSB9fVxuICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgPC9zcGFuPlxuICAgIDxkaXYgY2xhc3M9XCJyb3dzLXNlbGVjdG9yXCIgKm5nSWY9XCIhcGFnaW5hdG9yT3B0aW9ucz8ubm9Sb3dzU2VsZWN0b3JcIj5cbiAgICAgIDxwcml6bS1pbnB1dC1sYXlvdXQgW2ZvcmNlQ2xlYXJdPVwiZmFsc2VcIiBbb3V0ZXJdPVwidHJ1ZVwiIGxhYmVsPVwiXCIgc2l6ZT1cInNcIj5cbiAgICAgICAgPHByaXptLWlucHV0LXNlbGVjdFxuICAgICAgICAgIFtpdGVtc109XCIkYW55KHRoaXMucm93c0NvdW50T3B0aW9ucz8ubGVuZ3RoKSA+IDAgPyB0aGlzLnJvd3NDb3VudE9wdGlvbnMgOiBbcm93c11cIlxuICAgICAgICAgIFtkaXNhYmxlZF09XCJkaXNhYmxlZFwiXG4gICAgICAgICAgW25nTW9kZWxdPVwicm93c1wiXG4gICAgICAgICAgW25nTW9kZWxPcHRpb25zXT1cInsgc3RhbmRhbG9uZTogdHJ1ZSB9XCJcbiAgICAgICAgICBbbnVsbENvbnRlbnRdPVwiJGFueShudWxsKVwiXG4gICAgICAgICAgKG5nTW9kZWxDaGFuZ2UpPVwiY2hhbmdlUm93cygkZXZlbnQpXCJcbiAgICAgICAgPjwvcHJpem0taW5wdXQtc2VsZWN0PlxuICAgICAgPC9wcml6bS1pbnB1dC1sYXlvdXQ+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuXG4gIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG4gICAgPHNwYW4gY2xhc3M9XCJyb3dzIHJvd3NfX3Nob3dcIiAqbmdJZj1cIiFwYWdpbmF0b3JPcHRpb25zPy5ub0luZm9cIiBbaGlkZGVuXT1cImRpc2FibGVkXCI+XG4gICAgICB7eyBwYWdpbmF0b3IkIHwgYXN5bmMgfCBwcml6bVBsdWNrIDogWydsaW5lc1Nob3duJ10gfX0ge3sgKGN1cnJlbnRQYWdlIC0gMSkgKiByb3dzICsgMSB9fS17e1xuICAgICAgICBjdXJyZW50UGFnZSAqIHJvd3MgPiAkYW55KHRvdGFsUmVjb3JkcykgPyB0b3RhbFJlY29yZHMgOiBjdXJyZW50UGFnZSAqIHJvd3NcbiAgICAgIH19XG4gICAgICDQuNC3IHt7IHJlYWxUb3RhbFJlY29yZCB9fVxuICAgIDwvc3Bhbj5cbiAgICA8ZGl2XG4gICAgICBjbGFzcz1cInBhZ2luYXRvciBwYWdpbmF0b3JfX2Zpbml0ZVwiXG4gICAgICAqbmdJZj1cInBhZ2luYXRvclR5cGUgPT09ICdmaW5pdGUnICYmIHBhZ2luYXRpb25HZW5lcmF0b3IoKSBhcyBwYWdpbmdEYXRhXCJcbiAgICA+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzPVwiY29udHJvbCBjb250cm9sX2xlZnRcIlxuICAgICAgICAqbmdJZj1cInBhZ2luYXRvck9wdGlvbnMubm9Ub0ZpcnN0UGFnZUJ0biA/PyB0cnVlXCJcbiAgICAgICAgW2ljb25dPVwiJ2NoZXZyb25zLWRvdWJsZS1sZWZ0J1wiXG4gICAgICAgIFtkaXNhYmxlZF09XCJkaXNhYmxlZCB8fCBjdXJyZW50UGFnZSA9PT0gMVwiXG4gICAgICAgIChjbGljayk9XCJ0b0ZpcnN0UGFnZSgpXCJcbiAgICAgICAgcHJpem1JY29uQnV0dG9uXG4gICAgICAgIGFwcGVhcmFuY2VUeXBlPVwiZ2hvc3RcIlxuICAgICAgICBhcHBlYXJhbmNlPVwic2Vjb25kYXJ5XCJcbiAgICAgICAgc2l6ZT1cIm1cIlxuICAgICAgPjwvYnV0dG9uPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzcz1cImNvbnRyb2wgY29udHJvbF9sZWZ0XCJcbiAgICAgICAgKm5nSWY9XCIhbGVmdEJ1dHRvbkxhYmVsOyBlbHNlIGxlZnRMYWJlbEJ0blwiXG4gICAgICAgIFtpY29uXT1cIidhcnJvd3MtY2hldnJvbi1sZWZ0J1wiXG4gICAgICAgIFtkaXNhYmxlZF09XCJkaXNhYmxlZCB8fCBjdXJyZW50UGFnZSA9PT0gMVwiXG4gICAgICAgIChjbGljayk9XCJkZWNyZWFzZSgpXCJcbiAgICAgICAgcHJpem1JY29uQnV0dG9uXG4gICAgICAgIGFwcGVhcmFuY2VUeXBlPVwiZ2hvc3RcIlxuICAgICAgICBhcHBlYXJhbmNlPVwic2Vjb25kYXJ5XCJcbiAgICAgICAgc2l6ZT1cIm1cIlxuICAgICAgPjwvYnV0dG9uPlxuICAgICAgPG5nLXRlbXBsYXRlICNsZWZ0TGFiZWxCdG4+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzcz1cImNvbnRyb2wgY29udHJvbF9sZWZ0XCJcbiAgICAgICAgICAqbmdJZj1cImxlZnRCdXR0b25MYWJlbFwiXG4gICAgICAgICAgW2ljb25dPVwiJ2Fycm93cy1jaGV2cm9uLWxlZnQnXCJcbiAgICAgICAgICBbZGlzYWJsZWRdPVwiZGlzYWJsZWQgfHwgY3VycmVudFBhZ2UgPT09IDFcIlxuICAgICAgICAgIChjbGljayk9XCJkZWNyZWFzZSgpXCJcbiAgICAgICAgICBwcml6bUJ1dHRvblxuICAgICAgICAgIGFwcGVhcmFuY2VUeXBlPVwiZ2hvc3RcIlxuICAgICAgICAgIGFwcGVhcmFuY2U9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgIHNpemU9XCJtXCJcbiAgICAgICAgPlxuICAgICAgICAgIHt7IGxlZnRCdXR0b25MYWJlbCB9fVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbmctdGVtcGxhdGU+XG5cbiAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCIhcGFnaW5hdG9yT3B0aW9ucz8ubm9QYWdlc1wiPlxuICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwicGFnaW5nRGF0YS5sZWZ0XCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3M9XCJwYWdlXCJcbiAgICAgICAgICAgIFtkaXNhYmxlZF09XCJkaXNhYmxlZFwiXG4gICAgICAgICAgICAoY2xpY2spPVwiY2hhbmdlUGFnZShwYWdpbmdEYXRhLmxlZnQpXCJcbiAgICAgICAgICAgIHByaXptQnV0dG9uXG4gICAgICAgICAgICBhcHBlYXJhbmNlVHlwZT1cImdob3N0XCJcbiAgICAgICAgICAgIGFwcGVhcmFuY2U9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgc2l6ZT1cIm1cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt7IHBhZ2luZ0RhdGEubGVmdCB9fVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzPVwiZG90c1wiXG4gICAgICAgICAgICAqbmdJZj1cInBhZ2luZ0RhdGEubGVmdCArIDEgIT09IHBhZ2luZ0RhdGEubWlkWzBdXCJcbiAgICAgICAgICAgIFtjbGFzcy5kb3RzX2Rpc2FibGVkXT1cImRpc2FibGVkXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICAuLi5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9uZy1jb250YWluZXI+XG5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzPVwicGFnZVwiXG4gICAgICAgICAgKm5nRm9yPVwibGV0IHBhZ2Ugb2YgcGFnaW5nRGF0YS5taWRcIlxuICAgICAgICAgIFtkaXNhYmxlZF09XCJkaXNhYmxlZFwiXG4gICAgICAgICAgW3BzZXVkb1ByZXNzZWRdPVwicGFnZSA9PT0gY3VycmVudFBhZ2VcIlxuICAgICAgICAgIChjbGljayk9XCJjaGFuZ2VQYWdlKHBhZ2UpXCJcbiAgICAgICAgICBwcml6bUJ1dHRvblxuICAgICAgICAgIGFwcGVhcmFuY2VUeXBlPVwiZ2hvc3RcIlxuICAgICAgICAgIGFwcGVhcmFuY2U9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgIHNpemU9XCJtXCJcbiAgICAgICAgPlxuICAgICAgICAgIHt7IHBhZ2UgfX1cbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInBhZ2luZ0RhdGEucmlnaHRcIj5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzcz1cImRvdHNcIlxuICAgICAgICAgICAgKm5nSWY9XCJwYWdpbmdEYXRhLnJpZ2h0IC0gMSAhPT0gcGFnaW5nRGF0YS5taWRbcGFnaW5nRGF0YS5taWQubGVuZ3RoIC0gMV1cIlxuICAgICAgICAgICAgW2NsYXNzLmRvdHNfZGlzYWJsZWRdPVwiZGlzYWJsZWRcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIC4uLlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzPVwicGFnZVwiXG4gICAgICAgICAgICBbZGlzYWJsZWRdPVwiZGlzYWJsZWRcIlxuICAgICAgICAgICAgKGNsaWNrKT1cImNoYW5nZVBhZ2UocGFnaW5nRGF0YS5yaWdodClcIlxuICAgICAgICAgICAgcHJpem1CdXR0b25cbiAgICAgICAgICAgIGFwcGVhcmFuY2VUeXBlPVwiZ2hvc3RcIlxuICAgICAgICAgICAgYXBwZWFyYW5jZT1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICBzaXplPVwibVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge3sgcGFnaW5nRGF0YS5yaWdodCB9fVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgIDwvbmctY29udGFpbmVyPlxuXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzPVwiY29udHJvbCBjb250cm9sX3JpZ2h0XCJcbiAgICAgICAgKm5nSWY9XCIhcmlnaHRCdXR0b25MYWJlbDsgZWxzZSByaWdodExhYmVsQnRuXCJcbiAgICAgICAgW2ljb25dPVwiJ2Fycm93cy1jaGV2cm9uLXJpZ2h0J1wiXG4gICAgICAgIFtkaXNhYmxlZF09XCJkaXNhYmxlZCB8fCAoY3VycmVudFBhZ2UgPT09IHBhZ2VzQ291bnQgPz8gY3VycmVudFBhZ2UgPT09IDApXCJcbiAgICAgICAgKGNsaWNrKT1cImluY3JlYXNlKClcIlxuICAgICAgICBwcml6bUljb25CdXR0b25cbiAgICAgICAgYXBwZWFyYW5jZVR5cGU9XCJnaG9zdFwiXG4gICAgICAgIGFwcGVhcmFuY2U9XCJzZWNvbmRhcnlcIlxuICAgICAgICBzaXplPVwibVwiXG4gICAgICA+PC9idXR0b24+XG4gICAgICA8bmctdGVtcGxhdGUgI3JpZ2h0TGFiZWxCdG4+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzcz1cImNvbnRyb2xfcmlnaHRcIlxuICAgICAgICAgIFtpY29uUmlnaHRdPVwiJ2Fycm93cy1jaGV2cm9uLXJpZ2h0J1wiXG4gICAgICAgICAgW2Rpc2FibGVkXT1cImRpc2FibGVkIHx8IChjdXJyZW50UGFnZSA9PT0gcGFnZXNDb3VudCA/PyBjdXJyZW50UGFnZSA9PT0gMClcIlxuICAgICAgICAgIChjbGljayk9XCJpbmNyZWFzZSgpXCJcbiAgICAgICAgICBwcml6bUJ1dHRvblxuICAgICAgICAgIGFwcGVhcmFuY2VUeXBlPVwiZ2hvc3RcIlxuICAgICAgICAgIGFwcGVhcmFuY2U9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgIHNpemU9XCJtXCJcbiAgICAgICAgPlxuICAgICAgICAgIHt7IHJpZ2h0QnV0dG9uTGFiZWwgfX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L25nLXRlbXBsYXRlPlxuXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzPVwiY29udHJvbCBjb250cm9sX3JpZ2h0XCJcbiAgICAgICAgKm5nSWY9XCJwYWdpbmF0b3JPcHRpb25zLm5vVG9MYXN0UGFnZUJ0biA/PyB0cnVlXCJcbiAgICAgICAgW2ljb25dPVwiJ2NoZXZyb25zLWRvdWJsZS1yaWdodCdcIlxuICAgICAgICBbZGlzYWJsZWRdPVwiZGlzYWJsZWQgfHwgKGN1cnJlbnRQYWdlID09PSBwYWdlc0NvdW50ID8/IGN1cnJlbnRQYWdlID09PSAwKVwiXG4gICAgICAgIChjbGljayk9XCJ0b0xhc3RQYWdlKClcIlxuICAgICAgICBwcml6bUljb25CdXR0b25cbiAgICAgICAgYXBwZWFyYW5jZVR5cGU9XCJnaG9zdFwiXG4gICAgICAgIGFwcGVhcmFuY2U9XCJzZWNvbmRhcnlcIlxuICAgICAgICBzaXplPVwibVwiXG4gICAgICA+PC9idXR0b24+XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzPVwicGFnaW5hdG9yIHBhZ2luYXRvcl9faW5maW5pdGVcIiAqbmdJZj1cInBhZ2luYXRvclR5cGUgPT09ICdpbmZpbml0ZSdcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgW2Rpc2FibGVkXT1cImRpc2FibGVkIHx8IHNob3dNb3JlRGlzYWJsZWRcIlxuICAgICAgICAoY2xpY2spPVwiaW5jcmVhc2UoKVwiXG4gICAgICAgIHByaXptQnV0dG9uXG4gICAgICAgIGFwcGVhcmFuY2VUeXBlPVwiZ2hvc3RcIlxuICAgICAgICBhcHBlYXJhbmNlPVwicHJpbWFyeVwiXG4gICAgICAgIHNpemU9XCJtXCJcbiAgICAgID5cbiAgICAgICAge3sgbW9yZUJ1dHRvbkxhYmVsIH19XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbiJdfQ==